"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[22053],{22053:function(e,t,n){n.d(t,{Z:function(){return Un}});var r=n(20348),o=n(93586),i=n(89703),c=n(75448),a=n(64875),s=n(96796),l=n(33212),u=n(49227),d=n(78050),f=n(72930),p=n(4229),v=n(63055),b=n(39238),h=n(56116),m=n(49890),g=n(88753),w=n.n(g),y=n(52198),x=n(37103),O=n(51945),j=n(46662);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T={testOutputExpanded:!1,testExecResult:null,testExecError:null,testExecInProgress:!1,outputHeight:0},N=function(e){var t=e.dockerRunner,n=(0,O.GN)(),o=(0,i.useState)(T),c=o[0],a=o[1],s=function(){var e=(0,y.Z)(w().mark((function e(){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){return x.YB.add(x.lx.TEST,s),function(){x.YB.remove(x.lx.TEST,s),n.stop()}}),[]);var u=function(){var e=(0,y.Z)(w().mark((function e(t){var n,r;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.results,r=t.error,a(E(E({},T),{},{testExecInProgress:!1,testExecResult:n,testExecError:r}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var r=(0,y.Z)(w().mark((function r(){var o,i,c,s,d,f,p,v,b,h,m,g,y,x,j;return w().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a(E(E({},T),{},{testOutputExpanded:!0,testExecResult:null,testExecError:null,testExecInProgress:!0,outputHeight:l.UN})),s=e.authorId,d=e.collectionId,f=e.pageType,p=e.pageId,v=e.docker,b=e.testingDocker,h=e.config.inEditor,m=e.projectId,g={app_id:null===v||void 0===v||null===(o=v.container)||void 0===o||null===(i=o.liveInstance)||void 0===i?void 0:i.id,image_name:null===b||void 0===b||null===(c=b.container)||void 0===c?void 0:c.imageName,test_job:null===t||void 0===t?void 0:t.testScript,envs:(null===b||void 0===b?void 0:b.envs)||[]},r.next=7,(0,O.s$)({authorId:s,pageId:p,containerInfo:g,inEditor:h,workId:d,documentType:f,docId:m});case 7:if(y=r.sent,x=y.testingContainerStatus,j=y.attemptCount,x!==O.bO.ALLOCATION_FAILED){r.next=13;break}return a(E(E({},T),{},{testExecInProgress:!1,testExecError:"Couldn't run the tests. Make sure to run your code once before testing."})),r.abrupt("return");case 13:(0,O.m_)({authorId:s,collectionId:d,pageId:p,pageType:f,attemptCount:j,docId:m,inEditor:h},n,u);case 14:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return(0,r.jsx)("div",{className:"w-full h-full flex justify-center mt-2",children:(0,r.jsx)(j.Z,{className:"bg-white",inProgress:c.testExecInProgress,result:c.testExecResult,error:c.testExecError})})};function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=function(e){return e&&Object.keys(e).length>0&&e.id!==s.Pk.id},D=(0,f.default)((function(){return n.e(70162).then(n.bind(n,70162))}),{loading:function(){return(0,r.jsx)("div",{children:"Loading..."})},ssr:!1,loadableGenerated:{webpack:function(){return[70162]},modules:["../components/widgets/Workspace/viewer/panel/utils.tsx -> components/widgets/Workspace/viewer/panel/browser"]}}),S=String(p.ll),R=function(e){return"App ".concat(e)},Z=function(e){return e.name.startsWith("App ")},F={terminal:"Terminal",browser:"Browser",results:"Results"},A=function(e){var t=e.name;return[F.browser,R(F.browser)].includes(t)},L=function(e){var t=e.name;return[F.terminal,R(F.terminal)].includes(t)},_=function(e){var t=e.name;return[F.results,R(F.results)].includes(t)},M="tabsPanel",U="stackPanel",B=function(e){return e===U},W=function(e){return Object.keys(e).filter((function(t){return!!e[t]}))},J=function(e,t){return W(e).length===t},G=function(e){return e.length>0?0:p.ll},H=function(e,t,n,o){var i=(0,p.hC)(F.terminal);return{id:i,name:F.terminal,icon:(0,r.jsx)(h.Z,{}),widget:u.vcf?"Workspace Terminal":(0,r.jsx)(m.Z,{id:i,docker:e,options:o,dockerJob:t,vmPassword:n})}},V=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3?arguments[3]:void 0,i=(0,p.hC)(F.browser);return{id:i,name:F.browser,icon:(0,r.jsx)(v.Z,{}),widget:u.vcf?"Browser":(0,r.jsx)(D,{docker:e,appUrl:t,isInitialTab:n,showAppUrl:!o.hideAppUrl},i)}},z=function(e){var t=(0,p.hC)(F.results);return{id:t,name:F.results,icon:(0,r.jsx)(b.Z,{}),widget:u.vcf?"Results":(0,r.jsx)(N,{pageId:e.pageId,authorId:e.authorId,collectionId:e.collectionId,pageType:e.pageType,testingDocker:e.testingDocker,docker:e.docker,dockerJob:e.dockerJob,dockerRunner:e.dockerRunner,config:e.config,projectId:e.projectId},t)}},Y=function(e,t){var n=t.docker,r=t.dockerJob,o=t.vmPassword,i=t.appUrl,c=t.options,a=t.liveTestingProps,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e===F.terminal&&H(n,r,o,c)||e===F.browser&&V(n,i,s,c)||e===F.results&&z(a)||null},q=function(e){var t=e.options,n=e.docker,r=e.dockerJob,o=e.vmPassword,i=e.appUrl,c=e.pageId,a=e.authorId,s=e.collectionId,l=e.pageType,u=e.testingDocker,d=e.dockerRunner,f=e.config,p=e.projectId;return function(e,t){var n=[],r=n.push.bind(n);return e.isBrowserAllowed&&r(t(F.browser)),e.isTerminalAllowed&&r(t(F.terminal)),e.isTestingEnabled&&r(t(F.results)),n}(t,(function(e){return I(I({},v=Y(e,{docker:n,dockerJob:r,vmPassword:o,appUrl:i,options:t,liveTestingProps:{pageId:c,authorId:a,collectionId:s,pageType:l,testingDocker:u,docker:n,dockerJob:r,dockerRunner:d,config:f,projectId:p}},!0)),{},{name:R(v.name),sticky:!0});var v}))},$=function(e){return function(e,t){var n=[],r=n.push.bind(n);return e.isTerminalAllowed&&r(t(F.terminal)),e.isBrowserAllowed&&r(t(F.browser)),n}(e,(function(e){return{name:e}}))},K=function(e){return J(e,1)&&$(e).pop()},Q=function(e,t){return e.findIndex((function(e){return e.id===t}))},X=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.ll,n=G(e),r=n===p.ll?S:e[n].id,o=Q(e,t);return-1===o?r:e[o].id};function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ne={isTerminalAllowed:!1,isBrowserAllowed:!1,isCodeEditorHidden:!1,isRunButtonHidden:!1,exitProcessOnRun:!0,hideAppUrl:!1},re=function(e){var t=e.children,n=e.className,o=void 0===n?"":n;return(0,r.jsx)("div",{className:"inline-flex items-center mx-3 my-2 ".concat(o),children:t})},oe=function(e){var t=e.children;return(0,r.jsx)("span",{className:"whitespace-nowrap mr-6",children:t})},ie=function(e){var t=e.children,n=e.checked,o=e.onChange,i=e.disabled,c=void 0!==i&&i,s=e.tooltipText,l=void 0===s?"":s;return(0,r.jsxs)(re,{children:[l?(0,r.jsx)(d.Z,{overlay:l,position:"bottom",children:(0,r.jsx)(oe,{children:t})}):(0,r.jsx)(oe,{children:t}),(0,r.jsx)(a.Z,{checked:n,className:"my-0",onChange:function(e){return o(!!e.target.checked)},disabled:c})]})},ce=function(e){var t=e.value,n=e.onChange,o=e.children;return(0,r.jsxs)(re,{className:"flex-grow",children:[(0,r.jsx)(oe,{children:o}),(0,r.jsx)("input",{className:"text-xs h-8 rounded py-1.5 px-3 dark:bg-dark dark:text-primary-light dark:placeholder-gray-600 border-none text-primary no-outline",style:{minWidth:"250px"},value:t,onChange:n})]})},ae={options:ne,dockerJob:s.fw,dockerRunner:s.Pk},se=function(e){var t,n,o,a,d=e.content,f=void 0===d?{}:d,p=e.updateContent,v=e.docker,b=e.testingDocker,h=f.options||ne,m=h.isTerminalAllowed,g=h.isBrowserAllowed,w=h.isCodeEditorHidden,y=h.isRunButtonHidden,x=h.hideAppUrl,O=h.exitProcessOnRun,j=void 0===O||O,k=v.container.liveInstance.url,E=f.appUrl||"/";(0,i.useEffect)((function(){0===Object.keys(f).length&&p(ae)}),[]);var T=function(e){p({dockerRunner:e})},N=!((null===(t=f.dockerJob)||void 0===t?void 0:t.key)!==s.fw.key&&(null===(n=f.dockerJob)||void 0===n?void 0:n.jobType)!==u.d9d.LIVE&&(null===(o=f.dockerJob)||void 0===o?void 0:o.jobType)!==u.d9d.GUI);return(0,r.jsx)("div",{className:"edcomp-toolbar px-4 py-2",children:(0,r.jsxs)("div",{className:"flex flex-wrap items-center leading-loose",children:[(0,r.jsx)(ie,{checked:m,onChange:function(e){return p({options:te(te({},f.options),{},{isTerminalAllowed:e})})},tooltipText:"Allow terminals",children:"Allow Terminals"}),(0,r.jsx)(ie,{checked:g,onChange:function(e){return p({options:te(te({},f.options),{},{isBrowserAllowed:e})})},tooltipText:"Allow browsers",children:"Allow Browsers"}),(0,r.jsx)(ie,{checked:w,onChange:function(e){return p({options:te(te({},f.options),{},{isCodeEditorHidden:e})})},tooltipText:"Hide file tree and code editor",children:"Hide Editor"}),(0,r.jsx)(ie,{checked:y,onChange:function(e){p({options:te(te({},f.options),{},{isRunButtonHidden:e})})},disabled:!(0,s.EE)(f.dockerJob),tooltipText:'Hide "Run Code" button',children:"Hide Run Button"}),(0,r.jsx)(ie,{checked:j,onChange:function(e){p({options:te(te({},f.options),{},{exitProcessOnRun:e})})},disabled:!(0,s.EE)(f.dockerJob)||y,tooltipText:"Exit current running process when run script is executed",children:"Exit Process On Run"}),(0,r.jsx)(ie,{checked:x,onChange:function(e){p({options:te(te({},f.options),{},{hideAppUrl:e})})},disabled:!(m||g||P(f.dockerRunner)),tooltipText:"Hide Default URL and/or tabs",children:"Hide App URL"}),v.loaded&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.ZP,{docker:v,dockerType:l.a5.GENERAL,selectedDockerJob:f.dockerJob,onDockerJobChange:function(t){var n,r;p({dockerJob:t}),((null===t||void 0===t?void 0:t.key)===s.$m||(null===t||void 0===t?void 0:t.jobType)!==u.d9d.LIVE&&(null===t||void 0===t?void 0:t.jobType)!==u.d9d.GUI)&&(null===(n=e.content)||void 0===n||null===(r=n.dockerRunner)||void 0===r?void 0:r.id)!==s.Z3&&T(s.Pk)},className:"mx-3",dropdownStyle:{borderRadius:"9999px"}}),N&&(0,r.jsx)(s.ZP,{className:"mx-3",docker:b,dockerType:l.a5.TESTING,selectedDockerRunner:f.dockerRunner,onDockerRunnerChange:T,dropdownStyle:{borderRadius:"9999px"},visibility:null===b||void 0===b||null===(a=b.container)||void 0===a?void 0:a.imageName}),(0,r.jsx)(ce,{value:k+E,onChange:function(e){var t=e.target.value;p({appUrl:(0,c.jv)(t,k)?t.replace(k,""):"/"})},children:"Default URL"})]})]})})},le=n(51726),ue=n(16962),de=n(12006),fe=n(54783);function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var be,he,me=(0,f.default)((function(){return n.e(47533).then(n.bind(n,47533))}),{loading:function(){return(0,r.jsx)("div",{children:"Loading..."})},ssr:!1,loadableGenerated:{webpack:function(){return[47533]},modules:["../components/widgets/Workspace/viewer/splitter.tsx -> react-split"]}}),ge=function(e){return!!e},we=function(e){var t=e.options,n=e.fileTree,o=e.debugFileTree,i=e.fileEditor,c=e.panel,a=e.showTestFilesTree,s=void 0!==a&&a,l=!t.panel.disabled,u=!t.tree.editorDisabled,d=!t.editor.disabled,f=l&&t.panel.visible,p=u&&t.tree.visible,v=[p?22:0,d?100-(p?22:0)-(f?40:0):0,d?f?40:0:100];return(0,r.jsxs)(me,{sizes:v,minSize:[p?300:0,d?150:0,l?f?300:50:0],gutterSize:0,snapOffset:0,dragInterval:1,className:"flex h-full",gutterStyle:function(e,t,n){return{display:1===n&&p||2===n&&d&&f?"flex":"none","align-items":"center","justify-content":"center"}},gutter:fe.Vn,children:[o?(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"".concat(s?"visible h-full w-full absolute ":"hidden"),children:o}),(0,r.jsx)("div",{className:"".concat(s?"hidden":"visible h-full w-full absolute "),children:n})]}):(0,r.jsx)("div",{className:"relative",children:(0,r.jsxs)("div",{className:"h-full w-full absolute",children:[" ",n]})}),d?(0,r.jsx)("div",{className:"relative",children:(0,r.jsx)("div",{className:"h-full w-full absolute",children:i})}):(0,r.jsx)("div",{}),l?(0,r.jsx)("div",{className:"relative w-full",children:(0,r.jsx)("div",{className:"h-full w-full absolute",children:c})}):(0,r.jsx)("div",{})]})},ye=function(e){var t=e.panelOptions,n=[t.isBrowserAllowed,t.isTerminalAllowed,P(e.dockerRunner)].some(ge),c=(0,i.useState)({tree:{visible:!0,editorDisabled:t.isCodeEditorHidden},editor:{disabled:t.isCodeEditorHidden},panel:{visible:!0,disabled:!n}}),a=c[0],s=c[1];(0,i.useEffect)((function(){s({tree:ve(ve({},a.tree),{},{editorDisabled:t.isCodeEditorHidden}),editor:ve(ve({},a.editor),{},{disabled:t.isCodeEditorHidden}),panel:ve(ve({},a.panel),{},{disabled:!n})})}),[t,n]);var l=function(e){return s(ve(ve({},a),{},(0,o.Z)({},e,ve(ve({},a[e]),{},{visible:!a[e].visible}))))},u=i.cloneElement(e.fileEditor,{toggleTreeVisibility:function(){return l("tree")},isTreeVisible:a.tree.visible}),d=i.cloneElement(e.fileTree,{toggleVisibility:function(){return l("tree")},isEditorEnabled:!a.editor.disabled,isVisible:a.tree.visible}),f=e.fileDebugTree&&i.cloneElement(e.fileDebugTree,{toggleVisibility:function(){return l("tree")},isEditorEnabled:!a.editor.disabled,isVisible:a.tree.visible}),p=i.cloneElement(e.panel,{isVisible:a.panel.visible,isEditorEnabled:!a.editor.disabled,toggleVisibility:function(){return n&&l("panel")}});return(0,r.jsx)("div",{className:"flex h-full w-full",children:(0,r.jsx)("div",{className:"flex-grow overflow-hidden",children:(0,r.jsx)(we,{options:a,fileEditor:u,fileTree:d,showTestFilesTree:e.showTestFiles,debugFileTree:f,panel:p})})})},xe=n(5825);function Oe(){return(Oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var je,ke,Ee=function(e){return i.createElement("svg",Oe({xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 0 24 24",width:24},e),be||(be=i.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),he||(he=i.createElement("path",{d:"M6.8 4.8 5 3 3.6 4.5l1.7 1.8 1.5-1.5zM4 10.5H1v2h3v-2zm9-10h-2v3h2v-3zm7.5 4L19 3l-1.8 1.7 1.5 1.5 1.8-1.8zm-3.3 13.7L19 20l1.4-1.4-1.8-1.8-1.4 1.4zm2.8-7.7v2h3v-2h-3zm-8-5a6 6 0 1 0 0 12 6 6 0 0 0 0-12zm-1 17h2v-3h-2v3zm-7.5-4L5 20l1.8-1.7-1.5-1.5-1.8 1.8z"})))};function Te(){return(Te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ne,Ce=function(e){return i.createElement("svg",Te({xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 0 24 24",width:24},e),je||(je=i.createElement("g",null,i.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}))),ke||(ke=i.createElement("g",null,i.createElement("path",{d:"M9.5 2a10 10 0 0 0-5 1.4 10 10 0 0 1 0 17.2 10 10 0 0 0 15-8.6 10 10 0 0 0-10-10z"}))))},Ie=n(80689),Pe=n(86807),De=n(90890),Se=n(36927),Re=n.n(Se),Ze=n(786),Fe=n.n(Ze);function Ae(){return(Ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Le,_e=function(e){return i.createElement("svg",Ae({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Ne||(Ne=i.createElement("path",{d:"M23.9 13.5l-3 5.2a2.7 2.7 0 01-2.4 1.3H2a1 1 0 01-.9-1.5l3-5.2A2.7 2.7 0 016.3 12H23c.8 0 1.3.8.9 1.5zM6.3 10.7H20v-2a2 2 0 00-2-2h-6.7L8.7 4H2a2 2 0 00-2 2v11.6l2.9-5a4 4 0 013.4-2z",fill:"current"})))};function Me(){return(Me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ue=function(e){return i.createElement("svg",Me({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Le||(Le=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 4h6l2 2h8a2 2 0 012 2v10a2 2 0 01-2 2H4a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm7.2 4l-2-2H4v12h16V8h-8.8z",fill:"current"})))},Be=function(e){var t=e.visibleIcon,n=e.invisibleIcon,o=e.visibility,i=e.onToggle,c=e.name,a=e.className;return(0,r.jsx)(d.Z,{delayShow:500,onClick:i,overlay:"".concat(o?"Hide":"Show"," ").concat(c),parentClasses:"cursor-pointer dark:hover:bg-gray-buttonHover dark:text-gray-500 flex h-12 hover:bg-gray-200 items-center justify-center text-gray-900 w-12",position:u.xRW,children:o?(0,r.jsx)(t,{className:"h-5 w-5 ".concat(a)}):(0,r.jsx)(n,{className:"h-5 w-5 ".concat(a)})},"".concat(c,"-").concat(o))},We=n(7070),Je=n(25452),Ge=n(4083),He=n(18622),Ve=n(59087),ze=function(e){var t=e.isVisible,n=e.onToggle;return(0,r.jsx)(Be,{visibility:t,onToggle:n,name:"panel",visibleIcon:Je.Z,invisibleIcon:We.Z})},Ye=function(e){var t=e.icon,n=e.isActive,o=e.tooltip,i=e.onClick,c=e.btnClass;return(0,r.jsx)(d.Z,{element:"button",delayShow:500,onClick:i,overlay:o,parentClasses:"border border-gray-500 border-solid h-9 w-12 ".concat(c," ").concat(n?"contained-primary dark:text-dark-contrastText text-white":"bg-white dark:bg-black dark:text-white text-black"),position:u.xRW,children:(0,r.jsx)(t,{className:"fill-current"})})},qe=function(e){var t,n=e.currentView,o=e.onChange,i=function(e){e!==n&&o(e)};return(0,r.jsxs)("div",{className:"flex items-center h-full ml-1",children:[(0,r.jsx)(Ye,{tooltip:"Split screen view",isActive:B(n),onClick:function(){return i(U)},icon:Ge.Z,btnClass:"rounded-l-sm rounded-r-none"}),(0,r.jsx)(Ye,{tooltip:"Tabs view",isActive:(t=n,t===M),onClick:function(){return i(M)},icon:He.Z,btnClass:"rounded-r-sm rounded-l-none"})]})},$e=function(e){var t=e.name,n=e.icon,o=void 0===n?null:n,i=e.onCancel,c=void 0===i?null:i,a=e.selected,s=void 0!==a&&a,l=t===F.browser?v.Z:h.Z;return(0,r.jsxs)("div",{className:"flex justify-start flex-grow items-center truncate",children:[(0,r.jsx)("span",{className:"flex flex-col justify-center items-center mr-2",children:null!==o&&void 0!==o?o:(0,r.jsx)(l,{className:"w-5 h-5"})}),(0,r.jsxs)("div",{className:"flex w-full justify-between items-center",children:[(0,r.jsxs)("span",{className:"flex overflow-ellipsis overflow-hidden text-sm mr-2 items-center",children:[t,s&&(0,r.jsx)("span",{className:"rounded-full bg-secondary w-1 h-1 ml-1"})]}),c&&(0,r.jsx)(Ve.Z,{className:"w-4 h-4 ml-2 fill-current text-gray-900 dark:text-dark-contrastText hover:text-error dark:hover:text-error",onClick:c})]})]})},Ke=n(30645),Qe=n(10398),Xe=n(92526);function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nt=function(e){var t=e.random,n=void 0!==t&&t,o=e.className,i=void 0===o?"":o,c=e.dark,a=void 0!==c&&c,s=["w-1/5","w-1/4","w-1/3","w-1/2","w-2/3","w-3/4","w-4/5"];return(0,r.jsx)("div",{className:"animate-pulse ".concat(a?"bg-gray-A400":"bg-gray-300"," ").concat(n?s[Math.round(Math.random()*(s.length-1))]:""," ").concat(i)})},rt=function(){return(0,r.jsxs)("div",{className:"w-full h-full bg-gray-A900",children:[(0,r.jsxs)("div",{className:"w-full h-12 p-4 justify-between items-center flex bg-gray-A900 border-0 border-solid border-gray-900 border-b-2",children:[(0,r.jsx)(nt,{className:"h-6 w-6",dark:!0}),(0,r.jsxs)("div",{className:"flex h-full items-center",children:[Array(5).fill((0,r.jsx)(nt,{className:"h-6 w-6 mx-2",dark:!0})),(0,r.jsx)(nt,{className:"h-6 w-6 ml-2",dark:!0})]})]}),(0,r.jsxs)("div",{className:"w-full h-full py-6 px-4",children:[(0,r.jsx)("div",{className:"w-full flex items-center justify-center",children:(0,r.jsx)(nt,{className:"w-full h-12 mb-6",dark:!0})}),Array(6).fill((0,r.jsxs)("div",{className:"w-full flex my-3",children:[(0,r.jsx)(nt,{className:"w-4 h-4 mr-2",dark:!0}),(0,r.jsx)(nt,{className:"h-4",random:!0,dark:!0})]}))]})]})},ot=function(){var e=(0,Qe.Z)(["theme","use_system_preference"]),t=(0,Ke.Z)(e,1)[0],n=(0,le.ix)((function(e){var t,n;return null===(t=e.user)||void 0===t||null===(n=t.info)||void 0===n?void 0:n.data})),o=(0,le.ix)((function(e){var t,n;return null===(t=e.user)||void 0===t||null===(n=t.info)||void 0===n?void 0:n.loaded})),i=(0,Xe.$z)({cookies:t,userInfo:n,userInfoLoaded:o})===u.gaB.DARK_MODE;return(0,r.jsxs)("div",{className:"w-full h-full flex flex-col",children:[(0,r.jsxs)("div",{className:"w-full flex h-12 bg-gray-50 dark:bg-dark",children:[(0,r.jsx)("div",{className:"flex justify-center items-center h-full p-3 bg-gray-200 dark:bg-gray-A900",children:(0,r.jsx)(nt,{className:"w-4 h-4",dark:i})}),(0,r.jsxs)("div",{className:"flex w-full h-full items-center justify-between p-4",children:[(0,r.jsx)("div",{className:"flex",children:Array(2).fill((0,r.jsx)(nt,{className:"w-16 h-4 mx-4",dark:i}))}),(0,r.jsx)(nt,{className:"h-4 w-4",dark:i})]})]}),(0,r.jsxs)("div",{className:"relative w-full h-full bg-gray-100 dark:bg-dark-90 py-6 px-4",children:[(0,r.jsx)(nt,{className:"h-5 mb-6",random:!0,dark:i}),Array(12).fill((0,r.jsx)(nt,{className:"h-5 my-6",random:!0,dark:i})),(0,r.jsx)(nt,{className:"w-6 h-11 rounded-2xl absolute bottom-6 right-8",dark:i})]})]})},it=function(e){var t=e.isDarkMode,n=void 0===t||t;return(0,r.jsxs)("div",{className:"relative w-full h-full py-6 px-4 ".concat(n?"bg-dark-90":"bg-gray-100"),children:[Array(12).fill((0,r.jsx)(nt,{className:"ml-11 h-5 my-6",random:!0,dark:n})),(0,r.jsx)(nt,{className:"w-6 h-11 rounded-2xl absolute bottom-6 right-8",dark:n})]})},ct=function(e){var t=(0,Qe.Z)(["theme","use_system_preference"]),n=(0,Ke.Z)(t,1)[0],o=(0,le.ix)((function(e){var t,n;return null===(t=e.user)||void 0===t||null===(n=t.info)||void 0===n?void 0:n.data})),i=(0,le.ix)((function(e){var t,n;return null===(t=e.user)||void 0===t||null===(n=t.info)||void 0===n?void 0:n.loaded})),c=(0,Xe.$z)({cookies:n,userInfo:o,userInfoLoaded:i})===u.gaB.DARK_MODE;return(0,r.jsxs)("div",{className:"flex flex-col w-full h-full",children:[(0,r.jsxs)("div",{className:"w-full flex h-12 justify-end items-center p-2 bg-gray-50 dark:bg-dark",children:[(0,r.jsx)(nt,{className:"w-24 h-9 mx-4",dark:c}),(0,r.jsx)(nt,{className:"w-4 h-4",dark:c})]}),(0,r.jsxs)("div",{className:"w-full h-full bg-gray-100 dark:bg-dark-90 py-6 px-4",children:[(0,r.jsx)(nt,{className:"h-5 mb-6",random:!0,dark:c}),Array(12).fill((0,r.jsx)(nt,{className:"h-5 my-6",random:!0,dark:c}))]}),(0,r.jsx)(st,tt({},e))]})},at="flex justify-center items-center h-full bg-gray-200 dark:bg-gray-A900 w-40 py-4 px-6",st=function(e){var t=e.options.isRunButtonHidden,n=void 0!==t&&t,o=e.dockerJob,i=e.dockerRunner,c=(0,Qe.Z)(["theme","use_system_preference"]),a=(0,Ke.Z)(c,1)[0],l=(0,le.ix)((function(e){var t,n;return null===(t=e.user)||void 0===t||null===(n=t.info)||void 0===n?void 0:n.data})),d=(0,le.ix)((function(e){var t,n;return null===(t=e.user)||void 0===t||null===(n=t.info)||void 0===n?void 0:n.loaded})),f=(0,Xe.$z)({cookies:a,userInfo:l,userInfoLoaded:d})===u.gaB.DARK_MODE,p=function(){return!n&&(0,s.EE)(o)},v=function(){return i&&Object.keys(i).length>0&&i.id!==s.Pk.id};return[p(),v()].some((function(e){return e}))?(0,r.jsxs)("div",{className:"w-full h-14 flex justify-end",children:[v()&&(0,r.jsx)("div",{className:at,children:(0,r.jsx)(nt,{className:"w-full h-full",dark:f})}),p()&&(0,r.jsx)("div",{className:at,children:(0,r.jsx)(nt,{className:"w-full h-full",dark:f})})]}):(0,r.jsx)(r.Fragment,{})};function lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lt(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var dt="testfiles",ft="usercode",pt=(0,f.default)((function(){return Promise.all([n.e(49770),n.e(59818),n.e(46887),n.e(19750),n.e(15909),n.e(63e3),n.e(22266)]).then(n.bind(n,63e3))}),{loading:function(){return(0,r.jsx)("div",{children:"Loading..."})},ssr:!1,loadableGenerated:{webpack:function(){return[63e3]},modules:["../components/widgets/Workspace/viewer/fileEditor.tsx -> components/helpers/MonacoEditor"]}}),vt=function(){return(0,r.jsx)(Ee,{className:"h-4 w-4 fill-current text-gray-A200"})},bt=function(e){var t=e.isDarkMode,n=void 0!==t&&t;return(0,r.jsx)(Ce,{className:"h-4 w-3 fill-current ".concat(n?"text-gray-400":"text-gray-200")})},ht=function(e){var t=(0,le.TL)(),n=(0,le.ix)((function(e){return e.userConfig})),o=e.path,a=e.contentLoaded,s=e.content,l=void 0===s?"":s,d=e.newFile,f=void 0!==d&&d,p=e.migration,v=void 0!==p&&p,b=e.isDarkMode,h=void 0!==b&&b,m=e.toggleDarkMode,g=void 0===m?function(){}:m,w=e.dirName,y=void 0===w?ft:w,x=h?xe.OP.default:xe.OP.vsLight,O=(0,i.useState)(""),j=O[0],k=O[1];(0,i.useEffect)((function(){k((function(e){return!f&&v?(0,c.af)(e,l):l}))}),[l]);var E=Re()((function(e){o&&(v?k((function(n){var r=(0,c.FG)(n,e);return r&&t(Pe.J.saveFileContent({saveFile:{path:o,content:r},dirName:y})),e})):t(Pe.J.saveFileContent({saveFile:{path:o,content:e},dirName:y})))}),100);return a?u.vcf?(0,r.jsx)("input",{"data-testid":"file-editor",value:j,onChange:function(e){return E(e.target.value)}}):(0,r.jsxs)("div",{className:"w-full h-full absolute",children:[(0,r.jsx)(pt,{forcedHeight:"100%",onEditorChange:E,codeContent:{entryFileName:o,theme:x,content:j},executionMetadata:n}),(0,r.jsx)(mt,{className:"absolute flex bottom-6 right-8 justify-center",isDarkMode:h,toggleDarkMode:g})]}):(0,r.jsx)(it,{isDarkMode:h})},mt=function(e){var t=e.isDarkMode,n=e.toggleDarkMode,o=e.className,i=void 0===o?"":o;return(0,r.jsx)("div",{className:"transition duration-700 flex flex-col justify-between items-center p-1 h-11 w-6 border-solid border rounded-full cursor-pointer ".concat(t?"bg-dark-80 border-gray-A200 active:border-gray-400":"bg-white border-gray-200 active:border-gray-A200"," ").concat(i),onClick:n,children:t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(vt,{}),(0,r.jsx)(bt,{isDarkMode:t})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(bt,{isDarkMode:t}),(0,r.jsx)(vt,{})]})})},gt=function(e){var t=e.isVisible,n=e.onToggle;return(0,r.jsx)(Be,{visibility:t,onToggle:n,name:"file tree",className:"fill-current",visibleIcon:_e,invisibleIcon:Ue})},wt=function(e){var t=e.isTreeVisible,n=void 0===t||t,c=e.toggleTreeVisibility,a=void 0===c?function(){}:c,s=e.showTestFiles,l=void 0!==s&&s,u=(0,le.TL)(),d=l?dt:ft,f=(0,le.ix)((function(e){return{newFile:e.workspace[d].newFile,removedFile:e.workspace[d].removedFile}})),v=f.newFile,b=f.removedFile,h=(0,i.useState)(!0),m=h[0],g=h[1],w=function(){return g((function(e){return!e}))};i.useEffect((function(){return function(){u(Pe.J.reset({dirName:d}))}}),[]);var y=function(e){return u(Pe.J.requestFile({requestedFile:e,dirName:d}))},x=(0,i.useState)({tabs:[],activeTab:p.ll}),O=x[0],j=x[1];i.useEffect((function(){v&&N(v)}),[v]),i.useEffect((function(){j({tabs:[],activeTab:p.ll})}),[d]),i.useEffect((function(){b&&(I(b,d),u(Pe.J.clearRemoveFile({dirName:d})))}),[b]);var k=function(e){return e.activeTab!==p.ll&&e.tabs[e.activeTab]},E=function(e){var t=k(e);return t?Fe()(e,{tabs:(0,o.Z)({},e.activeTab,{widget:{$set:(0,r.jsx)(ht,{path:t.path,contentLoaded:!1,isDarkMode:m,toggleDarkMode:w,dirName:d})}})}):e},T=function(e,t){return t.tabs.findIndex((function(t){return t.path===e}))},N=function(e){var t=e.path,n=e.content,o=e.migration,i=e.newFile,c=E(O),a=T(t,O);-1!==a?(c.tabs[a].widget=(0,r.jsx)(ht,{path:t,content:n,contentLoaded:!0,isDarkMode:m,newFile:i,migration:o,toggleDarkMode:w,dirName:d}),j({tabs:c.tabs,activeTab:a})):j((0,p.Bh)(c,function(e){var t=e.name,n=e.path,o=e.content,i=e.migration;return{id:(0,p.hC)(t),name:t,path:n,tooltip:n,icon:(0,r.jsx)(De.Z,{filename:t,className:"h-4 w-4 text-black dark:text-white"}),widget:(0,r.jsx)(ht,{path:n,content:o,contentLoaded:!0,isDarkMode:m,newFile:!0,migration:i,toggleDarkMode:w,dirName:d})}}(e)))};(0,i.useEffect)((function(){-1!==O.activeTab&&j((function(e){return{tabs:e.tabs.map((function(e){return ut(ut({},e),{},{widget:i.cloneElement(e.widget,{isDarkMode:m})})})),activeTab:e.activeTab}}))}),[m]);var C=function(e,t){var n=O.tabs[e];v&&v.name&&v.name===n.name&&u(Pe.J.clearOpenFile({dirName:t}));var r=(0,p.on)(O,e);if(k(O)&&O.activeTab===e&&r.tabs.length>0&&r.activeTab!==p.ll){var o=r.tabs[r.activeTab];y(o.path)}j(r)},I=function(e,t){var n=T(e,O);-1!==n&&C(n,t)};return(0,r.jsx)("div",{className:"flex flex-col h-full w-full",children:(0,r.jsx)(Ie.Z,{tabs:O.tabs,activeTab:O.activeTab,defaultMsg:"Open a file by clicking from the file tree",dropdownOptionRenderer:$e,onTabChange:function(e){var t=O.tabs[e],n=E(O);j({tabs:n.tabs,activeTab:e}),y(t.path)},onHiddenTabSelected:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.selectedFromDropdown,r=void 0!==n&&n,o=t.visibleTabsCount,i=void 0===o?-1:o,c=r?E(O):O,a=c.tabs[e],s=i?i-1:e,l=(0,p.Lp)(c.tabs,a,s);j({tabs:l,activeTab:s}),r&&y(a.path)},onCloseTab:C,dirName:d,leftComponent:(0,r.jsx)(gt,{isVisible:n,onToggle:a})})})},yt=n(43710),xt=n(58055),Ot=n(13561),jt=n(31428),kt=n(27018),Et=n(29799),Tt=n(79003),Nt=n(70989),Ct=n(22857);function It(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Pt=function(e){var t=e,n=null,r=function(){},i=0,c=!1,a=!0,s=function(){return n&&n.readyState===WebSocket.OPEN},l=function(){n=null,t=null},u=function(e){r(e),l()};return{connect:function(e){var s=e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?It(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):It(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({onConnect:function(){},onClose:function(){},onReconnect:function(){},onDisconnect:function(){},onMsg:function(){}},e),l=s.onMsg,d=s.onConnect,f=s.onReconnect,p=s.onDisconnect,v=s.onClose,b=s.vmPassword;r=v,(n=new Ct.Z(t,b,{minReconnectionDelay:2e3,maxRetries:5})).onopen=function(){c&&f(),c=!1,a&&(a=!1,d())},n.onmessage=function(e){l(function(e){return JSON.parse(e)}(e.data))},n.onclose=function(){var e=(0,y.Z)(w().mark((function e(t){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c?5===++i&&u(t):(p(),c=!0);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},send:function(e){s&&n.send(function(e){return JSON.stringify(e)}(e))},close:function(){n&&(n.close(),l())}}},Dt=n(5120);function St(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Rt=function(){var e=null,t=function(t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?St(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):St(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({widgetId:e},t)};return{handleResponse:function(t){return!!function(t){return t.widgetId===e||[Dt.ZE.CONNECTED,Dt.ZE.DISCONNECTED].includes(t.event)}(t)&&(t.event===Dt.ZE.CONNECTED&&(e=t.widgetId),!0)},connect:function(e){return{widgetId:e,event:Dt.dW.CONNECT,migration:!0}},getTree:function(e){return t({event:Dt.dW.TREE,file:e})},getFileAncestorsItems:function(e){return t({event:Dt.dW.ANCESTORS_ITEMS,file:e})},createFile:function(e){return t({event:Dt.dW.TOUCH,file:e})},getFileContent:function(e){return t({event:Dt.dW.OPEN,file:e})},copyFile:function(e,n){return t({event:Dt.dW.COPY_FILE,file:e,destination:n})},updateFileContent:function(e,n){return t({event:Dt.dW.UPDATE,file:e,data:n})},getFileContentOnly:function(e){return t({event:Dt.dW.GET_FILE_CONTENT,file:e})},createFolder:function(e){return t({event:Dt.dW.MKDIR,file:e})},removeItem:function(e){return t({event:Dt.dW.RM,file:e})},moveItem:function(e,n){return t({event:Dt.dW.MV,file:e,destination:n})},upload:function(e){return t({event:Dt.dW.UPLOAD,data:e})},compressFolder:function(e){return t({event:Dt.dW.COMPRESS_FOLDER,file:e})}}};function Zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zt(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function At(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,Et.Z)(e);if(t){var o=(0,Et.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,kt.Z)(this,n)}}var Lt=function(){function e(){(0,Tt.Z)(this,e),(0,o.Z)(this,"socket",null),(0,o.Z)(this,"route",""),(0,o.Z)(this,"onClose",(function(){})),this.init=this.init.bind(this),this.tryToSend=this.tryToSend.bind(this),this.close=this.close.bind(this)}return(0,Nt.Z)(e,[{key:"init",value:function(e){this.socket&&this.close(),this.onClose=e.onClose;var t=e.endpoint;this.socket=Pt("".concat("wss","://").concat(t,"/").concat(this.route).concat(e.dirName?u.vcf?"?watch="+e.dirName:"&watch="+e.dirName:""))}},{key:"tryToSend",value:function(e){try{if(!this.socket)throw new Error("Socket is not connected yet!");if(!e)return;this.socket.send(e)}catch(t){console.log("Failed to send message over the socket, here is the error",t)}}},{key:"closeSocket",value:function(){this.socket&&(this.socket.close(),this.socket=null)}},{key:"close",value:function(){this.closeSocket(),this.onClose(),this.onClose=function(){}}}]),e}(),_t=function(e){(0,jt.Z)(n,e);var t=At(n);function n(){var e;return(0,Tt.Z)(this,n),e=t.call(this),(0,o.Z)((0,xt.Z)(e),"proto",null),e.route="watcher".concat(u.vcf?"":"?idPort=true"),e.init=e.init.bind((0,xt.Z)(e)),e.close=e.close.bind((0,xt.Z)(e)),e.getTree=e.getTree.bind((0,xt.Z)(e)),e.getFileAncestorsItems=e.getFileAncestorsItems.bind((0,xt.Z)(e)),e.createFile=e.createFile.bind((0,xt.Z)(e)),e.createFolder=e.createFolder.bind((0,xt.Z)(e)),e.getFileContent=e.getFileContent.bind((0,xt.Z)(e)),e.updateFileContent=e.updateFileContent.bind((0,xt.Z)(e)),e.copyFile=e.copyFile.bind((0,xt.Z)(e)),e.downloadFile=e.downloadFile.bind((0,xt.Z)(e)),e.removeItem=e.removeItem.bind((0,xt.Z)(e)),e.moveItem=e.moveItem.bind((0,xt.Z)(e)),e.upload=e.upload.bind((0,xt.Z)(e)),e.compressFolder=e.compressFolder.bind((0,xt.Z)(e)),e}return(0,Nt.Z)(n,[{key:"init",value:function(e){var t=this;(0,Ot.Z)((0,Et.Z)(n.prototype),"init",this).call(this,e),this.proto=Rt();var r=e.widgetId,o=function(n){t.proto&&t.proto.handleResponse(n)&&e.onMsgReceive(n)};this.socket.connect(Ft(Ft({},e),{},{onConnect:function(){var n;return t.tryToSend(null===(n=t.proto)||void 0===n?void 0:n.connect(e.widgetId))},onReconnect:function(){return o({event:Dt.ZE.RECONNECTED,widgetId:r})},onDisconnect:function(){return o({event:Dt.ZE.RECONNECTING,widgetId:r})},onMsg:o,onClose:this.close}))}},{key:"close",value:function(){(0,Ot.Z)((0,Et.Z)(n.prototype),"close",this).call(this),this.proto=null}},{key:"getTree",value:function(e){var t;this.tryToSend(null===(t=this.proto)||void 0===t?void 0:t.getTree(e))}},{key:"getFileAncestorsItems",value:function(e){var t;this.tryToSend(null===(t=this.proto)||void 0===t?void 0:t.getFileAncestorsItems(e))}},{key:"createFile",value:function(e){var t;this.tryToSend(null===(t=this.proto)||void 0===t?void 0:t.createFile(e))}},{key:"createFolder",value:function(e){var t;this.tryToSend(null===(t=this.proto)||void 0===t?void 0:t.createFolder(e))}},{key:"getFileContent",value:function(e){var t;this.tryToSend(null===(t=this.proto)||void 0===t?void 0:t.getFileContent(e))}},{key:"updateFileContent",value:function(e,t){var n;this.tryToSend(null===(n=this.proto)||void 0===n?void 0:n.updateFileContent(e,t))}},{key:"copyFile",value:function(e,t){var n;this.tryToSend(null===(n=this.proto)||void 0===n?void 0:n.copyFile(e,t))}},{key:"downloadFile",value:function(e){var t;this.tryToSend(null===(t=this.proto)||void 0===t?void 0:t.getFileContentOnly(e))}},{key:"removeItem",value:function(e){var t;this.tryToSend(null===(t=this.proto)||void 0===t?void 0:t.removeItem(e))}},{key:"moveItem",value:function(e,t){var n;this.tryToSend(null===(n=this.proto)||void 0===n?void 0:n.moveItem(e,t))}},{key:"upload",value:function(e){var t;this.tryToSend(null===(t=this.proto)||void 0===t?void 0:t.upload(e))}},{key:"compressFolder",value:function(e){var t;this.tryToSend(null===(t=this.proto)||void 0===t?void 0:t.compressFolder(e))}}]),n}(Lt),Mt=function(e){(0,jt.Z)(n,e);var t=At(n);function n(){var e;return(0,Tt.Z)(this,n),(e=t.call(this)).route="terminal?cols=0&rows=0&idPort=true",e.init=e.init.bind((0,xt.Z)(e)),e.sendStartScript=e.sendStartScript.bind((0,xt.Z)(e)),e.execCmd=e.execCmd.bind((0,xt.Z)(e)),e}return(0,Nt.Z)(n,[{key:"init",value:function(e){var t=this;(0,Ot.Z)((0,Et.Z)(n.prototype),"init",this).call(this,e);var r=e.onConnectPayload;this.socket.connect(Ft(Ft({},e),{},{onConnect:function(){return t.tryToSend(t.sendStartScript(r))},onClose:this.close}))}},{key:"sendStartScript",value:function(e){return{type:"START",payload:e}}},{key:"execCmd",value:function(e){this.tryToSend({type:"CMD",payload:{script:"".concat(e,"\r")}})}}]),n}(Lt),Ut=new _t,Bt=new Mt,Wt=new _t,Jt=n(12962),Gt=n(20767),Ht=n(11693),Vt=n(96520),zt={name:Dt.GW,path:Dt.GW,type:Ht.iB.FOLDER,children:{},loaded:!1,open:!0},Yt=!1,qt=function(e){var t=(0,le.TL)(),n=e.msg,o=e.getTree,c=e.getFile,a=e.getAncestorsItems,s=e.handleWorkspaceSize,l=e.children,d=e.isEditorEnabled,f=e.onClose,p=e.rootFolder,v=(0,i.useState)(zt),b=v[0],h=v[1],m=(0,i.useState)(u.vcf?"123":(0,Gt.x0)()),g=m[0],w=m[1],y=(0,i.useRef)(null),x=function(e,t,n){return(0,Ht.$G)(e,t,(function(e){e.loaded=!0,e.children=(0,Ht.fh)(n,t)}))},O=function(e,t){var n=e;return y.current&&(n=(0,Ht.$G)(n,y.current,(function(e){e.selected=!1}))),n=(0,Ht.$G)(n,t,(function(e){e.selected=!0})),n=(0,Ht.PO)(n,t),y.current=t,n};i.useEffect((function(){n&&T(n)}),[n]);var j=function(e,t){return h((0,Ht.d3)(b,e,t))},k=function(e){return h((0,Ht.cu)(b,e))},E=Vt.ZP.downloadFileFromBase64,T=function(e){var n=e.event,r=e.path,i=e.content,c=e.migration,l=e.size;switch(n){case Dt.ZE.RECONNECTING:h((function(e){return t=e,(0,Ht.$G)(t,Dt.GW,(function(e){e.loaded=!1}));var t}));break;case Dt.ZE.RECONNECTED:h((function(e){return t=e,(0,Ht.$G)(t,Dt.GW,(function(e){e.loaded=!0}));var t}));break;case Dt.ZE.CONNECTED:Yt=c||!1,o(Dt.GW);break;case Dt.ZE.TREE:h((function(e){var t=x(e,r,i);return y.current&&r===(0,Jt.lU)(y.current)&&(t=O(t,y.current)),t}));break;case Dt.ZE.ANCESTORS_ITEMS:h((function(e){return function(e,t,n){var r=Object.keys(n).reduce((function(e,t){return x(e,t,n[t])}),e);return O(r,t)}(e,r,i)}));break;case Dt.ZE.ADD_FILE:j(r,Ht.iB.FILE);break;case Dt.ZE.ADD_DIR:j((0,Jt.o9)(r),Ht.iB.FOLDER);break;case Dt.ZE.REMOVE_FILE:k(r),t(Pe.J.removeFile({removedFile:{path:r},dirName:p}));break;case Dt.ZE.REMOVE_DIR:!function(e){k((0,Jt.o9)(e))}(r);break;case Dt.ZE.FILE_CHANGED:if(!i)break;t(Pe.J.openFile({newFile:{name:(0,Jt.IC)(r),path:r,content:i,migration:Yt},dirName:p}));break;case Dt.ZE.FILE_CONTENT:t(Pe.J.openFile({newFile:{name:(0,Jt.IC)(r),path:r,content:i,newFile:!0,migration:Yt},dirName:p}));var u=(0,Ht.bJ)(b,(0,Jt.lU)(r));u&&u.loaded?h((function(e){return O(e,r)})):a(r);break;case Dt.ZE.FILE_CONTENT_ONLY:E((0,Jt.IC)(r),i);break;case Dt.ZE.COMPRESSING_FOLDER:t(ue.n.show(de.ad,{status:"WAIT",text:"Compressing ".concat(r?'folder "'.concat((0,Jt.IC)(r),'"'):"Workspace")}));break;case Dt.ZE.COMPRESSION_SUCCESSFUL:t(ue.n.close()),E((0,Jt.IC)(r),i);break;case Dt.ZE.UPLOAD_SUCCESSFUL:t(ue.n.showOrUpdate(de.eC,{file:{name:r,uploadStatus:"SUCCESS",uploadDescription:"Upload Successful"}}));break;case Dt.ZE.DISCONNECTED:f();break;case Dt.ZE.COMPRESSION_FAILED:t(ue.n.show(de.ad,{status:"ERROR",text:"Failed to compress ".concat(r?'folder "'.concat((0,Jt.IC)(r),'"'):"Workspace")}));break;case Dt.ZE.TOUCH_FAILED:case Dt.ZE.MKDIR_FAILED:t(ue.n.show(de.ad,{status:"ERROR",text:'File/Folder with the name "'.concat((0,Jt.IC)(r),'" already exists!')}));break;case Dt.ZE.TOO_LARGE_FILE:t(ue.n.show(de.ad,{status:"ERROR",text:'The file "'.concat((0,Jt.IC)(r),'" is too large!')}));break;case Dt.ZE.TOO_LARGE_FOLDER:t(ue.n.show(de.ad,{status:"ERROR",text:"The ".concat(r?'folder "'.concat((0,Jt.IC)(r),'"'):"Workspace"," is too large!")}));break;case Dt.ZE.UPLOAD_FAILED:t(ue.n.showOrUpdate(de.eC,{file:{name:r,uploadStatus:"FAILURE",uploadDescription:'File/Folder with the name "'.concat((0,Jt.IC)(r),'" already exist')}}));break;case Dt.ZE.WORKSPACE_SIZE:s(l)}};return(0,r.jsx)(r.Fragment,{children:d?i.cloneElement(l,{key:g,tree:b,onReload:function(){w((0,Gt.x0)()),o(Dt.GW)},onFolderClick:function(e,t){var n=(0,Ht.$G)(b,e.path,(function(e){e.open=!!t||!e.open}));t&&(n=(0,Ht.PO)(n,e.path)),h(n),!e.loaded&&o(e.path)},onFileClick:function(e){c(e)}}):(0,r.jsx)("div",{})})};function $t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$t(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qt=function(e){var t,n=(0,le.TL)(),o=e.dirName,c=(0,le.ix)((function(e){return{requestedFile:e.workspace[o].requestedFile,saveFile:e.workspace[o].saveFile}})),a=c.requestedFile,s=c.saveFile,l=(0,i.useState)(null),u=l[0],d=l[1],f=null!==(t=e.isDebugMode)&&void 0!==t&&t?Wt:Ut;i.useEffect((function(){return f.init(Kt(Kt({},e),{},{dirName:o,onMsgReceive:function(e){return d(e)}})),function(){return f.closeSocket()}}),[]),i.useEffect((function(){a&&(f.getFileContent(a),n(Pe.J.clearRequestFile({dirName:o})))}),[a,n,f]),i.useEffect((function(){if(s){var e=s.path,t=s.content;f.updateFileContent(e,t),n(Pe.J.clearSaveFileContent({dirName:o}))}}),[s,n,f]);return(0,r.jsx)(qt,{msg:u,getTree:f.getTree,getFile:f.getFileContent,getAncestorsItems:f.getFileAncestorsItems,handleWorkspaceSize:e.handleWorkspaceSize,isEditorEnabled:e.isEditorEnabled,onClose:e.onClose,rootFolder:o,children:(0,r.jsx)(yt.Z,{isVisible:e.isVisible,toggleVisibility:e.toggleVisibility,allowItemVisibilityToggle:!0,onRename:function(e,t){f.moveItem(e,(0,Jt.lU)(e)+t)},onDuplicateFile:function(e,t){f.copyFile(e,(0,Jt.lU)(e)+t)},rootFolder:"/".concat(o),onCreateFile:f.createFile,onCreateFolder:f.createFolder,onDownloadFile:f.downloadFile,onDelete:f.removeItem,onDownloadFolder:function(e){f.compressFolder((0,Jt.sC)(e))},onUploadFile:function(e,t){f.upload({file:t,path:e})}})})},Xt=n(32868),en=n(46365),tn="w-4 h-4 icon-left",nn="h-full w-40",rn=function(e){var t=e.options,n=e.dockerJob,o=e.dockerRunner,i=function(){return!t.isRunButtonHidden&&(0,s.EE)(n)},c=function(){return P(o)};return[i(),c()].some((function(e){return e}))?(0,r.jsxs)("div",{className:"w-full h-14 flex justify-end",children:[c()&&(0,r.jsxs)("button",{className:"outlined-default ".concat(nn),onClick:function(){return x.YB.dispatch(x.lx.TEST)},children:[(0,r.jsx)(en.Z,{className:tn}),"Test Code"]}),i()&&(0,r.jsxs)("button",{className:"contained-primary ".concat(nn),onClick:function(){return x.YB.dispatch(x.lx.RUN)},children:[(0,r.jsx)(en.Z,{className:tn}),"Run Code"]})]}):(0,r.jsx)(r.Fragment,{})};function on(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?on(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):on(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var an=M,sn=F.browser,ln=F.terminal,un=F.results,dn="Open a tab by clicking the plus button",fn={name:ln},pn={name:sn},vn=(0,f.default)((function(){return n.e(47533).then(n.bind(n,47533))}),{loading:function(){return(0,r.jsx)("div",{children:"Loading..."})},ssr:!1,loadableGenerated:{webpack:function(){return[47533]},modules:["../components/widgets/Workspace/viewer/panel/index.tsx -> react-split"]}}),bn=function(e){var t,n,c=e.toggleVisibility,a=e.isVisible,s=e.isEditorEnabled,l=e.options,u=l.isTerminalAllowed,d=void 0!==u&&u,f=l.isBrowserAllowed,v=void 0!==f&&f,b=l.exitProcessOnRun,h=void 0===b||b,g=l.hideAppUrl,w=void 0!==g&&g,y=P(e.dockerRunner),O={isBrowserAllowed:v,isTestingEnabled:y,isTerminalAllowed:d},j=(n=O,Object.values(n).reduce((function(e,t){return e+Number(t)}),0)),k=(0,i.useState)(q(cn(cn({},e),{},{options:{isBrowserAllowed:v,isTestingEnabled:y,isTerminalAllowed:d,exitProcessOnRun:h,hideAppUrl:w}}))),E=k[0],T=k[1],C=(0,i.useState)([]),R=C[0],F=C[1],M=(0,i.useState)([]),U=M[0],H=M[1],V=(0,i.useState)([]),z=V[0],ee=V[1],te=(0,i.useState)((t={},(0,o.Z)(t,an,G(E)),(0,o.Z)(t,sn,X(R)),(0,o.Z)(t,ln,X(z)),(0,o.Z)(t,un,X(U)),t)),ne=te[0],re=te[1],oe=(0,i.useState)(an),ie=oe[0],ce=oe[1];(0,i.useEffect)((function(){F(E.filter(A)),ee(E.filter(L)),H(E.filter(_))}),[E]),(0,Xe.rf)((function(){var t;ce(an),T((function(t){var n=t.filter((function(e){var t=e.name;return A({name:t})?v:_({name:t})?y:d})),r=q(cn(cn({},e),{},{options:{isBrowserAllowed:v,isTestingEnabled:y,isTerminalAllowed:d,exitProcessOnRun:h,hideAppUrl:w}})).filter((function(e){var t=e.name;return A({name:t})?v&&"-1"===ne[sn]:_({name:t})?y&&"-1"===ne[un]:d&&"-1"===ne[ln]}));return[].concat((0,Xt.Z)(r),(0,Xt.Z)(n))})),re((t={},(0,o.Z)(t,an,G(E)),(0,o.Z)(t,sn,-1),(0,o.Z)(t,ln,-1),(0,o.Z)(t,un,-1),t))}),[v,y,d]),(0,Xe.rf)((function(){var t=e.authorId,n=e.collectionId,o=e.config,i=e.docker,c=e.dockerJob,a=e.dockerRunner,s=e.pageId,l=e.pageType,u=e.projectId,d=e.testingDocker,f=e.appUrl,p=e.vmPassword,v=function(e,v){return A({name:e})?function(e,t){return(0,r.jsx)(D,I({},t),e)}(v,{appUrl:f,docker:i,showAppUrl:!w,isInitialTab:Z({name:e})}):_({name:e})?function(e,t){return(0,r.jsx)(N,I({},t),e)}(v,{authorId:t,collectionId:n,config:o,docker:i,dockerJob:c,dockerRunner:a,pageId:s,pageType:l,projectId:u,testingDocker:d}):function(e,t){return(0,r.jsx)(m.Z,I({id:e},t))}(v,{docker:i,dockerJob:c,vmPassword:p,options:{exitProcessOnRun:h}})};T((function(e){return e.map((function(e){return cn(cn({},e),{},{widget:v(e.name,e.id)})}))}))}),[w]),(0,i.useEffect)((function(){var e;re(cn(cn({},ne),{},(e={},(0,o.Z)(e,sn,X(R,ne[sn])),(0,o.Z)(e,ln,X(z,ne[ln])),(0,o.Z)(e,un,X(U,ne[un])),e)))}),[R,z,U]);var ae=function(){var e=ie===an;U.length&&ue(e?Q(E,U[0].id):U[0].id,e?an:un)},se=function(){var e=ie===an;z.length&&ue(e?Q(E,z[0].id):z[0].id,e?an:ln)};(0,i.useEffect)((function(){return x.YB.add(x.lx.TEST,ae),x.YB.add(x.lx.RUN,se),function(){x.YB.remove(x.lx.TEST,ae),x.YB.remove(x.lx.RUN,se)}}),[U,ie]);var le=function(t,n){var r=t.name,o=Y(r,e);if(o){var i=(0,p.Bh)({tabs:E,activeTab:ne[an]},o);T(i.tabs),ue(n===an?i.activeTab:o.id,n)}},ue=function(e,t){return re(cn(cn({},ne),{},(0,o.Z)({},t,e)))},de=function(e){return function(t,n){var r,i=n.visibleTabsCount,c=void 0===i?-1:i,a=(r={},(0,o.Z)(r,an,[E,T]),(0,o.Z)(r,sn,[R,F]),(0,o.Z)(r,ln,[z,ee]),(0,o.Z)(r,un,[U,H]),r),s=e===an,l=(0,Ke.Z)(a[e],2),u=l[0],d=l[1],f=function(){var e=Z(u[t]),n=s?j:1,r=c<=n?t:c-1;return e?t:r<n?j:r}(),v=(0,p.Lp)(u,u[t],f);d(v),ue(s?f:v[f].id,e)}},pe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=(0,p.on)({tabs:E,activeTab:ne[an]},e),i={};if(t!==an){var c=E[e].td,a=[t===ln?z:t===sn?R:U,ne[t]],s=a[0],l=a[1];if(n<=l){var u=(0,p.N6)({activeTab:l,tabs:s.filter((function(e){return e.id===c}))});i=(0,o.Z)({},t,u===p.ll?S:s[l].id)}}(t===an||e<=ne[an])&&(i=cn(cn({},i),{},(0,o.Z)({},an,r.activeTab))),T(r.tabs),re(cn(cn({},ne),i))},ve=function(e,t,n){var r=t[e].id;pe(Q(E,r),n,e)},be=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=e?200:Math.floor(100/j);return Array(j).fill(t)},he=function(){return Array(j).fill(0)},me=B(ie),ge=me?be():he(),we=me?be(!0):he();return W(O).length>0?(0,r.jsxs)("div",{className:"flex flex-col h-full w-full bg-gray-100 dark:bg-dark-90",children:[(0,r.jsx)("div",{className:"flex-col h-full w-full ".concat(a?"flex":"hidden"),children:me?(0,r.jsx)(vn,{sizes:ge,minSize:we,gutterSize:0,direction:"vertical",expandToMin:!0,snapOffset:30,className:"flex flex-col h-full w-full",gutterStyle:function(e,t,n){return{display:me?"flex":"none","align-items":"center","justify-content":"center","z-index":999}},gutter:fe.Vn,children:[v&&{tabs:R,view:sn,addButtonOption:pn},y&&{tabs:U,view:un},d&&{tabs:z,view:ln,addButtonOption:fn}].filter(Boolean).map((function(e,t){return(0,r.jsx)(Ie.Z,cn({},function(e){var t=e.tabs,n=e.view,o=e.addButtonOption,i=void 0===o?null:o,s=e.showLeftComp,l=void 0!==s&&s,u=e.showRightComp,d=void 0!==u&&u;return{tabs:t,activeTab:Q(t,ne[n]),onAddNewTab:function(e){return le(e,n)},onTabChange:function(e){return ue(t[e].id,n)},onHiddenTabSelected:de(n),onCloseTab:function(e){return ve(e,t,n)},dropdownOptionRenderer:$e,defaultMsg:dn,addButtonOption:i,leftComponent:l&&(0,r.jsx)(ze,{isVisible:a,onToggle:c}),rightComponent:d&&(0,r.jsx)(qe,{currentView:ie,onChange:ce})}}(cn(cn({},e),{},{showLeftComp:s&&!t,showRightComp:!t}))),e.view)}))}):(0,r.jsx)(Ie.Z,cn(cn({},{tabs:E,activeTab:ne[an],onAddNewTab:function(e){return le(e,an)},onTabChange:function(e){return ue(e,an)},onHiddenTabSelected:de(an),onCloseTab:function(e){return pe(e,an)},defaultMsg:dn,dropdownOptions:$(O),dropdownOptionRenderer:$e,addButtonOption:K(O),leftComponent:s&&(0,r.jsx)(ze,{isVisible:a,onToggle:c}),rightComponent:!J(O,1)&&(0,r.jsx)(qe,{currentView:ie,onChange:ce})}),{},{showTabs:!w}))}),s&&!a&&(0,r.jsx)(ze,{isVisible:a,onToggle:c}),a&&(0,r.jsx)(rn,{dockerJob:e.dockerJob,options:e.options,dockerRunner:e.dockerRunner})]}):(0,r.jsx)(r.Fragment,{})},hn=n(72929),mn=n(37636),gn=n(44124),wn=n(84283),yn=n(32084);function xn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function On(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xn(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var jn="RUNNING",kn="IDLE",En="WAITING",Tn=function(e){var t;return function(e){var t=e.authorID,n=e.workID,r=e.workType,o=e.appID;return(0,wn.Z)({url:"/api/instances/".concat(r,"/").concat(t,"/").concat(n,"/").concat(o,"/reset-idle-time"),type:"POST"})}({authorID:e.authorId,workID:e.collectionId,workType:e.workType,appID:function(e){var t;return null!==(t=e.container.liveInstance.id)&&void 0!==t?t:null}(null!==(t=e.docker)&&void 0!==t?t:{})})},Nn=function(e){var t=e.panelOptions.exitProcessOnRun,n=void 0===t||t,r=e.dockerJob,o=r.ports,c=r.startScript,a=r.runScript,s=e.onClose,l=e.vmPassword,u=e.endpoint;(0,i.useEffect)((function(){return Bt.init({vmPassword:l,endpoint:u,onClose:s,onConnectPayload:{port:o,script:"".concat(c,"\r")}}),x.YB.add(x.lx.RUN,d),function(){Bt.closeSocket(),x.YB.remove(x.lx.RUN,d)}}),[]);var d=function(){Bt.execCmd((n?"\x03\n":"")+a)};return null};function Cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function In(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cn(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pn="AUTO_LAUNCH",Dn="SOCKET_CLOSED",Sn={loading:!1,loaded:!1,error:!1,instanceStatus:"INIT"},Rn=function(e){var t=function(t){var n,o,c=(0,i.useRef)(null),a=(0,i.useRef)(kn),s=null!==(n=t.leaseInfo)&&void 0!==n?n:{},l=(0,yn.Y)({timeout:1e3*(null!==(o=s.timeout)&&void 0!==o?o:10),events:["keydown"],onAction:function(){var e;if(a.current===jn){var n=Date.now();n-c.current>=1e3*(null!==(e=s.rate)&&void 0!==e?e:10)&&(a.current=En,Tn(t).finally((function(){c.current=n,a.current=jn})))}},onIdle:function(){a.current===jn&&s.onIdle()}}).reset;return(0,r.jsx)(e,On(On({},t),{},{onStart:function(){a.current=jn,c.current=Date.now(),l()},onTerminate:function(){return a.current=kn}}))};return t}((function(e){var t,n,o,a,l,d=e.content,f=e.updateContent,p=e.workId,v=e.authorId,b=e.docker,h=e.testingDocker,m=void 0===h?{}:h,g=e.isDraft,j=e.dockerJob.key,k=e.dockerRunner.id,E=e.projectId,T=e.onStart,N=void 0===T?function(){}:T,C=e.onTerminate,I=void 0===C?function(){}:C,P=(0,le.TL)(),D=(0,i.useState)(Sn),S=D[0],R=D[1],Z=(0,i.useState)(""),F=Z[0],A=Z[1],L=(0,i.useState)(0),_=L[0],M=L[1],U=(0,i.useRef)(),B=(0,i.useRef)(),W=S.loaded&&S.instanceStatus===O.bO.RUNNING,J=S.instanceStatus===Dn,G=null!==(t=(0,s.se)(b.jobs,j))&&void 0!==t?t:{},H=null!==(n=(0,s.E8)(m.testRunners,k))&&void 0!==n?n:{},V=W&&function(e){var t=e.panelOptions.isTerminalAllowed,n=e.dockerJob;return!t&&(0,s.EE)(n)}(e),z=null!==(o=e.isDebugMode)&&void 0!==o&&o,Y=null!==(a=e.showTestFiles)&&void 0!==a&&a,q=(0,i.useState)(u.vcf?"123":(0,Gt.x0)()),$=q[0],K=(q[1],!g),Q=(0,c._Y)(null!==(l=b.container.liveInstance.url)&&void 0!==l?l:"");(0,i.useEffect)((function(){return function(){K&&W&&(0,mn.qP)(mn.f2.STANDALONE_PROJECT,mn.bt.PROJECT_INSTANCE_TERMINATED)}}),[]),(0,i.useEffect)((function(){ee()}),[b]),(0,i.useEffect)((function(){return x.YB.add(x.Gv.RELAUNCH,X),function(){x.YB.remove(x.Gv.RELAUNCH,X)}}),[]),(0,i.useEffect)((function(){W&&N()}),[W]),(0,i.useEffect)((function(){J&&I()}),[J]);var X=function(e){var t=e.detail.checkpointId;R(In(In({},Sn),{},{instanceStatus:Pn})),A(t)};(0,i.useEffect)((function(){x.YB.dispatch(S.loaded?x.Gv.LOADED:S.error?x.Gv.ERROR:x.Gv.SHUTDOWN)}),[S.loaded,S.error]),(0,i.useEffect)((function(){S.instanceStatus===Pn&&ee()}),[S.instanceStatus]),(0,i.useEffect)((function(){x.YB.dispatch(x.Gv.SIZE_CHANGED,{size:_})}),[_]);var ee=function(){var t;if(Object.keys(null===(t=b.container)||void 0===t?void 0:t.liveInstance).length&&p&&v&&!S.loading&&S.instanceStatus!==O.bO.RUNNING){R({loading:!0,loaded:!1,error:!1,instanceStatus:O.bO.ALLOCATING});var n=hn.operation({retries:4,minTimeout:1e3,factor:1}),r=e.workType,o=e.workspaceCompId,i=e.workspaceCompType,c=e.pageType,a=b.container,s=b.envs,l=a.imageName,u=a.liveInstance.id,d=G.ports,f=G.startScript,h=G.https,m=G.forceRelaunchOnCompChange,j={https:h,app_id:u,envs:s||[],ports:d?[d]:[],force_relaunch:!0,force_relaunch_on_comp_change:m,image_name:l||O.CF,start_script:f||"",enable_workspace:!0,workspace_comp_id:o,workspace_comp_type:i,workspace_checkpoint_id:F,is_debug_mode:z};n.attempt((0,y.Z)(w().mark((function e(){var t,o,i,a;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,O.GR)({authorId:v,workId:p,workType:r,pageType:c,containerInfo:j,draft:g,pageId:E},!0);case 3:t=e.sent,o=t.instanceStatus,i=t.requestId,a=t.vmPassword,B.current=i,U.current=a,(0,O.vp)(o)?(R({loading:!0,loaded:!1,error:!1,instanceStatus:O.bO.WAITING_FOR_DAEMON}),F&&A(""),k({instanceId:u,requestId:i})):n.retry(!0)||R({loading:!1,loaded:!1,error:!0,instanceStatus:O.bO.ALLOCATION_FAILED}),e.next=15;break;case 12:if(e.prev=12,e.t0=e.catch(0),!n.retry(!0)){switch(e.t0.status){case gn.Wy.accessDeniedException:P(ue.n.show(de.zN,{title:"Cannot Access Workspace",description:e.t0.responseJSON.errorText,cancelText:"Dismiss",hideConfirmButton:!0}))}R({loading:!1,loaded:!1,error:!0,instanceStatus:O.bO.ALLOCATION_FAILED})}case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))));var k=function(){var e=(0,y.Z)(w().mark((function e(t){var n,r,o;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.instanceId,r=t.requestId,(o=hn.operation({retries:10,minTimeout:2e3,factor:1})).attempt((0,y.Z)(w().mark((function e(){var t,i;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,O.oN)({instanceId:n,requestId:r});case 2:t=e.sent,i=t.instanceStatus,(0,O.kl)(i)?(K&&(0,mn.qP)(mn.f2.STANDALONE_PROJECT,mn.bt.PROJECT_INSTANCE_ALLOTED),R({loading:!1,loaded:!0,error:!1,instanceStatus:O.bO.RUNNING}),x.YB.dispatch(x.Gv.LOADED)):o.retry(!0)||R({loading:!1,loaded:!1,error:!0,instanceStatus:O.bO.DAEMON_FAILED});case 5:case"end":return e.stop()}}),e)}))));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},te=function(){K&&(0,mn.qP)(mn.f2.STANDALONE_PROJECT,mn.bt.PROJECT_INSTANCE_TERMINATED),R({loading:!1,loaded:!1,error:!0,instanceStatus:Dn})},ne=(0,r.jsx)(Qt,{endpoint:Q,vmPassword:U.current,widgetId:$,onClose:te,handleWorkspaceSize:M,dirName:ft}),re=(0,r.jsx)(Qt,{endpoint:Q,vmPassword:U.current,widgetId:$,onClose:te,handleWorkspaceSize:M,dirName:dt,isDebugMode:!0});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ye,{fileTree:W?ne:(0,r.jsx)(rt,{}),fileDebugTree:W?z?re:null:(0,r.jsx)(rt,{}),showTestFiles:Y,isDebugMode:z,fileEditor:W?(0,r.jsx)(wt,{showTestFiles:Y}):(0,r.jsx)(ot,{}),panel:W?(0,r.jsx)(bn,{content:d,updateContent:f,docker:b,dockerJob:G,options:e.panelOptions,appUrl:e.appUrl,vmPassword:U.current,pageId:e.pageId,authorId:e.authorId,collectionId:e.collectionId,pageType:e.pageType,testingDocker:m,dockerRunner:H,config:e.config,projectId:e.projectId}):(0,r.jsx)(ct,{options:e.panelOptions,dockerRunner:H,dockerJob:G}),panelOptions:e.panelOptions,dockerRunner:H}),V&&(0,r.jsx)(Nn,{panelOptions:e.panelOptions,dockerJob:G,onClose:te,vmPassword:U.current,endpoint:Q})]})}));function Zn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zn(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var An=function(e){var t,n,o=(0,le.TL)(),c=(0,le.ix)((function(e){return{dockerDetails:e.dockerDetails}})).dockerDetails,a=(0,le.ix)((function(e){return{testingDockerDetails:e.testingDockerDetails}})).testingDockerDetails,s=(0,i.useState)({}),u=s[0],d=s[1],f=function(){e.isDraft||(0,mn.qP)(mn.f2.STANDALONE_PROJECT,mn.bt.RECONNECT_SESSION_CTA_CLICK,e.projectTitle),x.YB.dispatch(x.Gv.RELAUNCH),o(ue.n.close())},p=function(){e.isDraft||(0,mn.qP)(mn.f2.STANDALONE_PROJECT,mn.bt.RESUME_SESSION_CTA_CLICK,e.projectTitle),document.dispatchEvent(new KeyboardEvent("keydown",{key:"a"})),o(ue.n.close())},v=function(){o(ue.n.close()),e.returnToCollection()},b={timeout:l.L4,rate:l.Wv,onIdle:function(){o(ue.n.show(de.Lp,{onClose:v,onContinue:p,onTimedOut:f,timingOut:l.c6,timedOut:l.fg,closeButtonText:l.BW}))}};return e.workId&&e.workType&&e.authorId&&e.workspaceCompId&&e.workspaceCompType&&e.options&&c?(0,r.jsx)(Rn,Fn(Fn({},e),{},{content:u,updateContent:function(e){d(Fn(Fn({},u),e))},panelOptions:e.options,appUrl:e.appUrl,docker:c,testingDocker:a,leaseInfo:b,isDebugMode:null!==(t=e.isDebugMode)&&void 0!==t&&t,showTestFiles:null!==(n=e.showTestFiles)&&void 0!==n&&n})):(0,r.jsx)(r.Fragment,{})};An.defaultProps={options:{},dockerJob:{},dockerRunner:{}};var Ln=i.memo(An);function _n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_n(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_n(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Un=function(e){var t,n,o,i,c,a,s=e.mode,l=e.content,u=e.updateContentState,d=e.docker,f=e.testingDocker;return"edit"===s?(0,r.jsx)(se,{docker:d,testingDocker:f,content:l.editor,updateContent:function(e){return u(Mn(Mn({},l),{},{editor:Mn(Mn({},l.editor),e)}))}}):(0,r.jsx)(Ln,Mn(Mn({},e),{},{options:null===(t=l.editor)||void 0===t?void 0:t.options,dockerJob:null===(n=l.editor)||void 0===n?void 0:n.dockerJob,dockerRunner:null===(o=l.editor)||void 0===o?void 0:o.dockerRunner,showTestFiles:null!==(i=e.showTestFiles)&&void 0!==i&&i,isDebugMode:null!==(c=e.isDebugMode)&&void 0!==c&&c,appUrl:null===(a=l.editor)||void 0===a?void 0:a.appUrl}))}},75448:function(e,t,n){n.d(t,{Ac:function(){return o},_Y:function(){return i},jv:function(){return c},FG:function(){return a},af:function(){return s}});var r=n(99667),o=function(e){return e.substring(0,e.indexOf("://"))},i=function(e){return e.replace(/^(https?:\/\/)/,"")},c=function(e,t){return e.startsWith(t)},a=function(e,t){var n=new r.diff_match_patch,o=n.patch_make(e,t);return n.patch_toText(o)},s=function(e,t){var n=new r.diff_match_patch,o=n.patch_fromText(t);return n.patch_apply(o,e)[0]}},49890:function(e,t,n){var r=n(20348),o=n(72930),i=n(89703),c=n(51945),a=n(37103),s=(0,o.default)((function(){return Promise.all([n.e(45135),n.e(22857),n.e(9040),n.e(34558)]).then(n.bind(n,89052))}),{loading:function(){return(0,r.jsx)("div",{children:"Loading..."})},ssr:!1,loadableGenerated:{webpack:function(){return[89052]},modules:["../components/widgets/Workspace/viewer/panel/workspaceTerminal.tsx -> components/Terminal"]}});t.Z=function(e){var t,n,o=e.id,l=e.docker,u=e.dockerJob,d=e.vmPassword,f=e.options.exitProcessOnRun,p=void 0===f||f,v=e.isCloudLab,b=e.onActivateTerminal,h=e.userId,m=(0,i.useState)(!1),g=m[0],w=m[1],y=(0,i.useState)(!0),x=y[0],O=y[1],j=(0,i.useState)(!1),k=j[0],E=j[1],T=(0,i.useRef)(null);(0,i.useEffect)((function(){if(g&&u.runScript){var e=function(){var e;T.current((p?"\x03\n":"")+(e=u.runScript,"".concat(e,"\n")))};return a.YB.add(a.lx.RUN,e),function(){return a.YB.remove(a.lx.RUN,e)}}}),[g]);var N=(0,i.useCallback)((function(e){return T.current=e}),[]);return(0,r.jsx)(s,{termId:o,takeFullHeight:!0,terminalLoading:v&&k,terminalActiveStatus:x,onActivateTerminal:function(e){v&&(b(e),E(!0))},onTerminalClose:function(){return v&&O(!1)},onReconnectedWebsocket:function(){v&&(O(!0),E(!1))},vmPassword:d,setAppTerminal:function(e){return w(!0)},setSendDataRef:N,startScript:u.startScript,instanceStatus:c.bO.RUNNING,serverUrl:v?null===(t=l.container.liveInstance)||void 0===t?void 0:t["cloudlab-url"]:l.container.liveInstance.url,activeInstanceId:v?null===(n=l.container.liveInstance)||void 0===n?void 0:n["cloudlab-id"]:l.container.liveInstance.id,userId:h,enableInversion:!0},o)}},80689:function(e,t,n){var r=n(93586),o=n(20348),i=n(89703),c=n(4229),a=n(57931),s=n(59087),l=n(22111),u=n(78050),d=n(65348),f=n(49227);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b="h-12",h=function(e){var t=e.onClick,n=void 0===t?function(){}:t;return(0,o.jsx)(u.Z,{onClick:n,overlay:"New tab",parentClasses:"cursor-pointer dark:hover:bg-gray-buttonHover dark:text-gray-500 flex hover:bg-gray-200 justify-between text-gray-900",position:f.xRW,children:(0,o.jsx)(a.Z,{className:"h-8 w-8"})})},m=function(e){var t=e.compRef,n=void 0===t?null:t,r=e.children;return r?(0,o.jsx)("div",{ref:n,className:b,children:r}):(0,o.jsx)(o.Fragment,{})},g=function(e){var t=e.tab,n=e.isActive,r=e.onClick,i=e.onClose;return(0,o.jsxs)(u.Z,{delayShow:1e3,onClick:r,overlay:t.tooltip||t.name,overlayParentClasses:"break-all",parentClasses:"cursor-pointer flex justify-between p-2 ".concat(b," ").concat(n?"bg-white dark:bg-dark-70":"border-0 border-gray-300 border-r border-solid dark:border-dark-70 dark:hover:bg-dark-80 hover:bg-gray-400"),position:f.xRW,children:[(0,o.jsxs)("div",{className:"flex justify-start flex-grow items-center truncate mr-2",children:[(0,o.jsx)("div",{className:"rounded-full flex items-center justify-center mr-2 ".concat(t.sticky?"h-6 w-6 bg-primary-lightP1 dark:bg-dark-60 text-primary dark:text-primary-light":""),children:(0,o.jsx)("span",{className:"flex flex-col justify-center items-center h-5 w-5",children:t.icon})}),(0,o.jsx)("span",{className:"w-24 overflow-ellipsis overflow-hidden text-sm",children:t.name})]},"".concat(t.id,"-tab")),!t.sticky&&(0,o.jsx)("div",{className:"flex flex-col justify-center items-center",onClick:i,children:(0,o.jsx)(s.Z,{className:"w-4 h-4 text-gray-900 dark:text-gray-500 hover:text-error dark:hover:text-error"})})]})},w=function(e){var t=e.tabs,n=void 0===t?[]:t,r=e.activeTab,a=void 0===r?c.ll:r,s=e.addButtonOption,p=void 0===s?null:s,b=e.onTabChange,w=void 0===b?function(){}:b,y=e.onHiddenTabSelected,x=void 0===y?function(){}:y,O=e.onCloseTab,j=void 0===O?function(){}:O,k=e.onAddNewTab,E=void 0===k?function(){}:k,T=e.dropdownOptions,N=void 0===T?[]:T,C=e.leftComponent,I=e.rightComponent,P=e.dropdownOptionRenderer,D=e.dirName,S=(0,i.useState)(0),R=S[0],Z=S[1],F=(0,i.useRef)(null),A=(0,i.useRef)(null),L=(0,i.useRef)(null),_=(0,c.aB)(F),M=(0,c.vx)(n,R),U=(0,c.qf)(n,R),B=function(e,t){e.stopPropagation(),j(t,D)};return(0,i.useEffect)((function(){if(_>0){var e=function(){var e,t,r,o,i=null!==(e=null===(t=A.current)||void 0===t?void 0:t.offsetWidth)&&void 0!==e?e:0,a=null!==(r=null===(o=L.current)||void 0===o?void 0:o.offsetWidth)&&void 0!==r?r:0,s=_-i-(a+2*c.Dg);return(0,c.G5)(n,s)}();Z(e),a>e-1&&x(a,{visibleTabsCount:R})}}),[a,n.length,_]),(0,o.jsxs)("div",{ref:F,className:"flex items-center bg-gray-100 dark:bg-dark border-0 border-solid border-b border-gray-300 dark:border-dark-60",children:[(0,o.jsx)("div",{className:M.length?"border-0 border-solid border-gray-300 dark:border-dark-70 border-r":"",children:(0,o.jsx)(m,{compRef:A,children:C})}),(0,o.jsx)("div",{className:"flex items-center bg-gray-200 dark:bg-dark",children:(0,o.jsx)("div",{className:"flex items-center",children:M.map((function(e,t){return(0,o.jsx)(g,{tab:e,isActive:a===t,onClick:function(e){return function(e,t){e.stopPropagation(),a!==t&&w(t)}(e,t)},onClose:function(e){return B(e,t)}},e.id)}))})}),(0,o.jsxs)("div",{className:"flex items-center pr-4 ml-auto",children:[p?(0,o.jsx)(h,{onClick:function(){return E(p)}}):N.length>0&&(0,o.jsx)(l.Z,{options:N.map((function(e){var t=e.name;return{name:t,key:t}})),onSelect:E,optionRenderer:P,children:(0,o.jsx)(h,{})}),!!U.length&&(0,o.jsx)(l.Z,{className:"right-0",options:U.map((function(e,t){var n=e.id;return v(v({key:n,id:n,name:e.name,icon:e.icon},e.sticky?{}:{onCancel:function(e){return B(e,R+t)}}),{},{selected:t+R===a})})),onSelect:function(e){var t=n.findIndex((function(t){return t.id===e.id}));x(t,{selectedFromDropdown:!0,visibleTabsCount:R})},optionRenderer:P,children:(0,o.jsx)(u.Z,{overlay:"Opened tabs",parentClasses:"cursor-pointer dark:hover:bg-gray-buttonHover dark:text-gray-500 flex hover:bg-gray-200 items-center text-gray-900",position:f.xRW,children:(0,o.jsx)(d.Z,{className:"h-6 stroke-current w-6"})})}),(0,o.jsx)(m,{compRef:L,children:I})]})]})};t.Z=function(e){var t=e.tabs,n=void 0===t?[]:t,r=e.activeTab,i=void 0===r?c.ll:r,a=e.defaultMsg,s=void 0===a?"No tab to show":a,l=e.showTabs,u=void 0===l||l;return(0,o.jsxs)("div",{className:"flex flex-col h-full w-full text-black dark:text-dark-contrastText",children:[u&&(0,o.jsx)(w,v({},e)),(0,o.jsx)("div",{className:"flex flex-col h-full",children:n.length?n.map((function(e,t){return(0,o.jsx)("div",{id:"tab-".concat(e.id),className:"h-full w-full relative ".concat(t===i?"flex":"hidden"),children:e.widget},"tab-".concat(e.id))})):(0,o.jsx)("div",{className:"flex items-center justify-center text-gray-300 dark:border-dark-70 h-full w-full p-4",children:(0,o.jsx)("h4",{children:s})})})]})}},4229:function(e,t,n){n.d(t,{ll:function(){return s},Dg:function(){return l},hC:function(){return u},Bh:function(){return d},on:function(){return p},N6:function(){return f},aB:function(){return v},vx:function(){return b},qf:function(){return h},G5:function(){return m},Lp:function(){return g}});var r=n(30645),o=n(32868),i=n(89703),c=n(20767),a=n(49227);var s=-1,l=25,u=function(e){return"".concat(e,"-").concat(a.vcf?"123":(0,c.x0)())},d=function(e,t){var n=e.tabs,r=[].concat((0,o.Z)(n),[t]);return{tabs:r,activeTab:r.length-1}},f=function(e){var t=e.tabs,n=e.activeTab;return 0===t.length?s:0===n?0:n-1},p=function(e,t){var n=e.tabs,r=e.activeTab,o=n[t],i=n.filter((function(e){return e.id!==o.id}));return n.indexOf(o)>r?{tabs:i,activeTab:r}:{activeTab:f({tabs:i,activeTab:r}),tabs:i}},v=function(e){var t=i.useState(0),n=(0,r.Z)(t,2),o=n[0],c=n[1],a=function(e){return c(e[0].target.offsetWidth)};return i.useEffect((function(){e.current&&new ResizeObserver(a).observe(e.current)}),[e.current]),o},b=function(e,t){return e.slice(0,t)},h=function(e,t){return e.slice(t)},m=function(e,t){return e.length-Math.max(0,e.length-Math.floor(t/165))},g=function(e,t,n){var r=(0,o.Z)(e).filter((function(e){return e.id!==t.id}));return r.splice(n,0,t),r}},7070:function(e,t,n){var r,o,i=n(89703);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return i.createElement("svg",c({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-chevrons-left"},e),r||(r=i.createElement("polyline",{points:"11 17 6 12 11 7"})),o||(o=i.createElement("polyline",{points:"18 17 13 12 18 7"})))}},25452:function(e,t,n){var r,o,i=n(89703);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return i.createElement("svg",c({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-chevrons-right"},e),r||(r=i.createElement("polyline",{points:"13 17 18 12 13 7"})),o||(o=i.createElement("polyline",{points:"6 17 11 12 6 7"})))}},39238:function(e,t,n){var r,o,i=n(89703);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return i.createElement("svg",c({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-settings"},e),r||(r=i.createElement("circle",{cx:12,cy:12,r:3})),o||(o=i.createElement("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})))}},56116:function(e,t,n){var r,o,i=n(89703);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return i.createElement("svg",c({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-terminal"},e),r||(r=i.createElement("polyline",{points:"4 17 10 11 4 5"})),o||(o=i.createElement("line",{x1:12,y1:19,x2:20,y2:19})))}}}]);
//# sourceMappingURL=22053-603122942829bb7c942a.js.map