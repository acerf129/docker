"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26081],{21115:function(e,t,o){o.d(t,{Z:function(){return Ft}});var n,r,s,l,a,i,d,c,u,p,h,f,v,k,g,_,m,I,w=o(88753),x=o.n(w),y=o(52198),H=o(20348),F=o(79003),A=o(70989),b=o(58055),S=o(31428),P=o(27018),O=o(29799),C=o(93586),j=o(89703),E=o(78854),L=o(83200),Z=o(20528),T=o(39238),R=o(37024),B=o(52558),N=o(24195),D=o(32653),M=o(27644),q=o(56402),z=o(5905),U=o(10614),W=o(45835),V=o(84283),K=o(27784),G=o(98884),J=o(16962),Y=o(12006),X=o(86964),$=o(49227),Q=o(91754),ee=o(69159),te=o(5117),oe=o(38634),ne=o(30645),re=o(59087),se=o(51726),le=o(69943),ae=o(78050),ie=o(36250),de=o(17279),ce=o(39064),ue=o(83354),pe=o(77316),he=o(74857),fe=o.n(he),ve=o(86758),ke="rounded-sm cursor-pointer px-4 py-1.5 leading-6 bg-white dark:bg-dark-90 hover:bg-gray-buttonHover dark:hover:bg-gray-buttonHover",ge=function(e){var t=j.useState(null),o=(0,ne.Z)(t,2),n=o[0],r=o[1],s=(0,se.TL)(),l=(0,se.ix)((function(e){var t,o;return null===(t=e.author)||void 0===t||null===(o=t.collection)||void 0===o?void 0:o.external_offer})),a=(0,se.ix)((function(e){var t,o;return null===(t=e.author.collection.instance)||void 0===t||null===(o=t.details)||void 0===o?void 0:o.toc.categories})),i=(0,se.ix)((function(e){return e.user.courseCompletion})),d=(0,ue.ZP)(a),c=null===i||void 0===i?void 0:i["CourseCompletion_".concat(e.authorId,"_").concat(e.collectionId)],u=(0,pe.Z)(d,c).percentCompleted,p=!(null===l||void 0===l||!l.id);j.useEffect((function(){!p&&u&&e.authorId&&e.collectionId&&e.pageId&&(0,de.Gi)(e.authorId,e.collectionId,e.pageId,u).then((function(e){var t=JSON.parse(e);s(ce.X5.setExternalOffer({externalOffer:t}))})).catch((function(e){}))}),[u,s,p,e.authorId,e.collectionId,e.pageId]);var h=function(t){l.id&&(0,de.aB)(l.id,t,e.authorId,e.collectionId,u),r(null),s(ce.X5.hideExternalOffer())};if(null===l||void 0===l||!l.content||null!==l&&void 0!==l&&l.hidden)return null;var f="";if(null!==l&&void 0!==l&&l.use_utm){var v={utm_source:"educative",utm_medium:"partner",utm_campaign:fe()().format("MMMM_YYYY")},k=Object.keys(v).map((function(e){return"".concat(encodeURI(e),"=").concat(encodeURI(v[e]))}));f="".concat(k.join("&")),f=l.external_link.includes("?")?"&".concat(f):"?".concat(f)}return(0,H.jsx)(le.df,{triggerOnce:!0,onChange:function(t){!t||null!==l&&void 0!==l&&l.viewed||((0,de.aB)(l.id,"viewed",e.authorId,e.collectionId,u),s(ce.X5.setExternalOfferViewed()))},children:(0,H.jsxs)("div",{className:"flex my-16 mx-4",children:[(0,H.jsxs)("span",{className:"text-xl mt-2",children:[null===l||void 0===l?void 0:l.content,(0,H.jsx)("a",{className:"text-primary dark:text-primary-light ml-1.5 border-0 border-b border-solid border-primary dark:border-primary-light font-semibold",onClick:function(){(0,de.aB)(l.id,"clicked",e.authorId,e.collectionId,u)},target:"_blank",rel:"noopener noreferrer",href:"".concat(null===l||void 0===l?void 0:l.external_link).concat(f),children:"See how"}),(0,H.jsx)(ae.Z,{overlay:(0,H.jsxs)("p",{id:"external-offer",className:"m-0 max-w-xs text-center",children:["No data has been shared with"," ",(0,H.jsx)("strong",{children:null===l||void 0===l?void 0:l.name}),". After clicking, you will be prompted to enter your own information on their site."]}),parentClasses:"align-middle inline ml-1",position:$.YS6,children:(0,H.jsx)(ie.Z,{className:"h-4 w-4"})})]}),(0,H.jsx)("div",{className:"ml-2",children:(0,H.jsxs)(ve.zx,{onRootClose:function(){return r(null)},children:[(0,H.jsx)("button",{className:"icon-default rounded-full","aria-label":"dismiss",onClick:function(t){var o=Boolean(n)?null:t.currentTarget;r(o),(0,de.aB)(l.id,"close_icon_clicked",e.authorId,e.collectionId,u)},children:(0,H.jsx)(re.Z,{className:"flex-shrink-0"})}),(0,H.jsxs)("ul",{id:"simple-menu",className:"".concat(Boolean(n)?"block":"hidden"," list-none py-2 px-0 m-0 rounded absolute bg-white dark:bg-dark-90"),style:{boxShadow:"0px 5px 5px -3px rgb(0 0 0 / 20%), 0px 8px 10px 1px rgb(0 0 0 / 14%), 0px 3px 14px 2px rgb(0 0 0 / 12%)"},children:[(0,H.jsx)("li",{className:ke,onClick:function(){h("remind_again_fourteen_days")},children:"Remind me in 2 weeks"}),(0,H.jsx)("li",{className:ke,onClick:function(){h("remind_again_month")},children:"Remind me in a month"}),(0,H.jsx)("li",{className:ke,onClick:function(){h("not_interested")},children:"Not interested"})]})]})})]})})},_e=o(22894);function me(){return(me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}var Ie=function(e){return j.createElement("svg",me({width:160,height:189,viewBox:"0 0 160 189",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n||(n=j.createElement("path",{d:"M96.8 2.3c17.8 0 32.4 13.7 38.4 26.5 5.6 11.7 5.6 24.4 5.6 35.6v40.7c0 5.6-4.1 10-9 10s-9-4.4-9-10V64.4c0-9.7 0-18.9-3.5-26.2-3.6-7.7-12.8-15.9-22.5-15.9a30 30 0 00-24 11.3A42.8 42.8 0 0064.3 64c.4 5.5-3.2 10.4-8.2 11h-.8c-4.6 0-8.5-4-9-9.2A64.5 64.5 0 0159.6 20 47.3 47.3 0 0196.8 2.2zm0-2.3a49.6 49.6 0 00-39 18.6A66.7 66.7 0 0044.1 66c.2 3 1.5 5.8 3.5 8a10.6 10.6 0 007.7 3.2h1c6.2-.7 10.8-6.7 10.2-13.4-.9-11 2-21.4 8-28.8a27.8 27.8 0 0122.3-10.4c8.8 0 17.1 7.5 20.5 14.6a61.2 61.2 0 013.2 25.2v40.7c0 6.8 5 12.3 11.3 12.3S143 112 143 105.1V64.4c0-11.4 0-24.4-5.7-36.6C130.9 14.4 115.5 0 96.8 0z",fill:"#333"})),r||(r=j.createElement("path",{d:"M131.8 115.2c-5 0-9-4.5-9-10.1V64.4c0-9.7 0-18.9-3.5-26.2-3.6-7.7-12.8-15.9-22.5-15.9s-18 4-24 11.3A42.8 42.8 0 0064.3 64c.4 5.5-3.2 10.4-8.2 11-5 .4-9.3-3.6-9.7-9.2A64.4 64.4 0 0159.6 20 47.3 47.3 0 0196.8 2.2c17.8 0 32.4 13.8 38.4 26.6 5.6 11.7 5.6 24.4 5.6 35.6v40.7c0 5.6-4 10-9 10z",fill:"#F3715D"})),s||(s=j.createElement("path",{d:"M155.7 91.8H35.6a2 2 0 00-2 2v90c0 1.2.9 2.1 2 2.1h120.1a2 2 0 002-2v-90a2 2 0 00-2-2z",fill:"#8887FF"})),l||(l=j.createElement("path",{d:"M157.8 93.9v1.7a4.3 4.3 0 00-.6 0H48.8A9.7 9.7 0 0039 105v70.3h-5.4v-80-.2c-.5-3.4 1.4-3.5 3.3-3.4h118.8a2 2 0 012 2z",fill:"#CCCBFF"})),a||(a=j.createElement("path",{opacity:.22,d:"M157.8 95.6v88.3a2 2 0 01-2 2H35.5a2 2 0 01-1.4-.6 2 2 0 01-.6-1.4v-8.5H137a9.5 9.5 0 009.5-9.5V95.6h11.2z",fill:"#000"})),i||(i=j.createElement("path",{d:"M155.7 91.8a2 2 0 012 2v90a2 2 0 01-2 2.1h-120a2 2 0 01-2-1.3 2 2 0 01-.1-.7v-90a2 2 0 012-2h120.1zm0-2.2h-120a4.3 4.3 0 00-4.4 4.3v90a4.3 4.3 0 004.3 4.2h120.1a4.3 4.3 0 003-1.2 4.3 4.3 0 001.3-3v-90a4.3 4.3 0 00-4.3-4.3z",fill:"#333"})),d||(d=j.createElement("g",{opacity:.24,fill:"#000"},j.createElement("path",{opacity:.24,d:"M64.2 57a41 41 0 018.6-23.4c6-7.4 14.3-11.3 24-11.3s18.9 8.2 22.5 15.9a56.9 56.9 0 013.4 24v-3.8c0-9.7 0-18.9-3.4-26.2-3.6-7.7-12.8-15.8-22.5-15.8a30 30 0 00-24 11.2A42.7 42.7 0 0064.2 57zm-17.9 8.8c.5 5.5 4.9 9.6 9.8 9.1 5-.5 8.6-5.4 8.2-11a34.4 34.4 0 01-.2-3c-.7 4.3-3.9 7.6-8 8-5 .6-9.3-3.5-9.8-9l-.1-3c-.2 3 0 6 .1 9z"}))),c||(c=j.createElement("path",{opacity:.35,d:"M46.1 61.4a63 63 0 0113.4-37.8A47.3 47.3 0 0196.8 5.8c17.7 0 32.3 13.8 38.4 26.5 5 10.5 5.5 21.8 5.5 32.1 0-11.2 0-24-5.5-35.6-6-12.8-20.7-26.6-38.4-26.6A47.3 47.3 0 0059.5 20a64 64 0 00-13.4 41.4z",fill:"#fff"})),u||(u=j.createElement("path",{d:"M97.7 141l2.8 15.8H88.2l2.5-15.8a10.3 10.3 0 01-6.7-11.4 10.3 10.3 0 0116.7-6.1 10.3 10.3 0 01-3 17.5z",fill:"#8887FF"})),p||(p=j.createElement("path",{d:"M92.3 140.8l-2.6 16h-1.5l2.5-15.8a10.3 10.3 0 01-6.7-11.4 10.3 10.3 0 0110.1-8.5h.6a10.1 10.1 0 00-9.6 10.2c0 4.5 3.2 8 7.2 9.5z",fill:"#CCCBFF"})),h||(h=j.createElement("path",{d:"M97.7 141l2.8 15.8H88.2v-.6H98l-2.8-15.7a10.2 10.2 0 004.7-15.8 10.2 10.2 0 00-5-3.6 10.2 10.2 0 019.5 10.2 10.3 10.3 0 01-6.7 9.7z",fill:"#2320CC"})),f||(f=j.createElement("path",{d:"M94.1 121.1a10.3 10.3 0 013.6 19.9l2.8 15.8H88.2l2.5-15.8a10.3 10.3 0 013.4-20v.1zm0-2.3a12.5 12.5 0 00-12 9.5 12.5 12.5 0 006 14l-2.1 14a2.3 2.3 0 002.2 2.7h12.3a2.2 2.2 0 001.7-.8 2.3 2.3 0 00.5-1.9l-2.5-14a12.5 12.5 0 00-6-23.5z",fill:"#333"})),v||(v=j.createElement("path",{d:"M28 34.5a3.1 3.1 0 00-5.8 2.4L30 55.7a3.1 3.1 0 005.8-2.5l-8-18.7z",fill:"#F3715D"})),k||(k=j.createElement("path",{opacity:.25,d:"M34.2 57.3a3 3 0 01-1.8.2 3.1 3.1 0 002.3-4.3l-8-18.7a3.1 3.1 0 00-2.3-2 3.1 3.1 0 013.5 2l8 18.7a3.1 3.1 0 01-1.7 4.1z",fill:"#fff"})),g||(g=j.createElement("path",{d:"M7 53.3A3.1 3.1 0 104.4 59l18.4 8.7a3.1 3.1 0 002.7-5.7L7 53.3z",fill:"#F3715D"})),_||(_=j.createElement("path",{opacity:.25,d:"M27 66.2a3 3 0 01-1.2 1.3 3.1 3.1 0 00-1.3-4.6L6.1 54.2a3.1 3.1 0 00-3 .2 3.1 3.1 0 014-1L25.4 62a3.1 3.1 0 011.5 4.2z",fill:"#fff"})),m||(m=j.createElement("path",{d:"M3 81.8a3.1 3.1 0 002 6l19.3-6.4a3.1 3.1 0 00-2-6L3 81.8z",fill:"#F3715D"})),I||(I=j.createElement("path",{opacity:.25,d:"M26.4 78a3.1 3.1 0 00-3.7-1.3L3.4 83a3.1 3.1 0 00-2.2 2.6 3 3 0 000 .7 3 3 0 01-.2-.6 3.1 3.1 0 012-4l19.3-6.3a3.1 3.1 0 014 2l.1.7z",fill:"#fff"})))},we=o(96107),xe=o(92526),ye=o(64977),He=o.n(ye),Fe=o(786),Ae=o.n(Fe),be=o(46845),Se=o.n(be),Pe=o(27913),Oe=o(37636),Ce=o(97242),je=o(87455),Ee=o(56445),Le=o(73647),Ze=o(7760),Te=o(60136);function Re(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function Be(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(o),!0).forEach((function(t){(0,C.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Re(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function Ne(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=(0,O.Z)(e);if(t){var r=(0,O.Z)(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return(0,P.Z)(this,o)}}var De="markdown_viewer_highlighted_content_with_ask_for_help_unresolved",Me="markdown_viewer_highlighted_content_with_ask_for_help_resolved";function qe(e){var t;return null===e||void 0===e||null===(t=e.userInfo)||void 0===t?void 0:t.user_id}var ze=function(e){(0,S.Z)(o,e);var t=Ne(o);function o(){var e;(0,F.Z)(this,o);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r)),(0,C.Z)((0,b.Z)(e),"state",{removedCustomStyledContent:null,showAllAskForHelps:!1,showAskForHelpRaise:!1,askForHelpIndex:0,loadedSelections:{},selectionsLoaded:!1,coordTop:0,coordLeft:0,askForHelpTaskId:null,askForHelps:{},sortedBlockers:[],askForHelpMountId:null,markdownLoaded:!1,updateBlocker:!1}),(0,C.Z)((0,b.Z)(e),"viewBlockersBtn",j.createRef()),(0,C.Z)((0,b.Z)(e),"contentData",j.createRef()),(0,C.Z)((0,b.Z)(e),"setAskForHelpIndex",(function(t){e.state.askForHelpIndex!==t&&e.setState({askForHelpIndex:t})})),(0,C.Z)((0,b.Z)(e),"handleContentBlockerClick",(function(t){var o=e.state.sortedBlockers;if(o.length>0&&!e.state.showAllAskForHelps){var n=o.findIndex((function(e){return e.id===t}));n>=0&&e.setState({askForHelpIndex:n,showAllAskForHelps:!0})}})),(0,C.Z)((0,b.Z)(e),"handleTaskBlockerState",(function(t){return e.setState({askForHelpTaskId:t})})),(0,C.Z)((0,b.Z)(e),"setShowAskForHelpRaise",(function(t){e.state.showAskForHelpRaise!==t&&e.setState({showAskForHelpRaise:t})})),(0,C.Z)((0,b.Z)(e),"setShowAllAskForHelps",(function(t){e.state.showAllAskForHelps!==t&&e.setState({showAllAskForHelps:t})})),(0,C.Z)((0,b.Z)(e),"setUpdateBlocker",(function(t){e.state.updateBlocker!==t&&e.setState({updateBlocker:t})})),(0,C.Z)((0,b.Z)(e),"setMarkdownLoaded",(function(t){e.state.markdownLoaded!==t&&e.setState({markdownLoaded:t})})),(0,C.Z)((0,b.Z)(e),"prepareWidgetToCopy",(function(t){var o={index:0,data:Be(Be({},e.props.comps.find((function(e){var o=e.hash;return t===o}))),{},{mode:"view"}),parentHash:"0"};return((o=Ae()(o,{data:{content:{comp_id:{$set:null}}}})).data.iteration||o.data.iteration>=0)&&(o=Ae()(o,{data:{$unset:["iteration"]}})),(o.data.hash||o.data.hash>=0)&&(o=Ae()(o,{data:{$unset:["hash"]}})),Se().AES.encrypt(JSON.stringify(o),$.Y47).toString()})),(0,C.Z)((0,b.Z)(e),"copyWidgetEvent",(function(t){var o=e.props.dispatch,n=e.prepareWidgetToCopy(t);He()(n),o(W.Vy.copy(n))})),(0,C.Z)((0,b.Z)(e),"areViewerCompsDirty",(function(){return e.props.dispatch(Pe.oh.areViewerCompsDirty())})),(0,C.Z)((0,b.Z)(e),"closeHandler",(function(t){return t.preventDefault(),!e.areViewerCompsDirty()||(t.returnValue=$.ppF)})),(0,C.Z)((0,b.Z)(e),"handleContentSelect",(function(t,o,n,r){var s=360;try{if(t.length>0){var l=e.viewBlockersBtn.current,a=e.contentData.current;if(l&&a&&t[e.state.askForHelpIndex].type===Ee.jt.TASK){var i=l.offsetTop+l.offsetParent.offsetTop+35,d=l.offsetLeft+s>a.offsetWidth?a.offsetLeft+a.offsetWidth-s:l.offsetLeft<0?0:l.offsetLeft;return e.state.coordTop===i&&e.state.coordLeft===d||e.setState({coordTop:i,coordLeft:d}),l.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),!0}if(l&&a&&t[e.state.askForHelpIndex].type===Ee.jt.CONTENT&&e.state.selectionsLoaded){var c,u=null;if(Object.values(null!==(c=e.state.loadedSelections)&&void 0!==c?c:{}).forEach((function(o){Object.values(o).forEach((function(o){o.askForHelpId===t[e.state.askForHelpIndex].id&&(u=o)}))})),!u){var p=l.offsetTop+l.offsetParent.offsetTop+35,h=l.offsetLeft+s>a.offsetWidth?a.offsetLeft+a.offsetWidth-s:l.offsetLeft<0?0:l.offsetLeft;return e.state.coordTop===p&&e.state.coordLeft===h||e.setState({coordTop:p,coordLeft:h}),l.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),!0}var f=document.querySelector("[data-id='".concat(u.id,"']")),v=document.getElementById("".concat(u.id));if(f&&v){var k=f.offsetLeft+s>a.offsetWidth?a.offsetLeft+a.offsetWidth-s:f.offsetLeft<0?0:f.offsetLeft;return Ze.render((0,H.jsx)(ve.zx,{onRootClose:function(){e.setState({showAskForHelpRaise:!1,showAllAskForHelps:!1,updateBlocker:!1}),Ze.render(null,v)},children:(0,H.jsx)("div",{className:"h-auto flex absolute flex-col shadow-lg z-10 bg-white dark:bg-dark-90 mt-2",style:{width:"360px",left:k},children:t[e.state.askForHelpIndex].status===Ee.JH.RESOLVED?(0,H.jsx)(je.default,{params:{title:"Blockers",ask_message:t[e.state.askForHelpIndex].message||"Hi, I am stuck. Please help.",resolve_message:t[e.state.askForHelpIndex].resolved_message||"The query is resolved offline.",user_name:t[e.state.askForHelpIndex].user_name,resolver_name:t[e.state.askForHelpIndex].resolver_name,user_profile:t[e.state.askForHelpIndex].user_profile,resolver_profile:t[e.state.askForHelpIndex].resolver_profile,created:t[e.state.askForHelpIndex].created,resolved_at:t[e.state.askForHelpIndex].resolved_at,noButtons:!0,allowInput:!1,showArrows:!0,showAskForHelpRaise:e.state.showAskForHelpRaise,setShowAskForHelpRaise:function(t){e.setState({showAskForHelpRaise:t}),Ze.render(null,v)},setShowAllAskForHelps:function(t){e.setState({showAllAskForHelps:t}),Ze.render(null,v)},currentBlocker:e.state.askForHelpIndex,totalBlockers:t.length,setAskForHelpIndex:function(o){o>0?e.setState({askForHelpIndex:e.state.askForHelpIndex+1>=t.length?0:e.state.askForHelpIndex+1}):e.setState({askForHelpIndex:e.state.askForHelpIndex-1<0?t.length-1:e.state.askForHelpIndex-1}),Ze.render(null,v)}}}):(0,H.jsx)(je.default,{params:{callBacks:{successCallBack:function(){var o;e.setState({askForHelpTaskId:null}),e.loadAskForHelps(),e.setState({showAskForHelpRaise:!1,showAllAskForHelps:!1}),Ze.render(null,v),e.props.dispatch(J.n.show(Y.zN,{title:"Ask For Help has been resolved",styleType:"leftAligned",noButtons:!0}));var n,r=null;(Object.values(null!==(o=e.state.loadedSelections)&&void 0!==o?o:{}).forEach((function(o){Object.values(o).forEach((function(o){o.askForHelpId===t[e.state.askForHelpIndex].id&&(r=o)}))})),r)&&(null===(n=document.querySelector("[data-id=".concat(r.id,"]")).classList)||void 0===n||n.replace(De,Me));(0,Oe.qP)(Oe.f2.ONBOARDING,Oe.bt.ASK_FOR_HELP_RESOLVED)},failureCallBack:function(){e.props.dispatch(J.n.show(Y.ad,{status:"ERROR",text:"Unable to resolve for Ask For Help"}))}},title:"Blockers",ask_message:t[e.state.askForHelpIndex].message||"Hi, I am stuck. Please help.",allowInput:!0,buttonText:"Resolve",buttonLoadingText:"Loading...",placeholder:"Write a solution for this blocker.",successMessage:"Blockers resolved!",characterLimit:1e3,showArrows:!0,user_name:t[e.state.askForHelpIndex].user_name,user_profile:t[e.state.askForHelpIndex].user_profile,created:t[e.state.askForHelpIndex].created,url:"/api/askforhelpV2/".concat(t[e.state.askForHelpIndex].id,"/mentee/").concat(o||n),type:"PUT",updateBlocker:e.state.updateBlocker,setUpdateBlocker:function(t){return e.setUpdateBlocker(t)},feedbackRequired:!0,showAskForHelpRaise:e.state.showAskForHelpRaise,setShowAskForHelpRaise:function(t){e.setState({showAskForHelpRaise:t}),Ze.render(null,v)},setShowAllAskForHelps:function(t){e.setState({showAllAskForHelps:t}),Ze.render(null,v)},canUpdateBlockers:r,currentBlocker:e.state.askForHelpIndex,totalBlockers:t.length,setAskForHelpIndex:function(o){o>0?e.setState({askForHelpIndex:e.state.askForHelpIndex+1>=t.length?0:e.state.askForHelpIndex+1}):e.setState({askForHelpIndex:e.state.askForHelpIndex-1<0?t.length-1:e.state.askForHelpIndex-1}),Ze.render(null,v)}}})})}),v),f.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),!1}if(e.state.markdownLoaded){var g=l.offsetTop+l.offsetParent.offsetTop+35,_=l.offsetLeft+s>a.offsetWidth?a.offsetLeft+a.offsetWidth-s:l.offsetLeft<0?0:l.offsetLeft;return e.state.coordTop===g&&e.state.coordLeft===_||e.setState({coordTop:g,coordLeft:_}),l.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),!0}}}}catch(m){(0,Te.u)(m)}return!1})),(0,C.Z)((0,b.Z)(e),"loadSelections",(function(t){e.state.selectionsLoaded&&e.setState({selectionsLoaded:!1});var o=[];Object.values(null!==t&&void 0!==t?t:{}).forEach((function(e){var t;null!==e&&void 0!==e&&null!==(t=e.userdata)&&void 0!==t&&t.selections&&Object.assign(o,e.userdata.selections)})),e.setState({loadedSelections:o,selectionsLoaded:!0})})),(0,C.Z)((0,b.Z)(e),"askForHelpCreate",(function(){var t,o,n,r=e.props.router,s=null===(t=e.props.collection)||void 0===t||null===(o=t.instance)||void 0===o||null===(n=o.details)||void 0===n?void 0:n.organization_id,l=r.query,a=l.author_id,i=l.collection_id,d=l.page_id;if(!e.state.askForHelpTaskId){var c=e.viewBlockersBtn.current,u=e.contentData.current;return(0,H.jsx)(ve.zx,{onRootClose:function(){e.setState({showAskForHelpRaise:!1,showAllAskForHelps:!1,updateBlocker:!1})},children:(0,H.jsx)("div",{className:"h-auto absolute flex shadow-lg z-10 bg-white dark:bg-dark-90",style:{top:c.offsetTop+c.offsetParent.offsetTop+35,left:c.offsetLeft+360>u.offsetWidth?u.offsetLeft+u.offsetWidth-360:c.offsetLeft<0?0:c.offsetLeft,width:"360px"},children:(0,H.jsx)(je.default,{params:{callBacks:{successCallBack:function(t){var o=JSON.parse(t).askforhelp_id;e.setState({askForHelpTaskId:o,showAskForHelpRaise:!1,showAllAskForHelps:!1}),e.loadAskForHelps(),e.props.dispatch(J.n.show(Y.zN,{title:"Ask For Help has been raised",description:"We have informed your mentor that you would like help with this task. You'll hear back from them soon. Meanwhile, you can explore other tasks.",styleType:"leftAligned",noButtons:!0})),(0,Oe.qP)(Oe.f2.ONBOARDING,Oe.bt.ASK_FOR_HELP)},failureCallBack:function(){e.props.dispatch(J.n.show(Y.ad,{status:"ERROR",text:"Unable to request for Ask For Help"}))}},buttonText:"Ask For Help",buttonLoadingText:"Asking...",placeholder:"Describe the problem you are experiencing, and what kind of help you need.",successMessage:"Ask For Help request sent.",allowInput:!0,characterLimit:600,url:"/api/askforhelpV2",type:"POST",showArrows:!1,data:{author_id:a,collection_id:i,page_id:d,path_author_id:r.query.path_author_id,path_id:r.query.path_id,organization_id:s},feedbackRequired:!0,showAskForHelpRaise:e.state.showAskForHelpRaise,setShowAskForHelpRaise:function(t){return e.setShowAskForHelpRaise(t)},setShowAllAskForHelps:function(t){return e.setShowAllAskForHelps(t)}}})})})}})),(0,C.Z)((0,b.Z)(e),"loadAskForHelps",(function(){var t,o;if((null===(t=e.props.planInfo)||void 0===t?void 0:t.isPlanLesson)||(null===(o=e.props.planInfo)||void 0===o?void 0:o.isPlanModule)){var n,r,s,l=e.props.router,a=null===(n=e.props.collection)||void 0===n||null===(r=n.instance)||void 0===r||null===(s=r.details)||void 0===s?void 0:s.organization_id,i=qe(e.props),d=l.query,c=d.author_id,u=d.collection_id,p=d.page_id,h=l.query.path_author_id,f=l.query.path_id,v=l.query.menteeId;if(!v&&!i)return;(0,V.Z)({url:"/api/askforhelpV2/".concat(a,"/").concat(v||i,"/").concat(c,"/").concat(u,"/").concat(p).concat(h?"?plan_author_id=".concat(h,"&plan_id=").concat(f):""),type:"GET"}).then((function(t){e.setState({askForHelps:JSON.parse(t)})}))}})),(0,C.Z)((0,b.Z)(e),"countActiveBlockers",(function(){var t;return Object.values(null!==(t=e.state.askForHelps)&&void 0!==t?t:{}).filter((function(e){return e.status===Ee.JH.INITIATED})).length})),(0,C.Z)((0,b.Z)(e),"sortBlockers",(function(){var t,o=[],n=[],r=[],s=[],l=[];return Object.values(null!==(t=e.state.askForHelps)&&void 0!==t?t:{}).forEach((function(e){e.type===Ee.jt.TASK?e.status===Ee.JH.INITIATED?r.push(e):n.push(e):e.status===Ee.JH.INITIATED?l.push(e):s.push(e)})),o=o.concat(r,n,l,s)})),e}return(0,A.Z)(o,[{key:"componentDidMount",value:function(){var e,t,o=this;L.default.router.change=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!o.areViewerCompsDirty()||window.confirm($.ppF)?L.Router.prototype.change.apply(L.default.router,t):new Promise((function(e,t){return e(!1)}))},window.addEventListener("beforeunload",this.closeHandler),this.loadAskForHelps();var n=null===(e=L.default.router)||void 0===e||null===(t=e.query)||void 0===t?void 0:t.ask_for_help_id;parseInt(n)&&this.setState({askForHelpMountId:parseInt(n)})}},{key:"componentDidUpdate",value:function(e,t){var o=this;if(this.state.askForHelpIndex===t.askForHelpIndex&&this.state.showAllAskForHelps===t.showAllAskForHelps||this.setState({updateBlocker:!1}),e.pageProps.ask_for_help_id!==this.props.pageProps.ask_for_help_id&&this.setState({askForHelpTaskId:this.props.pageProps.ask_for_help_id}),e.router.query.page_id===this.props.router.query.page_id&&e.router.query.page_url_slug===this.props.router.query.page_url_slug&&qe(this.props)===qe(e)||(this.setShowAllAskForHelps(!1),this.setShowAskForHelpRaise(!1),this.setAskForHelpIndex(0),this.loadAskForHelps()),e.widgetSnapshots!==this.props.widgetSnapshots&&this.loadSelections(this.props.widgetSnapshots),t.askForHelps!==this.state.askForHelps)if(this.state.sortedBlockers.length>0){var n=this.state.sortedBlockers[this.state.askForHelpIndex].id,r=this.sortBlockers(this.state.askForHelps);this.setState({sortedBlockers:r},(function(){var e=r.findIndex((function(e){return e.id===n}));e>=0&&o.setAskForHelpIndex(e)}))}else{var s=this.sortBlockers(this.state.askForHelps);this.setState({sortedBlockers:s})}}},{key:"componentWillUnmount",value:function(){window.removeEventListener("beforeunload",this.closeHandler),delete L.default.router.change}},{key:"render",value:function(){var e,t,o,n,r,s,l,a,i,d,c,u,p,h,f,v=this,k=this.props,g=k.pageId,_=k.authorId,m=k.collectionId,I=k.isVersionsPage,w=k.comps,x=k.docker,y=k.pageTitle,F=k.pageSummary,A=k.children,b=k.author,S=k.isCollectionArticle,P=k.widgetSnapshots,O=k.previousNextArticles,C=k.contentLoading,j=k.userId,E=k.pageProps,L=k.default_themes,Z=k.collapsed,T=k.coverImage,R=k.logWidgetInteraction,B=k.executionMetadata,N=k.userThemes,D=k.vimMode,M=k.contentWidth,q=k.course_url_slug,z=k.apiKeys,U=k.userApiKeys,W=k.handleSaveWidgetUserData,V=k.collection,ne=k.planInfo,re=k.planPreviousNextContent,se=k.isMobileAgent,le=k.router,ae=k.isStandaloneModule,ie=k.moduleCategories,de=this.state,ce=de.coordTop,ue=de.coordLeft,pe=null!==(e=null===ie||void 0===ie||null===(t=ie.data)||void 0===t?void 0:t.optionalItems)&&void 0!==e?e:[],he=pe.includes("".concat(_,"_").concat(m))||pe.includes("".concat(_,"_").concat(m,"_").concat(g)),fe=null===(o=this.props.collection)||void 0===o||null===(n=o.instance)||void 0===n?void 0:n.details,ke=null===fe||void 0===fe?void 0:fe.path_author_id,me=null===fe||void 0===fe?void 0:fe.path_id,ye=(null===ne||void 0===ne?void 0:ne.isPlanLesson)||(null===ne||void 0===ne?void 0:ne.isPlanModule),He=ye&&le.query.menteeId,Fe={},Ae=(null===fe||void 0===fe?void 0:fe.next_content_type)===$.j1J.STANDALONE_ASSESSMENT;null!==fe&&void 0!==fe&&fe.next_module_collection_id&&!Ae&&(Fe={nextModuleCollectionId:null===fe||void 0===fe?void 0:fe.next_module_collection_id,nextModuleAuthorId:null===fe||void 0===fe?void 0:fe.next_module_author_id,nextModuleTitle:null===fe||void 0===fe?void 0:fe.next_module_title,nextModuleSlug:null===fe||void 0===fe?void 0:fe.next_module_slug}),(null!==fe&&void 0!==fe&&fe.next_external_assessment||null!==fe&&void 0!==fe&&fe.next_external_project||Ae)&&(Fe={nextPathItemId:Ae?null===fe||void 0===fe?void 0:fe.next_content_id:null===fe||void 0===fe?void 0:fe.next_path_item_id,pathId:Ae?null===fe||void 0===fe?void 0:fe.next_content_collection_id:me,authorId:Ae?null===fe||void 0===fe?void 0:fe.next_content_author_id:ke,pathUrlSlug:null===fe||void 0===fe?void 0:fe.path_url_slug,nextModuleTitle:null===fe||void 0===fe?void 0:fe.next_module_title,type:fe.next_content_type});var be,Se,Pe,Ce=null===O||void 0===O?void 0:O.is_current_page_lesson,Ze=E.course_title||(null===V||void 0===V||null===(r=V.instance)||void 0===r?void 0:r.details.title)||"",Te="".concat(y||F.title||""," ").concat(Ce?"- "+Ze:"")||"Educative | Untitled",Re=E.external_author_id,Ne=E.external_collection_id,ze=E.external_page_id,Ue=Re&&Ne&&ze?"https://www.educative.io/collection/page/".concat(Re,"/").concat(Ne,"/").concat(ze):null,We=E.page_table_of_content,Ve=_,Ke=m,Ge=g,Je={};(null===(s=this.props.pageProps)||void 0===s?void 0:s.item_type)===$.RIu.LESSON&&(Ve=null===(be=this.props.pageProps)||void 0===be?void 0:be.external_author_id,Ke=null===(Se=this.props.pageProps)||void 0===Se?void 0:Se.external_collection_id,Ge=null===(Pe=this.props.pageProps)||void 0===Pe?void 0:Pe.external_page_id,Je={authorId:_,collectionId:m,pageId:g,compAuthorId:Ve,compCollectionId:Ke,compPageId:Ge});var Ye=(0,xe.$z)({cookies:this.props.cookies,userInfo:this.props.userInfo,userInfoLoaded:this.props.userInfoLoaded})===$.gaB.DARK_MODE,Xe=!(null!==(l=this.props.collection)&&void 0!==l&&l.instance.details.allow_custom_styling_viewer_side)&&Ye,$e=!(null===(a=this.props.pageProps)||void 0===a||!a.mentor_id)&&!le.query.menteeId,Qe=null===le||void 0===le?void 0:le.query.menteeId,et=!(null===(i=this.props.pageProps)||void 0===i||!i.is_mentor),tt=this.state.sortedBlockers,ot=null===(d=this.props.collection)||void 0===d||null===(c=d.instance)||void 0===c||null===(u=c.details)||void 0===u?void 0:u.organization_id,nt=(0,Le.i5)(this.props.userInfo,ot),rt=(0,Le.eU)(this.props.userInfo,ot),st=this.state.sortedBlockers,lt=this.countActiveBlockers(),at=Object.keys(null!==(p=this.state.askForHelps)&&void 0!==p?p:{}).length;if(!C&&tt.length>0&&this.state.askForHelpMountId){var it=tt.findIndex((function(e){return e.id===v.state.askForHelpMountId}));it>=0&&this.setState({askForHelpMountId:null,askForHelpIndex:it,showAllAskForHelps:!0})}var dt=(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Q.Z,{renderMode:"viewer",comps:Xe?this.state.removedCustomStyledContent:w,updateContentState:function(){},docker:x,allowLoggedOutExecutions:null===fe||void 0===fe?void 0:fe.allow_logged_out_executions,uniqueLiveWidgetUrls:null===fe||void 0===fe?void 0:fe.unique_live_widget_urls,saveWidgetUserData:W,widgetSnapshots:P,authorId:Ve,userId:j,pageId:Ge,collectionId:Ke,isDraft:I,default_themes:L,logWidgetInteraction:m&&R(I),userThemes:N,vimMode:D,executionMetadata:B,apiKeys:z,userApiKeys:U,pageType:$.sLn.COLLECTION,componentVisibilityChange:this.props.componentVisibilityChange,defaultCourseLanguage:this.props.defaultCourseLanguage,originalPageProps:Je,copyWidgetEvent:this.copyWidgetEvent,isPlan:ye,askForHelp:this.state.askForHelps,loadAskForHelps:this.loadAskForHelps,organizationId:ot,isMentee:$e,menteeId:Qe,askForHelpIndex:this.state.askForHelpIndex,contentData:this.contentData,setMarkdownLoaded:this.setMarkdownLoaded,handleContentBlockerClick:this.handleContentBlockerClick}),ye&&(0,H.jsx)("div",{children:this.state.showAllAskForHelps&&tt.length>0&&!C&&this.handleContentSelect(tt,Qe,j,$e)&&(0,H.jsx)(ve.zx,{onRootClose:function(){v.setState({showAskForHelpRaise:!1,showAllAskForHelps:!1,updateBlocker:!1})},children:(0,H.jsx)("div",{className:"h-auto flex absolute flex-col shadow-lg z-10 bg-white dark:bg-dark-90",style:{top:ce,left:ue,width:"360px"},children:tt[this.state.askForHelpIndex].status===Ee.JH.RESOLVED?(0,H.jsx)(je.default,{params:{title:"Blockers",ask_message:tt[this.state.askForHelpIndex].message||"Hi, I am stuck. Please help.",resolve_message:tt[this.state.askForHelpIndex].resolved_message||"The query is resolved offline.",user_name:tt[this.state.askForHelpIndex].user_name,resolver_name:tt[this.state.askForHelpIndex].resolver_name,user_profile:tt[this.state.askForHelpIndex].user_profile,resolver_profile:tt[this.state.askForHelpIndex].resolver_profile,created:tt[this.state.askForHelpIndex].created,resolved_at:tt[this.state.askForHelpIndex].resolved_at,noButtons:!0,allowInput:!1,showArrows:!0,showAskForHelpRaise:this.state.showAskForHelpRaise,setShowAskForHelpRaise:function(e){return v.setShowAskForHelpRaise(e)},setShowAllAskForHelps:function(e){return v.setShowAllAskForHelps(e)},currentBlocker:this.state.askForHelpIndex,totalBlockers:tt.length,setAskForHelpIndex:function(e){e>0?v.setAskForHelpIndex(v.state.askForHelpIndex+1>=tt.length?0:v.state.askForHelpIndex+1):v.setAskForHelpIndex(v.state.askForHelpIndex-1<0?tt.length-1:v.state.askForHelpIndex-1)}}}):(0,H.jsx)(je.default,{params:{callBacks:{successCallBack:function(){if(v.state.updateBlocker)v.setUpdateBlocker(!1);else{var e;v.props.dispatch(J.n.show(Y.zN,{title:"Ask For Help has been resolved",styleType:"leftAligned",noButtons:!0}));var t,o=null;if(Object.values(null!==(e=v.state.loadedSelections)&&void 0!==e?e:{}).forEach((function(e){Object.values(e).forEach((function(e){e.askForHelpId===tt[v.state.askForHelpIndex].id&&(o=e)}))})),tt[v.state.askForHelpIndex].type===Ee.jt.TASK&&v.setState({askForHelpTaskId:null}),o)null===(t=document.querySelector("[data-id='".concat(o.id,"']")).classList)||void 0===t||t.replace(De,Me);(0,Oe.qP)(Oe.f2.ONBOARDING,Oe.bt.ASK_FOR_HELP_RESOLVED),v.setState({showAskForHelpRaise:!1,showAllAskForHelps:!1})}v.loadAskForHelps()},failureCallBack:function(){v.setUpdateBlocker(!1),v.props.dispatch(J.n.show(Y.ad,{status:"ERROR",text:"Unable to resolve for Ask For Help"}))}},title:"Blockers",ask_message:tt[this.state.askForHelpIndex].message||"Hi, I am stuck. Please help.",allowInput:!0,buttonText:"Resolve",buttonLoadingText:"Loading...",placeholder:"Write a solution for this blocker.",successMessage:"Blockers resolved!",characterLimit:1e3,showArrows:!0,user_name:tt[this.state.askForHelpIndex].user_name,user_profile:tt[this.state.askForHelpIndex].user_profile,created:tt[this.state.askForHelpIndex].created,url:"/api/askforhelpV2/".concat(st[this.state.askForHelpIndex].id,"/mentee/").concat(Qe||j).concat(this.state.updateBlocker?"?update=true":""),type:"PUT",updateBlocker:this.state.updateBlocker,setUpdateBlocker:function(e){return v.setUpdateBlocker(e)},feedbackRequired:!0,showAskForHelpRaise:this.state.showAskForHelpRaise,setShowAskForHelpRaise:function(e){return v.setShowAskForHelpRaise(e)},setShowAllAskForHelps:function(e){return v.setShowAllAskForHelps(e)},currentBlocker:this.state.askForHelpIndex,totalBlockers:tt.length,canUpdateBlockers:$e,setAskForHelpIndex:function(e){e>0?v.setAskForHelpIndex(v.state.askForHelpIndex+1>=tt.length?0:v.state.askForHelpIndex+1):v.setAskForHelpIndex(v.state.askForHelpIndex-1<0?tt.length-1:v.state.askForHelpIndex-1)}}})})})})]});return!E.ask_for_signup||E.isAccessibleForFree||null!==j&&void 0!==j||(dt=(0,H.jsx)(we.Z,{message:"A Free Signup is required to view this lesson.",illustration:(0,H.jsx)(Ie,{}),actionButtons:(0,H.jsx)("button",{className:"contained-primary w-full m-0",onClick:function(){v.props.dispatch(J.n.show(Y.kp,{ru:"/collection/page/".concat(_,"/").concat(m,"/").concat(g)}))},children:"Sign Up"})})),(0,H.jsx)(_e.ZP,{children:(0,H.jsxs)(_e.WT,{contentWidth:M,children:[(0,H.jsxs)(K.default,{children:[Ue&&(0,H.jsx)("link",{rel:"canonical",href:Ue}),(0,H.jsx)("title",{children:Te}),(0,H.jsx)("meta",{property:"og:title",content:Te})]}),(0,H.jsx)(X.Z,{pageSummary:!C&&S?Be(Be({},F),{},{title:y}):F,coverImage:T,author:b,isCollectionArticle:S,pathAuthorId:ke,pathId:me,askForHelp:this.state.askForHelps,isPlan:ye,askForHelpCreate:this.askForHelpCreate,userId:j,menteeId:Qe,isMentee:$e,loadAskForHelp:this.loadAskForHelps,showAllAskForHelps:this.state.showAllAskForHelps,setShowAllAskForHelps:this.setShowAllAskForHelps,showAskForHelpRaise:this.state.showAskForHelpRaise,setShowAskForHelpRaise:this.setShowAskForHelpRaise,activeBlockers:lt,totalBlockers:at,askForHelpTaskId:this.state.askForHelpTaskId,showAskForHelpRaiseButton:((et||nt||rt)&&this.state.askForHelpTaskId||$e)&&ye&&qe(this.props),showAskForHelpViewButton:(et||nt||rt||$e)&&ye&&qe(this.props),viewBlockersBtn:this.viewBlockersBtn,children:!C&&We&&(0,H.jsx)(te.Z,{children:We})}),dt,!C&&(0,H.jsx)(ge,{authorId:_,collectionId:m,pageId:g}),se||He||C||!S?null:(0,H.jsx)(ee.Z,{userId:j,authorId:_,pageId:g,collectionId:m,pathAuthorId:null===V||void 0===V||null===(h=V.instance)||void 0===h?void 0:h.details.path_author_id,pathId:null===V||void 0===V||null===(f=V.instance)||void 0===f?void 0:f.details.path_id,isDraft:!1,isVersionsPage:I,previousNextArticles:O,collapsed:Z,course_url_slug:q,nextModuleDetails:Fe,planInfo:ne,planPreviousNextContent:re,isStandaloneModule:ae,optional:he}),!C&&(0,H.jsx)(oe.$,{children:I||se?null:(0,H.jsx)(G.Z,{authorId:Ve,collectionId:Ke,pageId:Ge,pathAuthorId:ke,pathId:me,planInfo:ne,isStandaloneModule:ae})}),A]})})}}],[{key:"getDerivedStateFromProps",value:function(e){return{removedCustomStyledContent:(0,Ce.hC)(e.comps)}}}]),o}(j.PureComponent);(0,C.Z)(ze,"defaultProps",{userThemes:"",vimMode:!1,approvedForSale:!0,handleSaveWidgetUserData:function(){}});var Ue=o(25459),We=o(54492),Ve=o(74013),Ke=o(68367),Ge=o(54207),Je=o(26081),Ye=o(67492),Xe=o(1401),$e=o(29682),Qe=o(94999),et=o(96520),tt=o(8024),ot=o(69798),nt=o(79694),rt=o(13523),st=o(57294),lt=o(32868),at=o(86625),it=o(56466);function dt(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function ct(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(o),!0).forEach((function(t){(0,C.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):dt(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var ut=/((\[.*\]\()|(href="))([^)"]*\/(collection|module|modules)\/page\/([0-9a-zA-Z]*\/)?[0-9]+\/[0-9]+\/[0-9]+)([^)"]*(\)|"))/g,pt=/((\[.*\]\()|(href="))([^)"]*(\/courses\/)[^)"/]+\/[^)"/]+)(\/?[^)"]*)(\)|")/g,ht=function(e,t,o){return e?e.replace(ut,(function(e){return ft(o,t,e.toString(),arguments.length<=4?void 0:arguments[4],arguments.length<=1?void 0:arguments[1],arguments.length<=7?void 0:arguments[7])})).replace(pt,(function(e){return ft(o,t,e.toString(),arguments.length<=4?void 0:arguments[4],arguments.length<=1?void 0:arguments[1],arguments.length<=7?void 0:arguments[7])})):e},ft=function(e,t,o,n,r,s){var l=(0,it._)(n),a=l.pageSlug?function(e){var t,o;return null===(t=(new at.Z).decode(e))||void 0===t||null===(o=t[0])||void 0===o?void 0:o.toString()}(l.pageSlug):l.pageId;if(!a)return o;var i=vt(a,t,!1);if(!i)return o;var d=e.split("/");d.splice(d.length-3,3);var c=i.moduleId.split("_");d.push.apply(d,(0,lt.Z)(c).concat([String(i.id)]));var u=d.join("/");return"".concat(r).concat(u).concat(s)},vt=function(e,t){var o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return t.find((function(t){var n=t.page_id,r=t.id,s=void 0===r?null:r;return Number(o?null!==s&&void 0!==s?s:n:null!==n&&void 0!==n?n:s)===Number(e)}))},kt=function(e,t,o){if(t.asPath.split("/").length<6)return e;var n=["SlateHTML","MarkdownEditor"],r=Object.keys(o).filter((function(e){return e.split("_").every((function(e){return!isNaN(Number(e))}))})).flatMap((function(e){return o[e].flatMap((function(t){return t.pages.map((function(t){return ct({moduleId:e},t)}))}))}));return e.map((function(e){return n.includes(e.type)?"SlateHTML"===e.type?ct(ct({},e),{},{content:ct(ct({},e.content),{},{html:ht(e.content.html,r,t.asPath)})}):"MarkdownEditor"===e.type?ct(ct({},e),{},{content:ct(ct({},e.content),{},{text:ht(e.content.text,r,t.asPath),mdHtml:ht(e.content.mdHtml,r,t.asPath)})}):e:e}))},gt=o(82954);function _t(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=(0,O.Z)(e);if(t){var r=(0,O.Z)(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return(0,P.Z)(this,o)}}function mt(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function It(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(o),!0).forEach((function(t){(0,C.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):mt(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function wt(e){var t;return null===e||void 0===e||null===(t=e.userInfo)||void 0===t?void 0:t.user_id}function xt(e){var t,o=e.fetchPageAction,n=e.userInfo,r=e.router,s=e.collection,l=e.planInfo,a=n.user_id,i=(0,st.Cm)(r.asPath).endsWith("/versions"),d=r.query,c=d.author_id,u=d.page_id,p=d.collection_id,h=Boolean(e.userInfo.user_id),f=(0,$e.Z)(null===r||void 0===r?void 0:r.asPath);o?i?(e.dispatch(U.t.load(It(It({},r.query),{},{isDraft:i,router:r}))),e.dispatch(o(c,p,u))):(h&&e.dispatch((0,Je.mt)({user_id:a})),(h||!l.isPlanLesson&&!l.isPlanModule)&&e.dispatch(U.t.load(It(It({},r.query),{},{router:r,work_type:f,organization_id:(l.isPlanLesson||l.isPlanModule)&&(null===s||void 0===s||null===(t=s.instance)||void 0===t?void 0:t.details.organization_id)}))),e.dispatch(o(It(It({},r.query),{},{work_type:f})))):i?(e.dispatch(z.E.load(c,u,"/draft")),e.dispatch(D.w.load(u))):(h&&e.dispatch((0,Je.mt)({user_id:a})),e.dispatch(z.E.load(c,u)),e.dispatch(M.D.load(c,u,r)))}var yt=function(e){(0,S.Z)(o,e);var t=_t(o);function o(){var e;(0,F.Z)(this,o);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r)),(0,C.Z)((0,b.Z)(e),"state",{pageTableOfContent:null,scrolledToLink:!1,menteeSnaps:null}),(0,C.Z)((0,b.Z)(e),"componentWillUnmount",(function(){e.onPageUnmount(),window.removeEventListener("keydown",e.keydownHandler,!0),window.removeEventListener("beforeunload",e.onPageUnmount),e.clearContent(e.props),e.props.dispatch(U.t.clear())})),(0,C.Z)((0,b.Z)(e),"onPageUnmount",(function(){var t,o,n,r,s,l,a,i,d=e.props,c=d.collection,u=d.dispatch,p=d.onPageUnmount,h=d.pageProps,f=d.router,v=d.userInfo,k=(0,st.Cm)(f.asPath).endsWith("/versions"),g=h.author_id,_=h.collection_id,m=h.page_id,I=h.external_author_id,w=h.external_collection_id,x=h.external_page_id,y=!(null===c||void 0===c||null===(t=c.instance)||void 0===t||!t.details.path_id)&&!(null===c||void 0===c||null===(o=c.instance)||void 0===o||!o.details.path_author_id)&&(null===c||void 0===c||null===(n=c.instance)||void 0===n?void 0:n.details.work_type)===$.dLO.COLLECTION;return p(v,x?I:g,x?w:_,m,k,u,void 0,void 0,y?null===c||void 0===c||null===(r=c.instance)||void 0===r?void 0:r.details.path_id:Number(null===c||void 0===c||null===(s=c.instance)||void 0===s?void 0:s.details.collection_id),y?null===c||void 0===c||null===(l=c.instance)||void 0===l?void 0:l.details.path_author_id:Number(null===c||void 0===c||null===(a=c.instance)||void 0===a?void 0:a.details.author_id),y?$.dLO.MODULE:null===c||void 0===c||null===(i=c.instance)||void 0===i?void 0:i.details.work_type)})),(0,C.Z)((0,b.Z)(e),"keydownHandler",(function(t){var o=e.props.router,n=(0,st.Cm)(o.asPath).endsWith("/versions"),r=t.metaKey,s=t.ctrlKey,l="s"===t.key;if((r||s)&&l)t.preventDefault();else if(n){var a="e"===t.key;(r||s)&&a&&!t.shiftKey&&(t.preventDefault(),e.goToEdit())}})),(0,C.Z)((0,b.Z)(e),"handleDiscourseInteraction",(function(){(0,Oe.qP)(Oe.f2.INTERACTION,Oe.bt.INTERACTION_DISCOURSE_LINK_CLICKED)})),(0,C.Z)((0,b.Z)(e),"isCollectionArticle",(function(){return null!=e.props.router.query.collection_id||null!=e.props.router.query.course_url_slug})),(0,C.Z)((0,b.Z)(e),"goToEdit",(function(){var t=e.props.router.query,o=t.author_id,n=t.page_id,r=t.collection_id,s=r?"/pageeditor/".concat(o,"/").concat(r,"/").concat(n):"/pageeditor/".concat(n);"/demo/draft"!==e.props.router.pathname?e.props.router.push(s):e.props.router.push("/demo")})),(0,C.Z)((0,b.Z)(e),"goToPlan",(function(){var t=e.props,o=t.planInfo,n=t.router,r=t.collection;if(o.isPlanLesson){var s=n.query,l=s.author_id,a=s.collection_id;e.props.router.push("/plan/".concat(l,"/").concat(a))}else{var i,d=null===r||void 0===r||null===(i=r.instance)||void 0===i?void 0:i.details,c=d.path_author_id,u=d.path_id;e.props.router.push("/plan/".concat(c,"/").concat(u))}})),(0,C.Z)((0,b.Z)(e),"restoreSelectedSnapshot",(function(){var t,o,n=e.props,r=n.authorId,s=n.collectionId,l=n.firstSnapshot,a=n.selectedSnapshot,i=n.router,d=e.props.router.query.page_id||e.props.pageProps.page_id,c=e.props.collection;l.key!==a.key&&e.props.dispatch((0,Ge.Z)(i,r,s,null,d,a.key,$.qen.COLLECTION_LESSON,null===c||void 0===c||null===(t=c.instance)||void 0===t||null===(o=t.details)||void 0===o?void 0:o.work_type))})),(0,C.Z)((0,b.Z)(e),"onClickReaderPreferencesButton",(function(){(0,e.props.dispatch)(J.n.show(Y.VF)),(0,Oe.qP)(Oe.f2.COURSE,Oe.bt.INTERACTION_READER_PREFERENCES,"OPEN")})),(0,C.Z)((0,b.Z)(e),"getButtonsMeta",(function(){var t,o=e.props,n=o.collection,r=o.collectionId,s=o.firstSnapshot,l=o.isInReviewerMode,a=o.onNotesClick,i=o.pageProps,d=o.planInfo,c=o.previousNextArticles,u=o.router,p=o.selectedSnapshot,h=o.showVersionHistory,f=o.userInfo,v=(null===n||void 0===n||null===(t=n.instance)||void 0===t?void 0:t.details)||{},k=v.title,g=s.key===p.key,_=(0,st.Cm)(u.asPath).endsWith("/versions"),m=d.isPlanLesson||d.isPlanModule,I=v.path_title,w=(null===c||void 0===c?void 0:c.is_current_page_lesson)&&i.discourse_page_url,x=!(null===f||void 0===f||!f.user_id);return[_&&!l&&h&&{ariaLabel:"restore-button",disabled:g,disabledMessage:"You're already on latest version",children:(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)("span",{className:"sm:inline tailwind-hidden uppercase",children:"Restore"}),(0,H.jsx)(Z.Z,{className:"flex-shrink-0 h-5 sm:hidden w-5"})]}),onClick:e.restoreSelectedSnapshot,type:Ue._8},!_&&!m&&x&&w&&{children:(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(rt.Z,{className:"fill-current h-6 w-6"}),(0,H.jsx)("span",{className:"ml-2 sm:!inline",children:"Ask a Question"})]}),className:"tailwind-hidden rounded sm:!flex",id:"discourseLink",onClick:function(){e.handleDiscourseInteraction(),window.open(i.discourse_page_url,"_blank","noopener noreferrer")},type:Ue.Fs},!_&&!m&&x&&w&&{children:(0,H.jsx)(rt.Z,{className:"fill-current h-6 w-6"}),className:"w-12 h-9 !min-w-0 sm:hidden",id:"discourseLink",onClick:function(){e.handleDiscourseInteraction(),window.open(i.discourse_page_url,"_blank","noopener noreferrer")},tooltipMessage:"Ask a Question",type:Ue._8},!_&&m&&x&&$.FzT&&{className:"w-12 h-9 !min-w-0",children:(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)("span",{className:"sm:inline tailwind-hidden uppercase",children:d.isPlanLesson?k:I}),(0,H.jsx)(ot.Z,{className:"flex-shrink-0 h-5 sm:hidden w-5"})]}),onClick:e.goToPlan,tooltipMessage:"Go Back to Plan",type:Ue.Vb},!m&&!_&&x&&!!r&&{className:"w-12 h-9 !min-w-0",children:(0,H.jsx)(R.Z,{className:"h-6 w-6",id:$.FzT?"selenium-open-highlights-form":null}),onClick:a,tooltipMessage:"Saved notes and highlights",type:Ue._8},!_&&x&&{ariaLabel:"options-button",className:"w-12 h-9 !min-w-0",children:m?(0,H.jsx)(nt.Z,{className:"h-6 w-6"}):(0,H.jsx)(T.Z,{className:"h-6 w-6"}),id:"ReaderPreferencesButton",onClick:e.onClickReaderPreferencesButton,type:Ue._8}]})),(0,C.Z)((0,b.Z)(e),"clearContent",(function(e){var t=e.clearPageAction;t?e.dispatch(t()):e.dispatch(M.D.clear())})),e}return(0,A.Z)(o,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.keydownHandler,!0),xt(this.props),this.isCollectionArticle()||this.props.dispatch(q.n.load(this.props.router.query.author_id)),window.addEventListener("beforeunload",this.onPageUnmount),this.isCollectionArticle()&&!(0,st.Cm)(this.props.router.asPath).endsWith("/versions")&&wt(this.props)&&this.props.onPageMount()}},{key:"shouldComponentUpdate",value:function(e){return e.router.query.page_id===this.props.router.query.page_id&&e.router.query.page_url_slug===this.props.router.query.page_url_slug||(this.onPageUnmount(),this.clearContent(this.props),this.props.dispatch(U.t.clear())),!0}},{key:"componentDidUpdate",value:function(){var e=(0,y.Z)(x().mark((function e(t){var o,n,r,s,l,a,i,d,c,u,p,h,f,v,k,g,_,m,I,w,y,H,F,A,b,S,P,O,C,j,E,L,Z,T,R,B,N,D,M,q,z,W,V,K,G,J,Y;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.pageProps.page_table_of_content===this.props.pageProps.page_table_of_content&&this.props.comps===t.comps){e.next=22;break}if(u=this.props.comps,p=this.props.pageProps.page_table_of_content,!("/demo/draft"===this.props.router.pathname&&this.props.pageSummary.pageTocEnabled||null!==(a=this.props.pageProps)&&void 0!==a&&a.page_table_of_content)){e.next=17;break}return e.prev=4,e.next=7,(0,Ve.TE)(u);case 7:h=e.sent,f=h.TOC,v=h.updatedComps,p=f,u=v,e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),(0,Te.u)(e.t0);case 17:k=null===(i=this.props.collection)||void 0===i||null===(d=i.instance)||void 0===d?void 0:d.details,g=!!this.props.router.query.encodedPathInfo,_=!(null===k||void 0===k||!k.is_global)||g&&!(null===k||void 0===k||!k.is_standalone_module),null!==(c=this.props.moduleCategories)&&void 0!==c&&c.data&&_&&(u=kt(u,this.props.router,this.props.moduleCategories.data)),this.setState({comps:u,pageTableOfContent:p});case 22:t.router.query.page_id===this.props.router.query.page_id&&t.router.query.page_url_slug===this.props.router.query.page_url_slug||(xt(this.props),this.isCollectionArticle()&&!(0,st.Cm)(this.props.router.asPath).endsWith("/versions")&&wt(this.props)&&this.props.onPageMount()),m=this.props.planInfo,wt(this.props)!==wt(t)&&(null!==m&&void 0!==m&&m.isPlanLesson||null!==m&&void 0!==m&&m.isPlanModule)&&(y=this.props.router,this.props.dispatch(U.t.load(It(It({},y.query),{},{router:y,work_type:(0,$e.Z)(null===y||void 0===y?void 0:y.asPath),organization_id:(m.isPlanLesson||m.isPlanModule)&&(null===(I=this.props.collection)||void 0===I||null===(w=I.instance)||void 0===w?void 0:w.details.organization_id)})))),H=this.props.pageProps,F=H.page_id,A=H.author_id,b=H.collection_id,S=H.external_author_id,P=H.external_collection_id,O=this.props,C=O.isCollectionOwnedByReader,j=O.isCollectionOwnedByAuthor,E=O.isCollectionPriced,L=O.percentCompleted,Z=O.dispatch,T=O.previousNextArticles,R=(C||!E)&&!j&&L<100,null!==(o=t.pageProps)&&void 0!==o&&o.docker||null===(n=this.props.pageProps)||void 0===n||!n.docker||(N={docker:null===(B=this.props.pageProps)||void 0===B?void 0:B.docker,author_id:S||A,collection_id:P||b},Z((0,de.fo)(N))),(null===(r=t.pageProps)||void 0===r||!r.external_api_keys)&&null!==(s=this.props.pageProps)&&void 0!==s&&s.external_api_keys&&this.props.pageProps.external_api_keys.length>0&&(M=null===(D=this.props.pageProps)||void 0===D?void 0:D.external_api_keys,Z(ce.X5.addExternalApiKeys(M))),wt(this.props)&&F&&null!==T&&void 0!==T&&T.completionLoaded&&(F!==t.pageProps.page_id||!(null===T||void 0===T||!T.completionLoaded)!==!(null===(l=t.previousNextArticles)||void 0===l||!l.completionLoaded))&&Z((0,Ke.ny)({collection_id:b,author_id:A,payload:{LAST_VISITED:F,resumable:R}}));try{null!==(q=window.location)&&void 0!==q&&q.hash&&!this.state.scrolledToLink&&(W=document.querySelector(null===(z=window.location)||void 0===z?void 0:z.hash))&&(W.scrollIntoView(),(V=window.scrollY)&&window.scroll(0,V-Xe.WG),this.setState({scrolledToLink:!0}))}catch(x){console.log("could not scroll link into view: ",null===(K=window.location)||void 0===K?void 0:K.hash)}if(!this.props.userCollectionArticle.loaded||this.props.userCollectionArticle.loading){e.next=49;break}if(null===(G=this.props.router)||void 0===G||null===(J=G.query)||void 0===J||!J.scrollParams){e.next=49;break}Y=0;case 36:if(!(Y<5)){e.next=49;break}return e.prev=37,e.next=40,(0,et._v)(2e3);case 40:return this.props.navigateToHighlight(!0),e.abrupt("break",49);case 44:e.prev=44,e.t1=e.catch(37);case 46:Y++,e.next=36;break;case 49:case"end":return e.stop()}}),e,this,[[4,14],[37,44]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t,o,n=this,r=this.props,s=r.cover_image_id,l=r.router,a=r.contentLoading,i=r.authorName,d=r.pageProps,c=r.profile_image_serving_url,u=r.collectionSideBarVisible,p=r.percentCompleted,h=r.userInfo,f=r.comps,v=r.dispatch,k=r.planInfo,g=this.state.pageTableOfContent,_=this.props.router.query.author_id||this.props.pageProps.author_id||this.props.authorId,m=this.props.router.query.collection_id||this.props.pageProps.collection_id||this.props.collectionId,I=this.props.router.query.page_id||this.props.pageProps.page_id;if(!I&&"/demo/draft"!==this.props.router.pathname)return null;var w=(null===h||void 0===h?void 0:h.user_id)||null,x=null;if(w&&(_&&m)&&this.props.defaultCourseLanguage){var y="defaultLanguage_".concat(_,"_").concat(m);x=this.props.defaultCourseLanguage[y]}var F=this.props.router.query.course_url_slug,A=(0,st.Cm)(l.asPath).endsWith("/versions"),b=(0,We.Z)(this.isCollectionArticle(),A,_,I,s,m),S={author_id:_,author_name:i,profile_image_serving_url:c},P=null===(e=this.props.readerPreferences)||void 0===e?void 0:e.themes,O=null===(t=this.props.readerPreferences)||void 0===t?void 0:t.vimMode,C=(null===(o=this.props.readerPreferences)||void 0===o?void 0:o.contentWidth)||"default";return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Ue.ZP,{buttons:this.getButtonsMeta(),showDropDown:!1}),(0,H.jsx)(gt.Z,{}),(0,H.jsx)(_e.ZP,{blockDisplay:!0,id:"handleArticleScroll",children:(0,H.jsxs)(N.Z,{collectionSideBarVisible:this.isCollectionArticle()&&u,versionsHistoryVisible:A,children:[(0,H.jsx)(B.Z,{loading:a}),(0,H.jsx)("div",{style:{minHeight:"calc(100vh - 170px)"},children:(0,H.jsx)(ze,It(It({},this.props),{},{comps:this.state.comps||this.props.comps,userId:w,pageId:I,authorId:_,collectionId:m,percentCompleted:p,isVersionsPage:A,author:S,isCollectionArticle:this.isCollectionArticle(),pageProps:It(It({},d),{},{page_table_of_content:g}),coverImage:s&&b,userThemes:P,vimMode:O,contentWidth:C,course_url_slug:F,componentVisibilityChange:this.props.componentVisibilityChange,defaultCourseLanguage:x,handleSaveWidgetUserData:function(e,t){var o=t.compId,r=t.reset;return l.query.collection_id?n.props.handleSaveWidgetUserData(e,{compId:o,reset:r}):(0,Qe.u)(e,o,r,null===h||void 0===h?void 0:h.user_id,l,d,{},f,v)},planInfo:k}))})]})})]})}}]),o}(j.Component);(0,C.Z)(yt,"defaultProps",{showVersionHistory:!1,isInReviewerMode:!1,onPageMount:function(){},onPageUnmount:function(){},onNotesClick:function(){},navigateToHighlight:function(){},handleSaveWidgetUserData:function(){},planInfo:{}});var Ht=(0,E.$j)((function(e,t){var o,n,r,s,l=e.author,a=l.page,i=l.collectionArticle,d=l.profile,c=l.articleRevisions,u=l.collection,p=void 0===u?{}:u,h=e.user,f=e.page,v=e.userCollectionArticle,k=e.widgets,g=e.pageSummary,_=e.pagePreview,m=e.collectionArticlePreview,I=e.userConfig,w=e.dockerDetails,x=t.router,y=x.query,H=x.asPath;s=(0,st.Cm)(H).endsWith("/versions")?y.collection_id?i:a:y.collection_id||y.course_url_slug?v:f;var F=y.collection_id||y.course_url_slug?m:_,A=c.data,b=(0,Ye.H)(A).firstSnapshot,S=function(e){var t,o,n=null!==(t=null===e||void 0===e?void 0:e.collectionId)&&void 0!==t?t:void 0;n&&(n=Number(n));var r=null!==(o=null===e||void 0===e?void 0:e.authorId)&&void 0!==o?o:void 0;r&&(r=Number(r));return{collectionId:n,authorId:r}}(p),P=S.collectionId,O=S.authorId,C=k.ids.map((function(e){return k.entities[e]})),j=function(e){var t,o,n,r;return null!==(t=null===e||void 0===e||null===(o=e.instance)||void 0===o||null===(n=o.details)||void 0===n||null===(r=n.toc)||void 0===r?void 0:r.categories)&&void 0!==t?t:[]}(p),E=null!==(o=null===p||void 0===p||null===(n=p.instance)||void 0===n?void 0:n.details)&&void 0!==o?o:{},L=E.url_slug,Z=E.path_id,T=E.path_author_id;return It(It({firstSnapshot:b||{},selectedSnapshot:(null===(r=c.data)||void 0===r?void 0:r.selectedSnapshot)||{},collectionId:P,authorId:O},y.collection_id?{}:{comps:C}),{},{categories:j,docker:At(w),pageSummary:g,pageSize:k.ids.length+1,contentLoading:s.loading,contentLoaded:s.loaded,cover_image_id:!1===s.loading&&!0===s.loaded?s.data.cover_image_id:null,pageProps:!1===F.loading&&!0===F.loaded?F.data:{},readerPreferences:h.readerPreferences,defaultCourseLanguage:h.defaultCourseLanguage,authorName:y.collection_id||!1!==d.loading||!0!==d.loaded?null:d.data.full_name,profile_image_serving_url:!y.collection_id&&d.loaded?d.data.profile_image_serving_url:null,widgetSnapshots:(0,W.XU)(h),executionMetadata:I,userCollectionArticle:v,url_slug:L,path_id:Z,path_author_id:T,userInfo:h.info.data||{},userInfoLoaded:h.info.loaded})})),Ft=(Ht(yt),(0,L.withRouter)((0,tt.Z)(Ht(yt)))),At=function(e){return null!==e&&void 0!==e?e:{}}},94999:function(e,t,o){o.d(t,{G:function(){return k},u:function(){return g}});var n=o(93586),r=o(63319),s=o(84184),l=o(1401),a=o(49227),i=o(12006),d=o(16962),c=o(37636),u=o(29682),p=o(74156),h=o(44124);function f(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function v(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?f(Object(o),!0).forEach((function(t){(0,n.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):f(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var k=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null!==e&&void 0!==e&&e.scrollParams){var o=JSON.parse(null===e||void 0===e?void 0:e.scrollParams),n=o.scroll,r=o.scrollId;if((0,p.gx)(n)){var s,a=document.querySelectorAll("[data-id='".concat(r,"']"));if(!a.length){if(t)throw Error(h.pX.missingHighlight);return}Array.from(a).forEach((function(e){e.style.backgroundColor="#FF715B",e.style.transition="3s",setTimeout((function(){return e.style.backgroundColor="#e5dfff"}),2e3)}));var i=5,d=window.pageYOffset+(null===(s=a[0])||void 0===s?void 0:s.getBoundingClientRect().top);if(!d)return;var c=d-l.WG-i;window.scroll({top:c,behavior:"smooth"})}}},g=function(e,t,o,n,l,p,h,f,k){var g,_,m=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null,I=l.query.page_id||p.page_id,w=l.query.collection_id||p.collection_id||h.collectionId,x=l.query.author_id||p.author_id||h.authorId,y=null===h||void 0===h||null===(g=h.instance)||void 0===g?void 0:g.details.path_author_id,H=null===h||void 0===h||null===(_=h.instance)||void 0===_?void 0:_.details.path_id;if(n){var F=v({compId:t,userId:n},(null===p||void 0===p?void 0:p.item_type)===a.RIu.LESSON?{pageId:p.external_page_id,collectionId:p.external_collection_id,authorId:p.external_author_id}:(null===p||void 0===p?void 0:p.item_type)===a.RIu.SHOT?{shotId:p.shot_id}:{pageId:I,collectionId:w,authorId:x});k((0,r.ls)(e,F,{reset:o},(null===p||void 0===p?void 0:p.item_type)===a.RIu.SHOT?a.RIu.SHOT:null)),(m||f).forEach((function(e){var n;if((null===e||void 0===e||null===(n=e.content)||void 0===n?void 0:n.comp_id)===t){var r=o?c.bt.INTERACTION_RESET_WIDGET_USERDATA:c.bt.INTERACTION_SAVE_WIDGET_USERDATA;(0,c.qP)(c.f2.INTERACTION,r,e.type)}}))}else if((null===p||void 0===p?void 0:p.item_type)!==a.RIu.SHOT){var A=w?(0,s.Z)(x,w,null,I,null,!1,null,null,(0,u.Z)(l.asPath),y,H).viewUrl.href:"/page/".concat(x,"/").concat(I);(0,c.qP)(c.f2.SIGNUP,c.bt.SIGNUP_INIT_SAVE_WIDGET_USERDATA,A),k(d.n.show(i.ym,{ru:A,title:"Login to save progress"}))}}},13523:function(e,t,o){var n,r=o(89703);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}t.Z=function(e){return r.createElement("svg",s({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-black dark:text-dark-contrastText fill-current"},e),n||(n=r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 1.5h14a2 2 0 012 2v14a2 2 0 01-2 2h-4l-3 3-3-3H5a2 2 0 01-2-2v-14c0-1.1.9-2 2-2zm9.2 16H19v-14H5v14h4.8l.6.6 1.6 1.6 1.6-1.6.6-.6zm-3.2-1v-2h2v2h-2zm3-8a2 2 0 00-2-2 2 2 0 00-2 2H8a4 4 0 118 0c0 1.3-.8 2-1.6 2.6-.7.7-1.4 1.3-1.4 2.4h-2c0-1.8 1-2.5 1.8-3.2.6-.5 1.2-1 1.2-1.8z",fill:"current"})))}}}]);
//# sourceMappingURL=26081-ccaf543844acfa9b6cb1.js.map