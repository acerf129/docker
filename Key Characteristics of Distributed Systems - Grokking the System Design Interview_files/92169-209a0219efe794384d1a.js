"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[92169],{56650:function(e,t,n){n.d(t,{AE:function(){return l},AD:function(){return s},m3:function(){return d},Wj:function(){return u},HH:function(){return p}});var r=n(33022),o=n(1401),a=n(49227),i=(0,r.iv)([""," line-height:1.7;outline:none;a{text-decoration:none;","}ol ol{list-style-type:upper-roman;}ol ol ol{list-style-type:lower-roman;}h1,h2,h3,h4,h5,h6{font-family:",";font-weight:600;}p{display:block;margin-top:1em;margin-bottom:1em;}"],{"--tw-text-opacity":"1",color:"rgba(61, 61, 78, var(--tw-text-opacity))",".dark &":{"--tw-text-opacity":"1",color:"rgba(193, 193, 198, var(--tw-text-opacity))"}},{"--tw-text-opacity":"1",color:"rgba(85, 83, 255, var(--tw-text-opacity))",".dark &":{"--tw-text-opacity":"1",color:"rgba(136, 135, 255, var(--tw-text-opacity))",":hover":{"--tw-text-opacity":"1",color:"rgba(204, 203, 255, var(--tw-text-opacity))"}},":hover":{"--tw-text-opacity":"1",color:"rgba(35, 32, 204, var(--tw-text-opacity))"}},o.LZ),c=(0,r.iv)(["table,td{"," font-weight:400;}table{border-collapse:collapse;margin:2em auto;table-layout:fixed;width:100%;}th,td{padding:15px;word-break:break-word;-webkit-hyphens:auto;-moz-hyphens:auto;hyphens:auto;}th{"," font-weight:400;}"],{borderWidth:"1px",borderStyle:"solid","--tw-border-opacity":"1",borderColor:"rgba(210, 210, 214, var(--tw-border-opacity))",".dark &":{"--tw-border-opacity":"1",borderColor:"rgba(40, 40, 48, var(--tw-border-opacity))"}},{"--tw-bg-opacity":"1",backgroundColor:"rgba(241, 241, 255, var(--tw-bg-opacity))",".dark &":{"--tw-bg-opacity":"1",backgroundColor:"rgba(40, 40, 48, var(--tw-bg-opacity))","--tw-border-opacity":"1",borderColor:"rgba(30, 30, 39, var(--tw-border-opacity))",":last-child":{"--tw-border-opacity":"1",borderColor:"rgba(40, 40, 48, var(--tw-border-opacity))"}},borderWidth:"0px",borderRightWidth:"1px",borderStyle:"solid","--tw-border-opacity":"1",borderColor:"rgba(210, 210, 214, var(--tw-border-opacity))"}),l=r.ZP.div.withConfig({displayName:"Markdown__Viewer",componentId:"sc-1j2yuel-0"})([""," "," font-family:",";font-size:18px;overflow-wrap:break-word;h1,h2,h3,h4,h5,h6{","}pre{"," code{","}}"," "," "," "," "," "," "," code{","}strong{font-family:",";}li{margin-bottom:5px;}blockquote{"," border-left:5px solid ",";margin:1.5em 0.5em;padding:1px 20px 16px;}hr{margin:10px 0;}"," ",""],i,(function(e){return!e.excludeTableStyles&&c}),o.G2,{"--tw-text-opacity":"1",color:"rgba(46, 46, 64, var(--tw-text-opacity))",".dark &":{"--tw-text-opacity":"1",color:"rgba(193, 193, 198, var(--tw-text-opacity))"}},{".dark &":{"--tw-bg-opacity":"1",backgroundColor:"rgba(30, 30, 39, var(--tw-bg-opacity))","--tw-border-opacity":"1",borderColor:"rgba(58, 58, 66, var(--tw-border-opacity))","--tw-text-opacity":"1",color:"rgba(193, 193, 198, var(--tw-text-opacity))"}},{".dark &":{"--tw-bg-opacity":"1",backgroundColor:"rgba(30, 30, 39, var(--tw-bg-opacity))"}},(function(e){return e.isSlateHTML&&(0,r.iv)(["img{","}.figcaption{","}.caption{","}"],{".dark &":{opacity:"0.9","--tw-bg-opacity":"0.9",backgroundColor:"rgba(255, 255, 255, var(--tw-bg-opacity))"}},{display:"flex",flexDirection:"column",alignItems:"center",whiteSpace:"pre-line"},{wordBreak:"break-all",fontFamily:'"Nunito Sans"',fontSize:"0.875rem",lineHeight:"1.25rem",textAlign:"center","--tw-bg-opacity":"1",backgroundColor:"rgba(245, 245, 245, var(--tw-bg-opacity))",paddingTop:"0.375rem",paddingBottom:"0.375rem",paddingLeft:"1.25rem",paddingRight:"1.25rem",".dark &":{"--tw-bg-opacity":"1",backgroundColor:"rgba(30, 30, 39, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(193, 193, 198, var(--tw-text-opacity))"},"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",marginTop:"0.625rem",borderRadius:"0.375rem"})}),(function(e){var t=e.collectionType,n=e.isStatement;return t===a.dLO.QUESTIONNAIRE&&n&&(0,r.iv)(["p{","}"],{marginBottom:"2rem",marginTop:"0px",padding:"0.5rem",fontWeight:"600",fontSize:"1.875rem",lineHeight:"2.25rem","--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",".dark &":{"--tw-text-opacity":"1",color:"rgba(193, 193, 198, var(--tw-text-opacity))"},fontFamily:'"Nunito Sans"'})}),(function(e){var t=e.collectionType,n=e.isStatement;return t===a.dLO.QUESTIONNAIRE&&!n&&(0,r.iv)(["p{","}"],{fontFamily:'"Nunito Sans"',marginTop:"0.875rem",marginBottom:"0.5rem",padding:"0.5rem","--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",".dark &":{"--tw-text-opacity":"1",color:"rgba(229, 229, 229, var(--tw-text-opacity))"},fontWeight:"600",fontSize:"1.5rem",lineHeight:"1.5rem"})}),(function(e){return e.alignCenter&&(0,r.iv)(["display:flex;pre{","}"],{".dark &":{backgroundColor:"#1e1e1e","--tw-border-opacity":"1",borderColor:"rgba(58, 58, 66, var(--tw-border-opacity))"},width:"100%",marginBottom:"0px"})}),(function(e){return e.collectionType===a.dLO.SKILL_ASSESSMENT&&(0,r.iv)(["p{","}pre{","}li{","}"],{fontFamily:'"Nunito Sans"',fontWeight:"400",fontStyle:"normal",fontSize:"1rem",lineHeight:"1.5rem",".dark &":{"--tw-text-opacity":"1",color:"rgba(193, 193, 198, var(--tw-text-opacity))"},marginTop:"0.25rem",marginBottom:"0.25rem"},{marginTop:"0.25rem",marginBottom:"0.25rem"},{fontSize:"1rem",lineHeight:"1.5rem",fontFamily:'"Nunito Sans"'})}),(function(e){return e.isProjectPage&&(0,r.iv)(["",""],{fontFamily:'"Nunito Sans"',fontSize:"1rem",lineHeight:"1.5rem","--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))"})}),(function(e){var t=e.collectionType,n=e.isStatement;return t===a.dLO.SKILL_ASSESSMENT&&n&&(0,r.iv)(["pre{","}"],{marginTop:"1.25rem",marginBottom:"1.25rem"})}),{".dark &":{"--tw-bg-opacity":"1",backgroundColor:"rgba(76, 76, 92, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(193, 193, 198, var(--tw-text-opacity))"},overflowWrap:"break-word"},o.G2,{"--tw-bg-opacity":"1",backgroundColor:"rgba(245, 245, 245, var(--tw-bg-opacity))",".dark &":{"--tw-bg-opacity":"1",backgroundColor:"rgba(40, 40, 48, var(--tw-bg-opacity))"}},"#CCCBFF",(function(e){return e.renderedInTOC&&(0,r.iv)(["font-family:",";strong{font-family:",";}a{display:flex;}"],o.LZ,o.LZ)}),(function(e){return e.setHeight&&(0,r.iv)(["height:100%;"])})),s=(0,r.ZP)(l).attrs((function(){return{as:"span"}})).withConfig({displayName:"Markdown__ViewerSpan",componentId:"sc-1j2yuel-1"})(["display:block;",""],(function(e){return e.hide&&(0,r.iv)(["display:none;"])})),d=((0,r.ZP)(l).attrs((function(){return{as:"span"}})).withConfig({displayName:"Markdown__ViewerInlineSpan",componentId:"sc-1j2yuel-2"})([""]),r.ZP.div.withConfig({displayName:"Markdown__MediumViewer",componentId:"sc-1j2yuel-3"})([""," margin:5px;display:block;h1,h2,h3,h4,h5,h6{","}",""],i,{"--tw-text-opacity":"1",color:"rgba(46, 46, 64, var(--tw-text-opacity))",".dark &":{"--tw-text-opacity":"1",color:"rgba(193, 193, 198, var(--tw-text-opacity))"}},(function(e){return e.hide&&(0,r.iv)(["display:none;"])}))),u=r.ZP.span.withConfig({displayName:"Markdown__QuizViewer",componentId:"sc-1j2yuel-4"})([""," "," margin-top:10px;overflow-wrap:break-word;word-wrap:break-word;max-width:60vw;font-family:",";strong{font-family:",";}code{","}",""],i,c,o.G2,o.G2,{".dark &":{"--tw-bg-opacity":"1",backgroundColor:"rgba(76, 76, 92, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(193, 193, 198, var(--tw-text-opacity))"}},(function(e){return e.structuredQuizTitle&&(0,r.iv)(["",""],{"--tw-text-opacity":"1",color:"rgba(143, 143, 153, var(--tw-text-opacity))",".dark &":{"--tw-text-opacity":"1",color:"rgba(160, 160, 168, var(--tw-text-opacity))"}})})),p=r.ZP.div.withConfig({displayName:"Markdown__MarkdownContainerDiv",componentId:"sc-1j2yuel-5"})(["white-space:normal;:after{clear:both;display:table;content:'';}"," width:100%;"],(function(e){var t=e.height;return t&&(0,r.iv)(["height:",";"],t)}))},87455:function(e,t,n){n.r(t);var r=n(20348),o=n(93586),a=n(30645),i=n(89703),c=n(84283),l=n(33265),s=n(69618),d=n(18182),u=n(64056),p=n(61666),h=n(933),f=n(48934),g=n(39241),m=n(60136),v=n(78050),b=n(49227),y=n(69333),x=n(78854);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.default=function(e){var t=e.params,n=i.useRef(null),o=i.useState({apiCallLoading:!1,inputError:!1,submitted:!1,closeContent:!1}),w=(0,a.Z)(o,2),k=w[0],N=w[1],O=(0,y.Z)(),S=function(){var e,n,r;null===(e=t.setShowAskForHelpRaise)||void 0===e||e.call(t,!1),null===(n=t.setShowAllAskForHelps)||void 0===n||n.call(t,!1),null===(r=t.setUpdateBlocker)||void 0===r||r.call(t,!1),N((function(e){return C(C({},e),{},{closeContent:!0})}))};return k.closeContent?null:(0,r.jsxs)("div",{className:"flex flex-col w-full max-h-96",children:[t.showArrows&&(0,r.jsxs)("div",{className:"flex flex-row justify-end mr-12",children:[(0,r.jsx)("button",{className:"text-default -mb-16 z-10 p-0",onClick:function(){null!==n&&void 0!==n&&n.current&&(n.current.value=""),t.setAskForHelpIndex(-1)},children:(0,r.jsx)(h.Z,{className:"h-5 text-black dark:text-dark-contrastText"})}),(0,r.jsx)("button",{className:"text-default -mb-16 z-10 p-0 ml-3",onClick:function(){null!==n&&void 0!==n&&n.current&&(n.current.value=""),t.setAskForHelpIndex(1)},children:(0,r.jsx)(f.Z,{className:"h-5 text-black dark:text-dark-contrastText"})})]}),t.title&&(0,r.jsxs)("div",{className:"flex items-center".concat(t.resolved_at?"":" border-solid border-0 border-b border-gray-500"),children:[(0,r.jsx)("h5",{className:"w-9/12 sm:w-full my-4 ml-8 text-left text-gray-A200 dark:text-dark-contrastText",children:t.title}),t.showArrows&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{className:"text-xs w-28 pl-2 text-left m-0 mr-16 text-gray-A200 dark:text-gray-600",children:t.currentBlocker+1+" of "+t.totalBlockers}),(0,r.jsx)("button",{className:"icon-default",onClick:function(){return S()},children:(0,r.jsx)(d.Z,{className:"dark:fill-current w-5"})})]})]}),(0,r.jsxs)("div",{className:"overflow-scroll",children:[t.resolved_at&&(0,r.jsxs)("div",{className:"flex flex-col bg-accent3-lightP2 dark:bg-dark-60",children:[(0,r.jsxs)("div",{className:"flex flex-row justify-between pt-3 items-center",children:[(0,r.jsxs)("div",{className:"flex flex-row items-center ml-3",children:[(0,r.jsx)(u.Z,{size:32,image:t.resolver_profile}),(0,r.jsx)("p",{className:"font-bold text-base pl-3 text-left m-0 break-words font-sans",children:t.resolver_name}),(0,r.jsx)("p",{className:"text-xs px-2 text-left m-0 text-gray-A200 dark:text-gray-600 break-words font-sans",children:"".concat((0,p.o_)(t.resolved_at))})]}),(0,r.jsx)(s.Z,{className:"mr-3 px-2 rounded-full",bgFontClass:"text-white dark:text-success-darkN1 bg-success-darkN1 dark:bg-success-lightP1",children:"Solution"})]}),(0,r.jsx)("p",{className:"font-normal px-6 py-2 text-left break-words text-sm font-sans",children:t.resolve_message})]}),t.showArrows&&(0,r.jsxs)("div",{className:"flex flex-col justify-between pt-3 font-sans",children:[(0,r.jsxs)("div",{className:"flex flex-row justify-between items-center",children:[(0,r.jsxs)("div",{className:"flex flex-row items-center ml-3",children:[(0,r.jsx)(u.Z,{size:32,image:t.user_profile}),(0,r.jsx)("p",{className:"font-bold text-base pl-3 text-left m-0 break-words",children:t.user_name}),(0,r.jsx)("p",{className:"text-xs px-2 text-left m-0 text-gray-A200 dark:text-gray-600 break-words",children:"".concat((0,p.o_)(t.created))})]}),!t.resolved_at&&t.canUpdateBlockers&&!t.updateBlocker&&(0,r.jsx)("button",{className:"inline px-6 items-center bg-white dark:bg-dark-90",onClick:function(){var e;null===(e=t.setUpdateBlocker)||void 0===e||e.call(t,!0),n.current.value=t.ask_message,n.current.focus()},children:(0,r.jsx)(v.Z,{overlay:(0,r.jsx)("p",{className:"m-0",children:"Edit"}),position:b.YS6,children:(0,r.jsx)(g.Z,{style:{fill:"#7F7F8B"}})})})]}),(0,r.jsx)("p",{className:"font-normal px-6 py-2 text-left break-words text-sm",children:t.ask_message})]})]}),t.allowInput&&(0,r.jsx)("div",{className:"w-full font-sans",children:(0,r.jsx)(x.zt,{store:O,children:(0,r.jsx)(l.Z,{rows:2,multiline:!0,placeholder:t.placeholder,ref:n,maxLength:t.characterLimit,name:"message",onChange:function(e){var t=e.target.value;return k.inputError&&t&&N((function(e){return C(C({},e),{},{inputError:!1})}))},error:k.inputError,errorText:"",borderStyling:"border-none",blockerFormat:!0,customPadding:"py-6 px-3 pb-0 ",noButtons:t.noButtons})})}),!t.noButtons&&(0,r.jsxs)("div",{className:"px-4 mb-4 flex justify-end -mt-8 font-sans",children:[(0,r.jsx)("button",{className:"outlined-default mx-6",name:"cancel-button",onClick:function(){return S()},children:"Cancel"}),(0,r.jsx)("button",{className:"contained-primary",name:"submit-button",onClick:function(){return function(){var e,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=null===(e=n.current.value)||void 0===e?void 0:e.trim();!t.feedbackRequired||o?(!r&&N((function(e){return C(C({},e),{},{apiCallLoading:!0})})),(0,c.Z)({url:t.url,type:t.type,data:C(C({},t.data),r?{}:{sender_message:o})}).then((function(e){var o,a;!r&&N((function(e){return C(C({},e),{},{apiCallLoading:!1,submitted:!0})})),n.current.value="",null===(o=(a=t.callBacks).successCallBack)||void 0===o||o.call(a,e)})).catch((function(e){!r&&N((function(e){return C(C({},e),{},{apiCallLoading:!1,submitted:!1})})),(0,m.u)(e),t.callBacks.failureCallBack()})).finally((function(){var e,n;null===(e=(n=t.callBacks).finallyCallBack)||void 0===e||e.call(n)}))):N((function(e){return C(C({},e),{},{inputError:!0})}))}()},disabled:k.apiCallLoading,children:k.apiCallLoading?t.buttonLoadingText:t.updateBlocker?"Update":t.buttonText})]})]})}},3678:function(e,t,n){n.r(t),n.d(t,{vsDark:function(){return o},vsLight:function(){return a},educative:function(){return i}});var r="vs-dark",o={name:"vsDark",config:{base:r,inherit:!0,rules:[],colors:{"editor.foreground":"#F8F8F0"}},background:"#1e1e1e",colorizeTheme:r},a={name:"vsLight",config:{base:"vs",inherit:!0,rules:[],colors:{}},background:"#fff",colorizeTheme:"vs"},i={name:"educative",config:{base:r,inherit:!0,rules:[{token:"comment",foreground:"ffa500",fontStyle:"italic bold"},{token:"comment.js",foreground:"008800",fontStyle:"bold"},{token:"comment.css",foreground:"0000ff"},{token:"custom-info",foreground:"808080"},{token:"custom-error",foreground:"ff0000",fontStyle:"bold"},{token:"custom-notice",foreground:"FFA500"},{token:"custom-date",foreground:"008800"}]}}},76969:function(e,t,n){n.d(t,{Z:function(){return k},X:function(){return C}});var r,o=n(20348),a=n(88753),i=n.n(a),c=n(52198),l=n(89703),s=n(78050),d=n(18182);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p=function(e){return l.createElement("svg",u({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=l.createElement("path",{d:"M8.79502 15.8749L4.62502 11.7049L3.20502 13.1149L8.79502 18.7049L20.795 6.70492L19.385 5.29492L8.79502 15.8749Z",fill:"current"})))},h=n(49227),f="icon-default py-2 m-1",g="text-black dark:text-dark-contrastText fill-current",m=function(e){var t=e.placement,n=e.disabled,r=e.popoverTitle,a=e.children,i=e.handleAccept,c=e.handleReject,u=e.deleted,m=l.useRef((function(){})),v=function(){return m.current()},b=(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"flex items-center justify-center w-full",children:[(0,o.jsx)("span",{className:"dark:text-primary-contrastText font-bold text-black",children:u?"Delete: ":"Insert: "}),(0,o.jsx)("span",{className:"dark:text-dark-contrastText font-normal text-gray-800",children:'"'.concat(r,'"')})]}),(0,o.jsxs)("div",{className:"flex items-center justify-center w-full",children:[(0,o.jsx)(s.Z,{"aria-label":"accept-button",element:"button",onClick:function(){i(),v()},overlay:"Accept suggestion",parentClasses:f,position:h.xRW,rootClose:!0,children:(0,o.jsx)(p,{className:g})}),(0,o.jsx)(s.Z,{"aria-label":"reject-button",element:"button",onClick:function(){c(),v()},overlay:"Reject suggestion",parentClasses:f,position:h.xRW,rootClose:!0,children:(0,o.jsx)(d.Z,{className:g})})]})]});return(0,o.jsx)(s.Z,{backgroundColor:"bg-white border-white dark:bg-dark-90 dark:border-dark-90",overlay:!n&&b,overlayParentClasses:"flex flex-col max-w-2xl mt-1 rounded shadow-xl space-y-2",padding:"px-3.5 py-2.5",parentClasses:"inline",position:t,rootClose:!0,setRef:function(e,t){return m.current=t},trigger:h.t4j,children:a})},v=n(97242),b=n(7206),y=n(68671),x="INS",w="DEL",C=function(e){return Array.from((null===e||void 0===e?void 0:e.querySelectorAll("[data-diff='ed-del'], [data-diff='ed-ins']"))||[])},k=function(e){var t=e.text,n=e.type,r=e.enableDiffElements,a=void 0!==r&&r,l=e.updateContentState,s=void 0===l?function(){}:l,d=e.diffText,u=e.inTextDiff,p=e.dispatch,h=e.elemId,f=e.hash,g=void 0===f?0:f,k=e.isSlateHTML,N=void 0!==k&&k,O=function(e){return C(e).forEach((function(e){e.nodeName===w?j(e):Z(e)})),e.innerHTML},S=function(e){return C(e).forEach((function(e){e.nodeName===w?Z(e):j(e)})),e.innerHTML},j=function(e){e&&e.parentNode.replaceChild(e.childNodes[0],e)},Z=function(e){e&&e.parentNode.removeChild(e)},D=function(e){var t=e[h];if(t.nodeName===x){if(h<=0)return;var n=e[h-1];if(n.nodeName===w&&t.previousSibling===n)return n}if(t.nodeName===w){if(h>=e.length-1)return;var r=e[h+1];if(r.nodeName===x&&t.nextSibling===r)return r}},_=function(){var e=(0,c.Z)(i().mark((function e(){var t,n,r,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=document.createElement("div")).innerHTML=d,n=C(t),r=D(n),(o=n[h]).nodeName===x?(Z(r),j(o)):(j(r),Z(o)),a=O(t),!u){e.next=10;break}return s({text:a,onlyAuthor:!0}),e.abrupt("return");case 10:if(!N){e.next=15;break}return e.next=13,s({html:a.replace(/<br>/g,"<br/>")});case 13:e.next=17;break;case 15:return e.next=17,s({text:a,mdHtml:(0,v.c8)(a)});case 17:p(y.F.incorporateWidget(g,!0));case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=(0,c.Z)(i().mark((function e(){var t,n,r,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=document.createElement("div")).innerHTML=d,n=C(t),r=n[h],o=D(n),r.nodeName===w?(Z(o),j(r)):(j(o),Z(r)),a=S(t),!u){e.next=10;break}return s({text:a,onlyAuthor:!1}),e.abrupt("return");case 10:return e.next=12,p((0,b.loadWidget)(g,!0));case 12:if(!N){e.next=17;break}return e.next=15,s({html:a.replace(/<br>/g,"<br/>")});case 15:e.next=19;break;case 17:return e.next=19,s({text:a,mdHtml:(0,v.c8)(a)});case 19:return e.next=21,p(y.F.incorporateWidget(g,!1));case 21:return e.next=23,p((0,b.loadWidget)(g));case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=t||"";if(N||(T=t.replace(/ /g,"\u23b5")),T=T.replace(/\n/g,"\xb6"),""===t.trim())return(0,o.jsx)(o.Fragment,{});var E=n===w;return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(m,{popoverTitle:t,deleted:E,handleAccept:function(){return _().catch((function(e){return console.error("Error:",e)}))},handleReject:function(){return I().catch((function(e){return console.error("Error:",e)}))},placement:"bottom",disabled:!a,children:E?(0,o.jsx)("del",{"data-testid":"diff-delete","data-diff":"ed-del","data-id":h,className:"cursor-pointer whitespace-preline line-through text-error dark:text-error-light",children:T}):(0,o.jsx)("ins",{"data-testid":"diff-insert","data-diff":"ed-ins","data-id":h,className:"cursor-pointer whitespace-preline no-underline text-primary-success dark:text-primary-success",children:T})})})}},69333:function(e,t,n){var r=n(92133);t.Z=function(){return r.Z}},92169:function(e,t,n){n.d(t,{ZP:function(){return Ge}});var r=n(20348),o=n(88753),a=n.n(o),i=n(52198),c=n(32868),l=n(30645),s=n(79003),d=n(70989),u=n(58055),p=n(31428),h=n(27018),f=n(29799),g=n(93586),m=n(89703),v=n(55587),b=n.n(v),y=n(36927),x=n.n(y),w=n(83200),C=n(37636),k=n(13243),N=n(60136),O=n(46362),S=n(20767),j=n(3678),Z=n(40754),D=n(20528),_=n(23934),I=n(23793),T=n(42562),E=n(33701),P=n(78050),A=n(63048),H=n(82336),L=n.n(H),M=n(48148),R=n(49227);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){(0,g.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.Z)(e);if(t){var o=(0,f.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,h.Z)(this,n)}}var z,U,q=256,W=function(e){(0,p.Z)(n,e);var t=V(n);function n(e){var r;(0,s.Z)(this,n),r=t.call(this,e),(0,g.Z)((0,u.Z)(r),"noteInput",m.createRef()),(0,g.Z)((0,u.Z)(r),"container",m.createRef()),(0,g.Z)((0,u.Z)(r),"reposition",(function(){if(r.props.childRef.current){var e=r.props.childRef.current.getBoundingClientRect(),t=e.width,n=e.top,o=e.height,a=r.props.menuData.coords.bottom,i=!1;(n-64<0||r.props.menuData.touch)&&(a=a-o-30,i=!0),r.setState({left:r.props.menuData.coords.left&&Math.max(0,r.props.menuData.coords.left-t/2),right:r.props.menuData.coords.right&&Math.max(0,r.props.menuData.coords.right-t/2),bottom:a,revButtons:i})}})),(0,g.Z)((0,u.Z)(r),"handleClose",(function(){r.props.removeSelection?r.props.onHighlightRemove(r.props.menuData.selection):r.props.closeMenu()})),(0,g.Z)((0,u.Z)(r),"handleHighlightCreate",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;r.props.onHighlightCreate(r.props.menuData.range,e)})),(0,g.Z)((0,u.Z)(r),"handleHighlightEdit",(function(e){r.props.onHighlightEdit(r.props.menuData.range,e)})),(0,g.Z)((0,u.Z)(r),"onNoteChange",(function(e){var t=e.target.value,n=t.substr(0,q);r.getSymbolsLen(t)>=q&&(n=n.substr(0,q-2*(n.split(/\r*\n/).length-1)));var o=r.getSymbolsLen(t);(o<=r.getSymbolsLen(r.state.noteValue)||o<=q)&&r.setState({noteValue:n})})),(0,g.Z)((0,u.Z)(r),"handleComment",(function(){var e,t=null===(e=r.state.noteValue)||void 0===e?void 0:e.trim();"edit"===r.state.showNote?r.handleHighlightEdit(t):"note"===r.state.showNote&&r.handleHighlightCreate(t)})),(0,g.Z)((0,u.Z)(r),"handleNoteFormOpen",(function(e){r.setState({showNote:e},(function(){var e;null===(e=r.noteInput.current)||void 0===e||e.focus()}))})),(0,g.Z)((0,u.Z)(r),"handleRemove",(function(){return r.props.onHighlightRemove(r.props.menuData.range)})),(0,g.Z)((0,u.Z)(r),"handleAskForHelpOpen",(function(){var e,t=r.props.menuData.range.dataset?null===(e=r.props.selections[r.props.spanToMdChild[r.props.menuData.range.dataset.id]])||void 0===e?void 0:e.filter((function(e){return e.id===r.props.menuData.range.dataset.id}))[0].askForHelpId:null;return r.props.handleAskForHelp(r.props.menuData.range,t)})),(0,g.Z)((0,u.Z)(r),"handleBtnClick",(function(e){return{askForHelp:function(){return r.setState({showNote:!0})},edit:r.handleNoteFormOpen,highlight:function(){return r.handleHighlightCreate()},note:r.handleNoteFormOpen,remove:r.handleRemove}[e](e)})),(0,g.Z)((0,u.Z)(r),"handleKeyPress",(function(e){e.keyCode!==L().codes.enter||e.shiftKey?e.keyCode===L().codes.esc&&r.handleClose():(e.preventDefault(),r.handleComment())})),(0,g.Z)((0,u.Z)(r),"getSymbolsLen",(function(e){var t=2*(e.split(/\r*\n/).length-1);return e.length+t})),(0,g.Z)((0,u.Z)(r),"noteSymbolsLeft",(function(){return q-r.getSymbolsLen(r.state.noteValue)}));var o=e.menuData.range.dataset?e.selections[e.spanToMdChild[e.menuData.range.dataset.id]].filter((function(t){return t.id===e.menuData.range.dataset.id}))[0].comment:null;return r.state={showNote:!1,noteValue:o||"",left:e.menuData.coords.left,right:e.menuData.coords.right,bottom:e.menuData.coords.bottom,edit:e.menuData.edit},r}return(0,d.Z)(n,[{key:"componentDidMount",value:function(){this.reposition()}},{key:"componentDidUpdate",value:function(e,t){var n=this;if(t.showNote!==this.state.showNote&&this.state.showNote){if(!this.container.current)return;var r=this.container.current.getBoundingClientRect(),o=r.height,a=r.width;this.setState({bottom:this.props.menuData.coords.bottom-(o-65),left:this.props.menuData.coords.left&&Math.max(0,this.props.menuData.coords.left-50),right:this.props.menuData.coords.right&&Math.max(0,this.props.menuData.coords.right-(a-50))})}if(!A.equals(e.menuData,this.props.menuData)){var i=this.props.menuData.range.dataset?this.props.selections[this.props.spanToMdChild[this.props.menuData.range.dataset.id]].filter((function(e){return e.id===n.props.menuData.range.dataset.id}))[0].comment:null;this.setState({showNote:!1,noteValue:i||"",edit:this.props.menuData.edit,bottom:this.props.menuData.coords.bottom},(function(){return n.reposition()}))}}},{key:"render",value:function(){var e=this,t=this.state,n=t.showNote,o=t.noteValue,a=t.left,i=t.right,c=t.bottom,l=t.edit,s=t.revButtons,d=this.props,u=d.childRef,p=d.isMentee,h=d.isPlan,f=d.menuData,g=f.edit,m=f.isInsideConcept,v=[l&&h&&{danger:!0,icon:function(e){var t=e.className;return(0,r.jsx)(E.Z,{className:"fill-current ".concat(t)})},id:R.FzT?"selenium-remove":null,payload:"askForHelp",text:"Ask For Help",title:"View Blocker"},l&&!h&&{icon:function(e){var t=e.className;return(0,r.jsx)(D.Z,{className:t})},id:R.FzT?"selenium-note-edit":null,payload:"edit",title:o?"Edit note":"Add note"},l&&!h&&{danger:!0,icon:function(e){var t=e.className;return(0,r.jsx)(T.Z,{className:t})},id:R.FzT?"selenium-remove":null,payload:"remove",title:o?"Remove note":"Remove highlight"},!l&&h&&p&&{icon:function(e){var t=e.className;return(0,r.jsx)(E.Z,{className:"fill-current ".concat(t)})},id:R.FzT?"selenium-note":null,payload:"askForHelp",text:"Ask For Help",title:"I am Stuck"},!l&&!h&&{icon:function(e){var t=e.className;return(0,r.jsx)(_.Z,{className:t})},id:R.FzT?"selenium-highlight":null,payload:"highlight",title:"Highlight"},!g&&!l&&!h&&{icon:function(e){var t=e.className;return(0,r.jsx)(I.Z,{className:t})},id:R.FzT?"selenium-note":null,payload:"note",title:"Add a note"}].filter(Boolean),b=[o&&(0,r.jsx)(M.rM,{children:(0,r.jsx)("p",{className:"font-normal",children:o})},"0"),(0,r.jsx)("div",{className:"flex justify-center",children:v.map((function(t,n){var o=t.danger,a=t.icon,i=t.id,c=t.payload,l=t.text,s=t.title;return(0,r.jsx)(P.Z,{id:i,onClick:function(){return e.handleBtnClick(c)},overlay:s,overlayParentStyles:{zIndex:100},parentClasses:"'cursor-pointer duration-200 h-full inline-flex items-center justify-center ".concat(h?"px-2 space-x-1":"w-11"),position:R.YS6,children:h?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a,{className:"h-5 w-5"}),(0,r.jsx)("span",{children:l})]}):(0,r.jsx)(a,{className:"h-5 ".concat(o?"dark:hover:text-error hover:text-error":"dark:hover:text-primary-light hover:text-primary"," w-5")})},n)}))},"1")];return(0,r.jsx)(M.ZP,{ref:function(t){e.container.current=t,"function"===typeof u?u(t):u&&(u.current=t)},style:{left:a,right:i,bottom:c},children:m?(0,r.jsx)(M.v2,{children:(0,r.jsx)("p",{className:"text-base p-2",children:"Cannot create highlight/note inside a concept"})}):(0,r.jsx)(r.Fragment,{children:n?h?(0,r.jsx)(M.pW,{children:this.handleAskForHelpOpen()}):(0,r.jsxs)(M.W7,{children:[(0,r.jsx)("div",{className:"text-gray-600 absolute bottom-10 right-5 w-auto",style:{zIndex:3},children:(0,r.jsx)("p",{className:"font-normal",children:this.noteSymbolsLeft()})}),(0,r.jsx)("span",{className:"font-normal",children:(0,r.jsx)(M.FU,{ref:this.noteInput,placeholder:"Add a note here...",onChange:this.onNoteChange,onKeyDown:this.handleKeyPress,value:o})}),(0,r.jsxs)("div",{className:"flex justify-center",children:[(0,r.jsx)("button",{className:"outlined-default py-2 m-2",onClick:this.handleClose,children:"CANCEL"}),(0,r.jsx)("button",{className:"contained-primary py-2 m-2",onClick:this.handleComment,children:"DONE"})]})]}):(0,r.jsx)(M.v2,{children:s?[].concat(b).reverse():b})})})}}]),n}(m.Component),G=m.forwardRef((function(e,t){return(0,r.jsx)(W,F(F({},e),{},{childRef:t}))})),K=n(5825),Y=n(56650),X=n(7760),Q=n(78854),$=n(69333),J=function(e){var t=e.word,n=e.meaning;return(0,r.jsx)(P.Z,{backgroundColor:"bg-white border-white dark:bg-gray-400 dark:border-gray-400",element:"span",overlay:n,overlayParentClasses:"max-w-xs",overlayParentTextColorClasses:"text-black dark:text-dark-80",overlayParentTextClasses:"break-words font-serif leading-5 text-sm",overlayParentStyles:{minWidth:n.length>300&&"300px",zIndex:1e4},parentClasses:"border-0 border-b-2 border-solid border-black cursor-pointer dark:border-dark-contrastText",position:R.YS6,rootClose:!0,trigger:R.t4j,children:t})},ee=n(33022),te=n(54046);function ne(){return(ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var re=function(e){return m.createElement("svg",ne({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-corner-right-down"},e),z||(z=m.createElement("polyline",{points:"10 15 15 20 20 15"})),U||(U=m.createElement("path",{d:"M4 4h7a4 4 0 0 1 4 4v12"})))},oe=ee.ZP.span.withConfig({displayName:"styles__Wrapper",componentId:"zccaat-0"})([""]),ae=ee.ZP.span.withConfig({displayName:"styles__Text",componentId:"zccaat-1"})(["",";"],(function(e){var t=e.disabled;return e.displayAsText?(0,ee.iv)([""]):t?(0,ee.iv)(["padding:1px;",""],{borderWidth:"1px",borderStyle:"solid","--tw-border-opacity":"1",borderColor:"rgba(212, 33, 84, var(--tw-border-opacity))",".dark &":{"--tw-border-opacity":"1",borderColor:"rgba(229, 122, 152, var(--tw-border-opacity))","--tw-bg-opacity":"1",backgroundColor:"rgba(46, 46, 64, var(--tw-bg-opacity))"},"--tw-bg-opacity":"1",backgroundColor:"rgba(254, 234, 234, var(--tw-bg-opacity))"}):(0,ee.iv)(["font-weight:bold;cursor:pointer;"])})),ie=(0,ee.ZP)(re).attrs({width:13,height:13,strokeWidth:3}).withConfig({displayName:"styles__ExpandIcon",componentId:"zccaat-2"})(["display:inline-block;vertical-align:middle;transition:0.2s;",""],(function(e){return e.expanded&&(0,ee.iv)(["transform:rotate(-270deg) scaleX(-1);"])})),ce=ee.ZP.div.withConfig({displayName:"styles__ConceptComponentsContainer",componentId:"zccaat-3"})(["margin:5px 0 5px 0;padding:5px;box-shadow:0 0 15px ",";border:1px solid ",";border-radius:",";"],"#D2D2D6","#D2D2D6",te.nX),le=ee.ZP.span.withConfig({displayName:"styles__Error",componentId:"zccaat-4"})(["font-style:italic;color:",";"],"#D2D2D6"),se=n(89e3),de=n(86913),ue=n(80464);function pe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.Z)(e);if(t){var o=(0,f.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,h.Z)(this,n)}}var he=function(e){(0,p.Z)(n,e);var t=pe(n);function n(){var e;(0,s.Z)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),(0,g.Z)((0,u.Z)(e),"state",{expanded:!1}),(0,g.Z)((0,u.Z)(e),"toggleExpansion",(function(){var t=e.state.expanded;e.setState({expanded:!t})})),(0,g.Z)((0,u.Z)(e),"shouldDisableConcept",(function(t){var n=e.props,r=n.conceptIdBacktrace,o=(0,n.getConcepts)(),a=o.loaded,i=o.concepts;return!a||!i[t]||r.includes(i[t].id)})),(0,g.Z)((0,u.Z)(e),"shouldDisplayConceptAsText",(function(t){var n=e.props,r=n.conceptIdBacktrace,o=(0,n.getConcepts)(),a=o.loaded,i=o.concepts;return!a||i[t]&&r.includes(i[t].id)})),(0,g.Z)((0,u.Z)(e),"getConceptComponentsByName",(function(t){var n=e.props,o=n.getConceptByName,a=n.authorId,i=n.collectionId,l=n.conceptIdBacktrace,s=n.isDraft,d=o(t),u=d.loaded,p=d.concept,h=d.error;return h?(0,r.jsxs)(le,{children:["(",h,")"]}):u?p?p.comps.map((function(e){return(0,r.jsx)(se.Z,{mode:"view",comp:e,allowComments:!1,authorId:a,collectionId:i,conceptId:p.id,conceptIdBacktrace:[].concat((0,c.Z)(l),[p.id]),isDraft:s})})):null:(0,r.jsx)(de.Z,{})})),(0,g.Z)((0,u.Z)(e),"getConceptId",(function(t){var n,r;return(null===(n=e.props.getConceptByName(t))||void 0===n||null===(r=n.concept)||void 0===r?void 0:r.id)||""})),e}return(0,d.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.word,n=e.name,o=this.state.expanded,a=this.shouldDisableConcept(n),i=this.shouldDisplayConceptAsText(n),c=this.getConceptId(n);return(0,r.jsxs)(oe,{children:[(0,r.jsxs)(ae,{onClick:a?function(){}:this.toggleExpansion,disabled:a,displayAsText:i,id:R.FzT&&c?"text-for-".concat(c):null,children:[t,!a&&(0,r.jsx)(ie,{expanded:o?1:0})]}),o&&(0,r.jsx)(ce,{className:"conceptBody",children:this.getConceptComponentsByName(n)})]})}}]),n}(m.Component),fe=(0,ue.Z)(he),ge=n(76969);function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){(0,g.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var be={KEYWORD:{Component:J,requireStore:!1,inheritProps:!0,extractProps:function(e){var t=e.firstElementChild,n=e.lastElementChild;return{word:t.textContent,meaning:n.textContent}}},CONCEPT:{Component:fe,requireStore:!0,inheritProps:!0,extractProps:function(e){var t=e.firstElementChild,n=e.lastElementChild;return{word:t.textContent,name:n.textContent}}},DEL:{Component:ge.Z,requireStore:!1,requireTheme:!1,inheritProps:!0,extractProps:function(e){return{text:e.textContent,type:"DEL"}}},INS:{Component:ge.Z,requireStore:!1,requireTheme:!1,inheritProps:!0,extractProps:function(e){return{text:e.textContent,type:"INS"}}}},ye=function(e){return function(t){var n=function(e,t){var n=e.tagName,o=be[n],a=o.Component,i=o.requireStore,c=o.inheritProps,l=o.extractProps,s=ve(ve({},c&&t),l(e)),d=(0,$.Z)();return[i?function(e){return(0,r.jsx)(Q.zt,{store:d,children:e})}:function(e){return e}].reduce((function(e){return function(t){return e(t)}}))((0,r.jsx)(a,ve({},s)))}(t,e),o=function(e){var t=document.createElement("span");return e.parentNode&&e.parentNode.replaceChild(t,e),t}(t);X.render(n,o)}},xe=n(57294),we=["courses","modules",R.dLO.COLLECTION,R.dLO.MODULE,R.dLO.PATH,R.dLO.PLAN],Ce=function(e){if(null===e||void 0===e||!e.asPath)return!1;var t=(0,xe.Cm)(e.asPath).split("/");if(t.length){if("page"===t[1]&&"draft"!==t[t.length-1])return!0;if(we.includes(t[1])&&"draft"!==t[t.length-1]&&"versions"!==t[t.length-1])return!0}return!1},ke=n(72930),Ne=n(92526),Oe=function(e){for(var t=function(e){var t,n,r;return!(null===(t=e.dataset)||void 0===t||!t.id)||"div"===e.nodeName.toLowerCase()&&(null===(n=e.classList)||void 0===n||null===(r=n.contains)||void 0===r?void 0:r.call(n,"conceptBody"))};!t(e);)e=e.parentNode;return e},Se=function e(t,n){for(var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];;)return n?n.nodeType===Node.TEXT_NODE?n.textContent.trim()&&"\n"!==n.textContent.trim()?n:e(n,r?n.nextSibling:n.previousSibling,r):e(n,r?n.firstChild:n.lastChild,r):(r?t.nextSibling:t.previousSibling)?e(t,r?t.nextSibling:t.previousSibling,r):e(t=t.parentNode,r?t.nextSibling:t.previousSibling,r)},je=n(97242),Ze=n(786),De=n.n(Ze),_e=n(8024),Ie=n(16962),Te=n(12006),Ee=n(56445),Pe=n(87455);function Ae(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return He(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return He(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function He(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach((function(t){(0,g.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Re(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.Z)(e);if(t){var o=(0,f.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,h.Z)(this,n)}}var Be="markdown_viewer_highlighted_content",Fe="markdown_viewer_highlighted_content_with_comment",Ve="markdown_viewer_highlighted_content_with_ask_for_help_unresolved",ze="markdown_viewer_highlighted_content_with_ask_for_help_resolved",Ue=(0,Q.$j)((function(e){return{readerPreferences:e.user.readerPreferences,userInfo:e.user.info.data,userInfoLoaded:e.user.info.loaded}})),qe=function(e){for(;e&&(null===(t=e.dataset)||void 0===t||!t.id);){var t;e=e.parentNode}return e?e.dataset.id:""},We=function(e){(0,p.Z)(o,e);var t=Re(o);function o(){var e;(0,s.Z)(this,o);for(var a=arguments.length,i=new Array(a),d=0;d<a;d++)i[d]=arguments[d];return e=t.call.apply(t,[this].concat(i)),(0,g.Z)((0,u.Z)(e),"state",{selections:{},spanIdToMdChildIdMap:{},contextMenuData:null,removeSelection:null}),(0,g.Z)((0,u.Z)(e),"touchEnabled",!1),(0,g.Z)((0,u.Z)(e),"enableHighlights",e.props.saveHighlights&&Ce(e.props.router)),(0,g.Z)((0,u.Z)(e),"setSelectionsFromSnapshot",(function(t){var n,r,o;if(t.contentSnapshot){var a=null!==(n=Me({},null===(r=t.contentSnapshot)||void 0===r?void 0:r.selections))&&void 0!==n?n:{};0===Object.keys(null!==(o=e.state.selections)&&void 0!==o?o:{}).length&&e.setState({selections:a},e.highlightAll)}})),(0,g.Z)((0,u.Z)(e),"enableTouch",(function(){e.touchEnabled||(document.addEventListener("selectionchange",e.openCreateHighlightMenuDebounced),document.removeEventListener("touchstart",e.enableTouch),document.addEventListener("touchstart",e.handleOutsideClick),e.touchEnabled=!0)})),(0,g.Z)((0,u.Z)(e),"highlightContextMenu",m.createRef()),(0,g.Z)((0,u.Z)(e),"markdownViewer",m.createRef()),(0,g.Z)((0,u.Z)(e),"parentDiv",m.createRef()),(0,g.Z)((0,u.Z)(e),"handleOutsideClick",(function(t){if(e.touchEnabled)e.highlightContextMenu.current&&!e.highlightContextMenu.current.contains(t.target)&&e.cancelSelection();else{var n=e.parentDiv.current;n&&!n.contains(t.target)&&e.cancelSelection()}})),(0,g.Z)((0,u.Z)(e),"isAnchorHeadingLink",(function(e){var t=function(e){return e.origin+e.pathname};return t(e)===t(window.location)})),(0,g.Z)((0,u.Z)(e),"loadMonacoEditor",(function(){return(0,ke.default)((function(){return Promise.all([n.e(49770),n.e(46887),n.e(46606),n.e(19750),n.e(15909),n.e(63e3),n.e(62767)]).then(n.bind(n,63e3))}),{ssr:!1,loadableGenerated:{webpack:function(){return[63e3]},modules:["../components/helpers/markdownViewer/index.tsx -> components/helpers/MonacoEditor"]}}).render.preload()})),(0,g.Z)((0,u.Z)(e),"shouldOpenInNewTab",(function(t){return!e.isAnchorHeadingLink(t)})),(0,g.Z)((0,u.Z)(e),"makeLinksToOpenInNewTab",(function(){var t=e.markdownViewer.current.querySelectorAll("a");Array.from(t).filter(e.shouldOpenInNewTab).forEach((function(e){return e.setAttribute("target","_blank")}))})),(0,g.Z)((0,u.Z)(e),"removeNewLines",(function(e){if(e.length){var t=e.charAt(e.length-1);"\n"!==t&&"\r"!==t||(e=e.slice(0,-1))}return e})),(0,g.Z)((0,u.Z)(e),"setIDsForMdChilds",(function(){var t=e.markdownViewer.current.childNodes;Array.from(t).forEach((function(t){var n=b()(t.textContent);if(t.nodeType===Node.ELEMENT_NODE)t.dataset.id=n;else if(t.nodeType===Node.TEXT_NODE&&"\n"!==t.textContent){var r=(0,je.vq)(t,n);e.markdownViewer.current.replaceChild(r,t)}}))})),(0,g.Z)((0,u.Z)(e),"getCurrentSelection",(function(){var e,t,n,r,o;return null!==(e=null!==(t=null!==(n=null===(r=window)||void 0===r?void 0:r.getSelection())&&void 0!==n?n:null===(o=document)||void 0===o?void 0:o.getSelection())&&void 0!==t?t:document.selection.createRange().text)&&void 0!==e?e:null})),(0,g.Z)((0,u.Z)(e),"getTheme",(function(e){return K.Mp.includes(e)?j[K.OP[e]]:j[K.OP.default]})),(0,g.Z)((0,u.Z)(e),"promise",void 0),(0,g.Z)((0,u.Z)(e),"setContextMenuData",(function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(e.markdownViewer.current){var c=e.markdownViewer.current.getBoundingClientRect(),l=null,s=null,d=20;r-c.left>c.width/2?s=c.right-r+20:l=r-c.left+20;var u=e.props,p=u.isUsedInColumn,h=u.widthOfComp,f=u.widthOfOtherComp,g=u.positionedLeft;if(p){var m=100*c.width/h,v=m*f/100;s=s&&g?s+v:s,l=l&&!g?l+v:l,d=0}e.setState((function(e){return Me(Me({},e),{},{contextMenuData:{edit:n,coords:{left:l,right:s,bottom:c.height+d-(o-c.top),rect:c},range:t,touch:a,isInsideConcept:i}})}))}})),(0,g.Z)((0,u.Z)(e),"openEditHighlightMenu",(function(t,n){t.stopPropagation(),e.cancelSelection(),e.setContextMenuData(t.target,!0,n?t.changedTouches[0].clientX:t.clientX,n?t.changedTouches[0].clientY:t.clientY,n)})),(0,g.Z)((0,u.Z)(e),"openCreateHighlightMenuDebounced",x()((function(t){e.openCreateHighlightMenu(t)}))),(0,g.Z)((0,u.Z)(e),"openCreateHighlightMenu",(function(t){if(t.preventDefault(),e.markdownViewer.current){var n,r,o,a=e.touchEnabled,i=0;try{var c=e.getCurrentSelection();if(a&&!e.markdownViewer.current.contains(c.focusNode))return;if(null!==c&&void 0!==c&&c.focusNode&&!c.focusNode.tagName&&!c.isCollapsed&&c.focusNode.nodeType===Node.TEXT_NODE&&c.anchorNode&&c.anchorNode.nodeType===Node.TEXT_NODE&&""!==c.toString().trim()){var l,s,d,u=c.getRangeAt(0);if(!e.markdownViewer.current.contains(u.commonAncestorContainer))return;n=u.startContainer,r=u.endContainer,i=u.startOffset,o=null===(l=u.toString)||void 0===l?void 0:l.call(u).length;var p=Oe(u.startContainer),h=(null===(s=p.classList)||void 0===s||null===(d=s.contains)||void 0===d?void 0:d.call(s,"conceptBody"))&&p.contains(u.endContainer),f=u.getBoundingClientRect();e.setContextMenuData(u,!1,a?(f.right+f.left)/2:t.clientX,a?f.bottom:t.clientY,a,h)}else a||e.cancelSelection()}catch(w){var g=qe(r),m=n?e.getStartPoint(n.previousSibling,n.parentNode,i):{},v=m.mdChild_Id,b=void 0===v?"startContainer not found":v,y=m.offset,x=void 0===y?"startContainer not found":y;(0,N.u)(w,{startContainerDataId:b,endContainerDataId:g,startOffset:x,selectionLength:o}),console.error(w,"\n ERROR AT MARKDOWN VIEWER > openCreateHighlightMenu")}}})),(0,g.Z)((0,u.Z)(e),"highlightAll",(function(){var t=Me({},e.state.selections),n={},r=Array.from(e.markdownViewer.current.children).map((function(e){return e.getAttribute("data-id")}));Object.entries(t).forEach((function(t){var o=(0,l.Z)(t,2),a=o[0],i=o[1],c=e.markdownViewer.current.querySelector('[data-id="'.concat(a,'"]'));null==c&&Array.isArray(i)||Array.isArray(i)&&i.forEach((function(t){try{var o;n=Me(Me({},n),{},(0,g.Z)({},t.id,a));var i=null===(o=t.addMdChildNodes)||void 0===o?void 0:o.find((function(t){return null==e.markdownViewer.current.querySelector('[data-id="'.concat(t,'"]'))})),l=function(e,t){var n=r.indexOf(e);if(-1===n)return null;var o=n;if(Boolean(t)){var a,i=Ae(t);try{for(i.s();!(a=i.n()).done;){var c=a.value;if(++o>r.length||r[o]!==c)return!0}}catch(l){i.e(l)}finally{i.f()}}return!1}(a,t.addMdChildNodes);if(null!=i||l)return;var s=e.getToContainer(c.firstChild,t.range.firstPoint),d=s.node,u=s.offset,p=e.getToContainer(c.firstChild,t.range.lastPoint),h=p.node,f=p.offset,m=document.createRange();m.setStart(d,u),m.setEnd(h,f),e.applyHighlights(m,t.comment,t.id,null,0,0,t.askForHelpId)}catch(y){(0,N.u)(y,Me(Me({},t),{},{mdChild_Id:a})),(0,C.qP)(C.f2.INTERACTION,C.bt.INTERACTION_MD_HIGHLIGHT_NOTES_FAILED,"Highlight/Notes failed > highlightAll")}finally{var v,b;null===(v=(b=e.props).setMarkdownLoaded)||void 0===v||v.call(b,!0)}}))})),e.setState({selections:t,spanIdToMdChildIdMap:n})})),(0,g.Z)((0,u.Z)(e),"getToContainer",(function(t,n){if(t.firstChild)return e.getToContainer(t.firstChild,n);if(n<=t.textContent.length&&"\n"!==t.textContent)return{node:t,offset:n};if(t.nextSibling)return e.getToContainer(t.nextSibling,n-t.textContent.length);for(var r=t;!r.parentNode.nextSibling;)r=r.parentNode;return e.getToContainer(r.parentNode.nextSibling,n-t.textContent.length)})),(0,g.Z)((0,u.Z)(e),"editHighlight",(function(t,n){var r=Me({},e.state.selections),o=e.state.spanIdToMdChildIdMap,a=t.dataset.id,i=r[o[a]].findIndex((function(e){return e.id===a})),c=r[o[a]][i];c=De()(c,{comment:{$set:n}}),r=De()(r,(0,g.Z)({},o[a],(0,g.Z)({},i,{$set:c}))),n?(0,C.qP)(C.f2.INTERACTION,C.bt.INTERACTION_MD_NOTE_SAVED,"NoteSaved"):(0,C.qP)(C.f2.INTERACTION,C.bt.INTERACTION_MD_HIGHLIGHTED,"Highlighted"),e.setState({selections:r},(function(){e.saveHighlights();var t=e.markdownViewer.current.querySelectorAll('[data-id="'.concat(a,'"]'));Array.from(t).forEach((function(e){e.className=n?Fe:Be})),e.cancelSelection()}))})),(0,g.Z)((0,u.Z)(e),"removeHighlight",(function(t){var n=Me({},e.state.selections),r=e.state.spanIdToMdChildIdMap,o=t.dataset.id,a=r[o],i=n[a].findIndex((function(e){return e.id===o})),c=n[a][i],l=c.comment,s=t.parentNode,d=c.range,u=d.firstPoint,p=d.lastPoint;l?(e.props.logWidgetInteraction({interaction_touch_point:k.Uq,paragraph_id:a,first_point:u,last_point:p}),(0,C.qP)(C.f2.INTERACTION,C.bt.INTERACTION_MD_NOTE_REMOVED,"NoteRemoved")):(e.props.logWidgetInteraction({interaction_touch_point:k.ID,paragraph_id:a,first_point:u,last_point:p}),(0,C.qP)(C.f2.INTERACTION,C.bt.INTERACTION_MD_HIGHLIGHT_REMOVED,"HighlightRemoved")),l?(c=De()(c,{comment:{$set:null}}),n=De()(n,(0,g.Z)({},a,(0,g.Z)({},i,{$set:c})))):n=De()(n,(0,g.Z)({},a,{$splice:[[i,1]]})),e.setState({selections:n,contextMenuData:null},(function(){e.saveHighlights();var t=e.markdownViewer.current.querySelectorAll('[data-id="'.concat(o,'"]'));Array.from(t).forEach((function(e){l||e.parentNode.replaceChild(e.firstChild,e),e.className=Be})),s.normalize()}))})),(0,g.Z)((0,u.Z)(e),"createSpanForHighlight",(function(e,t){var n=document.createElement("span");return n.setAttribute("class",t),n.setAttribute("data-id",e),n})),(0,g.Z)((0,u.Z)(e),"createDivForAskForHelp",(function(e){var t=document.createElement("div");return t.setAttribute("id",e),t.setAttribute("class","inline-flex"),t})),(0,g.Z)((0,u.Z)(e),"createHighlight",(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{var o=null,a=e.getStartPoint(t.startContainer.previousSibling,t.startContainer.parentNode,t.startOffset),i=a.mdChild_Id,l=a.offset,s=l+t.toString().length,d=[],u=e.applyHighlights(t,n,o,d,l,s,r),p=u.spanId,h=u.updatedFirstPoint,f=u.updatedLastPoint,m=u.nodeText,v={id:p,comment:n,askForHelpId:r,range:{firstPoint:h,lastPoint:f},addMdChildNodes:d,highlightedText:m,version:1};e.setState((function(e){return Me(Me({},e),{},{selections:Me(Me({},e.selections),{},(0,g.Z)({},i,[].concat((0,c.Z)(e.selections[i]||[]),[v]))),spanIdToMdChildIdMap:Me(Me({},e.spanIdToMdChildIdMap),{},(0,g.Z)({},p,i))})}),(function(){e.saveHighlights(),e.cancelSelection(),n?(e.props.logWidgetInteraction({interaction_touch_point:k.N1,paragraph_id:i,first_point:h,last_point:f}),(0,C.qP)(C.f2.INTERACTION,C.bt.INTERACTION_MD_NOTE_SAVED,"NoteSaved")):(e.props.logWidgetInteraction({interaction_touch_point:k.sK,paragraph_id:i,first_point:h,last_point:f}),(0,C.qP)(C.f2.INTERACTION,C.bt.INTERACTION_MD_HIGHLIGHTED,"Highlighted"))}))}catch(b){(0,N.u)(b,{range:t.toString()}),(0,C.qP)(C.f2.INTERACTION,C.bt.INTERACTION_MD_HIGHLIGHT_NOTES_FAILED,"Highlight/Notes failed > createHighlight")}})),(0,g.Z)((0,u.Z)(e),"getStartPoint",(function(t,n,r){var o,a,i,c;return t?!e.isSpan(t)&&null!==t&&void 0!==t&&null!==(o=t.dataset)&&void 0!==o&&o.id?{mdChild_Id:t.dataset.id,offset:r}:e.getStartPoint(t.previousSibling,n,r+(null!==(a=null===(i=t.textContent)||void 0===i?void 0:i.length)&&void 0!==a?a:0)):!e.isSpan(n)&&null!==n&&void 0!==n&&null!==(c=n.dataset)&&void 0!==c&&c.id?e.getStartPoint(n,n.parentNode,r):e.getStartPoint(n.previousSibling,n.parentNode,r)})),(0,g.Z)((0,u.Z)(e),"applyHighlights",(function(t,n){var r,o,a,i,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,p=c||(0,S.x0)(),h=e.props.askForHelp[u],f=n?Fe:(null===h||void 0===h?void 0:h.status)===Ee.JH.RESOLVED?ze:u?Ve:Be,g=[],m=!1,v={nodesToFilter:[],endParentNode:Oe(t.endContainer),startParentNode:Oe(t.startContainer)},b=null===(r=v.endParentNode.classList)||void 0===r||null===(o=r.contains)||void 0===o?void 0:o.call(r,"conceptBody"),y=null===(a=v.startParentNode.classList)||void 0===a||null===(i=a.contains)||void 0===i?void 0:i.call(a,"conceptBody"),x=d,w=s;if(y){w-=t.startOffset-1,x-=v.startParentNode.textContent.length;var C=Se(v.startParentNode,v.startParentNode.nextSibling);t.setStart(C,0)}if(b){x-=t.endOffset;var k=Se(v.endParentNode,v.endParentNode.previousSibling,!1);t.setEnd(k,k.textContent.length)}for(var N=t.startContainer;!m;)if(!(m=e.findAllTextNodesinRange(N,t.endContainer,g,l,v.nodesToFilter))){for(;!N.parentNode.nextSibling;)N=N.parentNode;N=N.parentNode.nextSibling}var O=v.nodesToFilter.reduce((function(e,t){var n;return e+(null===(n=t.textContent)||void 0===n?void 0:n.length)}),0);x-=O,g[0].length>t.startOffset&&(g[0]=g[0].splitText(t.startOffset)),g[g.length-1].length>t.endOffset&&(g[g.length-1]=g[g.length-1].splitText(t.endOffset).previousSibling);var j="";return g=g.map((function(t){j="".concat(j).concat(t.textContent);var n=e.createSpanForHighlight(p,f),r=e.createDivForAskForHelp(p);return t.parentNode.insertBefore(r,t),t.parentNode.insertBefore(n,t),t.parentNode.removeChild(t),r.appendChild(t),n.appendChild(t),t.parentNode.onclick=function(t){return e.openEditHighlightMenu(t,!1)},t.parentNode.ontouchend=function(t){return e.openEditHighlightMenu(t,!0)},t})),{spanId:p,updatedFirstPoint:w,updatedLastPoint:x,nodeText:j}})),(0,g.Z)((0,u.Z)(e),"findAllTextNodesinRange",(function(t,n,r,o){for(var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i=!1;t&&!i;t=t.nextSibling){var c,l,s,d;if(null!==(c=t.classList)&&void 0!==c&&null!==(l=c.contains)&&void 0!==l&&l.call(c,"conceptBody"))a.push(t);else if(t.nodeType===Node.TEXT_NODE)"\n"!==t.data&&r.push(t),t.isSameNode(n)&&(i=!0);else o&&!e.isSpan(t)&&null!==(s=t)&&void 0!==s&&null!==(d=s.dataset)&&void 0!==d&&d.id&&o.push(t.dataset.id),i=e.findAllTextNodesinRange(t.firstChild,n,r,o,a)}return i})),(0,g.Z)((0,u.Z)(e),"isSpan",(function(e){return"span"===e.nodeName.toLowerCase()&&(e.className===Be||e.className===Fe||e.className===Ve||e.className===ze)})),(0,g.Z)((0,u.Z)(e),"cancelSelection",(function(){null!==e.state.contextMenuData&&e.setState({contextMenuData:null})})),(0,g.Z)((0,u.Z)(e),"stopRemoveSelection",(function(){e.setState({removeSelection:!1})})),(0,g.Z)((0,u.Z)(e),"saveHighlights",(function(){return e.props.saveHighlights({selections:e.state.selections})})),(0,g.Z)((0,u.Z)(e),"calculateBackgroundDetail",(function(t){if(e.props.backgroundColor&&!e.state.backgroundDetail){var n={left:e.parentDiv.current.getBoundingClientRect().left};e.setState({backgroundDetail:n},t)}else t()})),(0,g.Z)((0,u.Z)(e),"handleAskForHelp",(function(t){var n,o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=e.props.router,c=i.query,l=c.author_id,s=c.collection_id,d=c.page_id;return a?(null===(n=(o=e.props).handleContentBlockerClick)||void 0===n||n.call(o,a),null):(0,r.jsx)(Pe.default,{params:{callBacks:{successCallBack:function(n){var r=JSON.parse(n).askforhelp_id;e.createHighlight(t,null,r),e.props.loadAskForHelps(),e.props.dispatch(Ie.n.show(Te.zN,{title:"Ask For Help has been raised",description:"We have informed your mentor that you would like help with this task. You'll hear back from them soon. Meanwhile, you can explore other tasks.",styleType:"leftAligned",noButtons:!0})),(0,C.qP)(C.f2.ONBOARDING,C.bt.ASK_FOR_HELP)},failureCallBack:function(){e.props.dispatch(Ie.n.show(Te.ad,{status:"ERROR",text:"Unable to request for Ask For Help"}))}},buttonText:"Ask For Help",allowInput:!0,buttonLoadingText:"Asking...",placeholder:"Describe the problem you are experiencing, and what kind of help you need.",successMessage:"Ask For Help request sent.",characterLimit:600,url:"/api/askforhelpV2?content=true",type:"POST",showArrows:!1,data:{author_id:l,collection_id:s,page_id:d,path_author_id:i.query.path_author_id,path_id:i.query.path_id,organization_id:e.props.organizationId},feedbackRequired:!0}})})),e}return(0,d.Z)(o,[{key:"componentDidMount",value:function(){var e;this.enableHighlights&&(document.addEventListener("mousedown",this.handleOutsideClick),document.addEventListener("touchstart",this.enableTouch));var t=null===(e=this.props.router)||void 0===e?void 0:e.asPath.match(/#(.+)/);if(null!==t&&void 0!==t&&t[1])try{var n;null===(n=this.markdownViewer.current.querySelector('[id="'.concat(decodeURIComponent(t[1]),'"]')))||void 0===n||n.scrollIntoView()}catch(r){(0,N.u)(r)}this.updateView()}},{key:"componentDidUpdate",value:function(e){var t,n;this.enableHighlights=this.props.saveHighlights&&Ce(this.props.router),this.enableHighlights&&this.props===e||this.updateView((null===(t=e.readerPreferences)||void 0===t?void 0:t.themes)!==(null===(n=this.props.readerPreferences)||void 0===n?void 0:n.themes))}},{key:"componentWillUnmount",value:function(){this.enableHighlights&&(document.removeEventListener("mousedown",this.handleOutsideClick),this.touchEnabled&&(document.removeEventListener("selectionchange",this.openCreateHighlightMenuDebounced),document.removeEventListener("touchstart",this.handleOutsideClick)))}},{key:"setColorization",value:function(){var e=(0,i.Z)(a().mark((function e(){var t,n,r,o,i,c,l,s,d,u,p,h,f,g,m,v,b,y=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=y.length>0&&void 0!==y[0]&&y[0],r=(null===(t=this.props.readerPreferences)||void 0===t?void 0:t.themes)||"default",o="cm-viewer-markdown disable-cursor",!Array.from(this.markdownViewer.current.querySelectorAll("pre")).filter((function(e){return e.getAttribute("class")!==o})).length&&!n){e.next=40;break}return e.next=6,this.loadMonacoEditor();case 6:if(i=e.sent,c=(0,Ne.$z)({cookies:this.props.cookies,userInfo:this.props.userInfo,userInfoLoaded:this.props.userInfoLoaded}),l=c===R.gaB.DARK_MODE,s=null,!this.markdownViewer.current){e.next=40;break}d=Array.from(this.markdownViewer.current.querySelectorAll("pre")).filter((function(e){return e.getAttribute("class")!==o||n})),u=Ae(d),e.prev=13,u.s();case 15:if((p=u.n()).done){e.next=32;break}if(h=p.value,null!==(f=h.firstElementChild)&&void 0!==f&&f.textContent&&!(f.textContent.length<1)){e.next=20;break}return e.abrupt("continue",30);case 20:if(n||(h.setAttribute("class",o),g=f.getAttribute("class")?f.getAttribute("class").replace("language-",""):K.X9,s=(0,O.Yd)(null===g||void 0===g?void 0:g.toLowerCase()),f.setAttribute("data-lang",s)),m=this.removeNewLines(f.textContent),v=this.getTheme(r),b=this.props.collectionType===R.dLO.SKILL_ASSESSMENT?" color: ".concat("#0E3458",";"):"",h.setAttribute("style","background-color: ".concat(this.props.collectionType===R.dLO.SKILL_ASSESSMENT?l?"#1E1E27":"#FAFAFA":v.background,"; border-radius: 0px;").concat(b)),f.textContent=m,e.t0=this.props.collectionType!==R.dLO.SKILL_ASSESSMENT,!e.t0){e.next=30;break}return e.next=30,i.default.colorize(f,{theme:v.colorizeTheme});case 30:e.next=15;break;case 32:e.next=37;break;case 34:e.prev=34,e.t1=e.catch(13),u.e(e.t1);case 37:return e.prev=37,u.f(),e.finish(37);case 40:this.markdownViewer.current&&(this.props.openLinksInNewTab&&this.makeLinksToOpenInNewTab(),this.enableHighlights&&this.setIDsForMdChilds());case 41:case"end":return e.stop()}}),e,this,[[13,34,37,40]])})));return function(){return e.apply(this,arguments)}}()},{key:"updateView",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.renderCustomElements(),this.promise||(this.promise=this.setColorization(t),this.promise.then((function(){e.promise=null,e.calculateBackgroundDetail((function(){return e.setSelectionsFromSnapshot(e.props)}))})))}},{key:"renderCustomElements",value:function(){var e,t=this,n=null===(e=this.markdownViewer.current)||void 0===e?void 0:e.querySelectorAll("keyword, concept");Array.from(n).forEach(ye(this.props));var r=(0,ge.X)(this.markdownViewer.current);Array.from(r).forEach((function(e,n){ye(Me(Me({},t.props),{},{elemId:n}))(e)}))}},{key:"render",value:function(){var e=this.state,t=e.contextMenuData,n=e.selections,o=e.removeSelection,a=e.spanIdToMdChildIdMap,i=e.backgroundDetail,c=this.props,l=c.isShot,s=c.backgroundColor,d=c.isQuiz,u=c.isStructuredQuiz,p=c.structuredQuizTitle,h=c.isUsedInColumn,f=c.isPlan,g=c.config,m=c.isMentee,v=c.askForHelp,b=h?"100%":"auto",y=m||Object.keys(null!==v&&void 0!==v?v:{}).length>0;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(Y.HH,{className:u?"overflow-x-auto w-full":"markdown-container-div".concat(this.props.collectionType===R.dLO.SKILL_ASSESSMENT?"".concat(this.props.isStatement?" sm:px-10 my-6":" sm:px-4"," "):""),height:b,ref:this.parentDiv,children:[s&&i&&(0,r.jsx)("div",{style:{right:0,left:-1*i.left,top:0,bottom:0,width:"calc(100vw + ".concat(i.left,"px)"),position:"absolute",backgroundColor:s,zIndex:Z.Kv,height:b}}),t&&(!f||y)&&(0,r.jsx)(G,{ref:this.highlightContextMenu,closeMenu:this.cancelSelection,onHighlightCreate:this.createHighlight,onHighlightEdit:this.editHighlight,onHighlightRemove:this.removeHighlight,selections:n,spanToMdChild:a,menuData:t,removeSelection:!!o,onStopRemoveSelection:this.stopRemoveSelection,isPlan:f,handleAskForHelp:this.handleAskForHelp,isMentee:m,askForHelp:v}),d?(0,r.jsx)("span",{className:"text-base",children:(0,r.jsx)(Y.Wj,{structuredQuizTitle:p,className:"markdownViewerQuiz",ref:this.markdownViewer,role:"none",onMouseUp:this.enableHighlights&&!l?this.openCreateHighlightMenu:function(){},dangerouslySetInnerHTML:{__html:this.props.mdHtml}})}):(0,r.jsx)(Y.AE,{className:"markdownViewer".concat(this.props.collectionType===R.dLO.SKILL_ASSESSMENT?" flex-col px-4 sm:px-0":""),id:R.FzT?this.props.id:null,ref:this.markdownViewer,role:"none",onMouseUp:this.enableHighlights&&!l?this.openCreateHighlightMenu:function(){},renderedInTOC:this.props.renderedInTOC,setHeight:this.props.isUsedInColumn,dangerouslySetInnerHTML:{__html:this.props.mdHtml},alignCenter:this.props.alignCenter,isStatement:this.props.isStatement,collectionType:this.props.collectionType,isSlateHTML:this.props.isSlateHTML,isProjectPage:g.pageType===R.qen.PROJECT})]})})}}]),o}(m.Component);(0,g.Z)(We,"defaultProps",{openLinksInNewTab:!0,contentSnapshot:null,saveHighlights:null,docker:{container:{liveInstance:{}}},logWidgetInteraction:function(){return null},isShot:!1,backgroundColor:null,isQuiz:!1,isStructuredQuiz:!1,structuredQuizTitle:!1,renderedInTOC:!1,isUsedInColumn:!1,conceptIdBacktrace:[],widthOfComp:50,widthOfOtherComp:50,enableDiffElements:!1,isSlateHTML:!1,alignCenter:!1,isStatement:!1,collectionType:R.dLO.COLLECTION,isPlan:!1,config:{},askForHelp:{}});var Ge=(0,w.withRouter)(Ue((0,_e.Z)(We)))},13243:function(e,t,n){n.d(t,{Rp:function(){return r},S8:function(){return o},jD:function(){return a},xp:function(){return i},Rv:function(){return c},Uq:function(){return l},ID:function(){return s},N1:function(){return d},sK:function(){return u},UO:function(){return p},F2:function(){return h},w0:function(){return f},$F:function(){return g},pi:function(){return m},Wt:function(){return v}});var r="FILE_DOWNLOAD",o="FILE_OPEN",a="HINT_VIEW",i="HINT_HIDE",c="IMAGE_ZOOM",l="MD_NOTE_REMOVED",s="MD_HIGHLIGHT_REMOVED",d="MD_NOTE_SAVED",u="MD_HIGHLIGHTED",p="SOLUTION_VIEWED",h="RUN",f="JUDGE",g="MACHINE_ALLOCATE",m="CODE_EXECUTE",v="OUTPUT_GENERATE"},56445:function(e,t,n){n.d(t,{JH:function(){return S},jt:function(){return j},J0:function(){return P},Tj:function(){return ee},Ej:function(){return H},E2:function(){return A},Lb:function(){return J},Ll:function(){return z},Jr:function(){return E},nY:function(){return O},qO:function(){return X},cH:function(){return Z},IV:function(){return B},WQ:function(){return V},tO:function(){return Q},IX:function(){return $},$G:function(){return M},Uk:function(){return Y},HK:function(){return L},Pz:function(){return F},U$:function(){return W},is:function(){return G},Mv:function(){return K},rd:function(){return q},Gc:function(){return U},bJ:function(){return R}});var r,o=n(20348),a=n(33022),i=n(78050),c=n(9945),l=n(83200),s=n(49227),d=n(51726),u=n(61666),p=n(16962),h=n(12006),f=n(99672),g=n(8535),m=n(80944),v=n(48934),b=n(79694),y=n(5843),x=n(89703);function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var C,k=function(e){return x.createElement("svg",w({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 22H18C18.83 22 19.54 21.5 19.84 20.78L22.86 13.73C22.95 13.5 23 13.26 23 13V11C23 9.9 22.1 9 21 9H14.69L15.64 4.43L15.67 4.11C15.67 3.7 15.5 3.32 15.23 3.05L14.17 2L7.58 8.59C7.22 8.95 7 9.45 7 10V20C7 21.1 7.9 22 9 22ZM9 10L13.34 5.66L12 11H21V13L18 20H9V10ZM5 10H1V22H5V10Z",fill:"current"})))};function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var O,S,j,Z,D=function(e){return x.createElement("svg",N({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),C||(C=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 2H6C5.17 2 4.46 2.5 4.16 3.22L1.14 10.27C1.05 10.5 1 10.74 1 11V13C1 14.1 1.9 15 3 15H9.31L8.36 19.57L8.33 19.89C8.33 20.3 8.5 20.68 8.77 20.95L9.83 22L16.42 15.41C16.78 15.05 17 14.55 17 14V4C17 2.9 16.1 2 15 2ZM15 14L10.66 18.34L12 13H3V11L6 4H15V14ZM23 2H19V14H23V2Z",fill:"current"})))},_=n(18182),I=n(93389),T=n(73173),E="plan_filter",P={ADMIN_DASHBOARD:"admin",MANAGER_DASHBOARD:"manager",MENTOR_DASHBOARD:"dashboard",PLANS_DASHBOARD:"plans",MENTEE_DASHBOARD:"assigned-plans",DRAFTS_DASHBOARD:"drafts",MODULES_DASHBOARD:"modules"},A="Entity creation in progress",H=[{title:"Admin Dashboard",path:P.ADMIN_DASHBOARD},{title:"Manager Dashboard",path:P.MANAGER_DASHBOARD},{title:"Mentor Dashboard",path:P.MENTOR_DASHBOARD},{title:"Onboarding Plans",path:P.PLANS_DASHBOARD},{title:"Assigned Plans",path:P.MENTEE_DASHBOARD},{title:"Draft Plans",path:P.DRAFTS_DASHBOARD},{title:"Module Library",path:P.MODULES_DASHBOARD}],L=[{assignee:{first_name:"Assignee",full_name:"Assignee",id:1,profile_image:null},author_id:1,blockers:0,blocker:{},current_todo:{title:"Compilation Steps",url:"plan/page/1/1/1"},mentee:{first_name:"Harris",full_name:"Harris Chriss",id:1,profile_image:null},mentee_progress:97,mentor:{first_name:"You",full_name:"You",id:1,profile_image:null},plan_completion_date:null,plan_id:1,plan_start_date:"12/12/2021 5:38:10 PM UTC",plan_title:"Dev Onboarding",plan_assessment_count:2,passed_assessment_count:1},{assignee:{first_name:"Assignee",full_name:"Assignee",id:1,profile_image:null},author_id:1,blockers:1,blocker:{title:"Our Product",url:"plan/page/1/1/1"},current_todo:{title:"Compilation Steps",url:"plan/page/1/1/1"},mentee:{first_name:"Chriss",full_name:"Chriss Harris",id:1,profile_image:null},mentee_progress:19,mentor:{first_name:"Someone",full_name:"Someone",id:1,profile_image:null},plan_completion_date:null,plan_id:1,plan_start_date:"12/11/2021 5:38:10 PM UTC",plan_title:"PM Onboarding",plan_assessment_count:2,passed_assessment_count:1}],M={default:3,1124:2,790:1},R=(0,a.iv)([".width-auto{width:auto !important;}"]),B=9,F={resizable:!0,cellClass:"ag-cell-styles",cellStyle:{"white-space":"normal"}},V="text-xs font-semibold tracking-wider m-0",z="text-primary hover:!text-black focus:text-black dark:text-primary-light dark:hover:!text-dark-contrastText dark:focus:text-dark-contrastText cursor-pointer m-0",U=function(e,t){return(0,u.Cr)(e,!0,t)},q=function(e){return(0,u.ZP)(new Date(e),"DD MMM YYYY",!1)},W=function(e){var t=e.data,n=e.agGridReact.props.columnDefs;return(0,o.jsxs)("div",{className:"flex flex-col justify-start space-y-3",children:[n[0].mobileRendererFramework({data:t}),(0,o.jsx)("span",{className:"block sm:hidden space-y-3",children:n.slice(1).map((function(e){var n,r=e.cellRendererFramework,a=e.mobileRendererFramework;return(null!==(n=null!==a&&void 0!==a?a:r)&&void 0!==n?n:function(){return(0,o.jsx)(o.Fragment,{})})({data:t})}))})]})},G=function(e){var t=[],n=[];return e.forEach((function(e){e.blockers?t.push(e):n.push(e)})),t.sort((function(e,t){return e.blockers>t.blockers?1:-1})),n.sort((function(e,t){return e.mentee_progress>t.mentee_progress?1:-1})),t.concat(n)},K=function(e){return e.sort((function(e,t){return new Date(e.last_updated).getTime()<new Date(t.last_updated).getTime()?1:-1}))},Y=function(e,t){return e>t?1:e<t?-1:0},X=function(e){var t=e.author_id,n=e.callback,r=e.canUnassign,a=void 0!==r&&r,u=e.isDataEmpty,f=void 0!==u&&u,v=e.mentee,y=e.organizationId,x=e.plan_id,w=e.handleChangeMentor,C=void 0===w?null:w,k=(0,d.TL)(),N=(0,l.useRouter)(),O="".concat((0,g.Z)(t,x,null,!1,s.dLO.PLAN),"/mentee/").concat(v.id);return(0,o.jsx)(i.Z,{backgroundColor:"bg-white border-white dark:bg-dark-90 dark:border-dark-90",id:T.env.REACT_APP_STANDALONE?"selenium-more-vertical":null,overlay:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(c.default,{prefetch:!1,href:O,children:(0,o.jsx)("a",{className:"bg-transparent block leading-6 p-3 ".concat(f?"pointer-events-none text-gray-500":"cursor-pointer"),id:"more-options",onClick:function(e){e.preventDefault(),N.push(O)},children:"View Details"})}),a&&(0,o.jsx)("button",{className:"bg-white dark:bg-dark-90 leading-6 p-3 ".concat(f?"pointer-events-none text-gray-500":"cursor-pointer dark:text-error-light text-error"),onClick:function(){return function(e,t,n,r,o,a){return n(p.n.show(h.zN,{styleType:"leftAligned",title:"Unassign this Plan",description:"By unassigning this plan, you will no longer be able to track this team member's progress on your dashboard",confirmText:"Unassign Plan",cancelText:"Cancel",onConfirm:function(){return(0,m.h$)({orgId:o,userId:r,planList:[{author_id:e,work_id:a}]}).then(t).catch((function(){return n(p.n.show(h.ad,{status:"ERROR",text:"Unable to un assign plan"}))}))},onCancel:function(){return p.n.close()},closeModal:function(){return p.n.close()}}))}(t,n,k,v.id,y,x)},children:"Unassign Plan"}),!!C&&(0,o.jsx)("button",{className:"bg-white dark:bg-dark-90 dark:text-dark-contrastText leading-6 p-3 text-black",onClick:function(){return C(y,x,t,v)},children:"Change Mentor"})]}),overlayParentTextClasses:"flex flex-col text-sm",overlayParentTextColorClasses:"text-black dark:text-dark-contrastText",parentClasses:"bg-transparent cursor-pointer dark:hover:bg-dark-60 dark:text-dark-contrastText flex items-center justify-center p-1 text-gray-300",position:s.xRW,rootClose:!0,showPointer:!1,trigger:s.t4j,children:(0,o.jsx)(b.Z,{className:"h-6 stroke-current w-6"})})},Q=function(e){var t,n=e.author_id,r=e.plan_id,a=e.blocker,i=e.blockers,c=e.current_todo,u=e.isAdmin,m=void 0!==u&&u,b=e.isDataEmpty,x=void 0!==b&&b,w=e.mentee,C=e.mentee_progress,k=e.isTrialReadOnlyMode,N=void 0!==k&&k,O=(0,l.useRouter)(),S=(0,d.TL)(),j="".concat((0,g.Z)(n,r,null,!1,s.dLO.PLAN),"/mentee/").concat(w.id),Z=i?"".concat(a.url,"/mentee/").concat(w.id):c.url;return(0,o.jsxs)("div",{className:"flex flex-col space-y-2 ".concat(x?"pointer-events-none":"cursor-pointer"),style:{width:"375px"},onClick:function(){return N?S(p.n.show(h.Fc)):O.push({pathname:j,query:{scroll_link:Z}})},children:[(0,o.jsxs)("span",{className:"flex justify-between ".concat(V),children:[C>=100?(0,o.jsxs)("div",{className:"flex justify-between mt-2",children:[(0,o.jsx)(y.Z,{className:"fill-current text-primary-success mt-1"}),(0,o.jsx)("p",{className:"ml-2 mt-2",children:"Completed"})]}):(0,o.jsx)("p",{className:"m-0",children:(t=C,"".concat(Math.floor(t),"%"))}),!!i&&(0,o.jsxs)("span",{className:"flex items-center space-x-3",children:[(0,o.jsxs)("p",{className:"m-0",children:[m?"View":"Resolve"," Blocker",i>1?"s":""," ",i>1&&"(".concat(i,")")]}),(0,o.jsx)(v.Z,{className:"stroke-current"})]})]}),C<100&&(0,o.jsx)(f.Z,{percentCompleted:C,classes:"w-full",backgroundColor:"bg-gray-200 dark:bg-gray-A100",color:i?"bg-black dark:bg-gray-500":"bg-primary-success"}),(0,o.jsx)("p",{className:V,children:C<100&&"".concat(i?"Blocked On":"TASK",": ").concat(Object.keys(a).length?a.title:c.title)})]})},$=function(e){var t=e.organizationId,n=(0,d.TL)();return(0,o.jsxs)("div",{className:"flex items-center sm:space-x-2",children:[(0,o.jsx)("p",{className:"m-0 text-gray-800 font-bold tailwind-hidden sm:block",children:"Was this helpful?"}),(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("button",{className:"icon-default",onClick:function(){return(0,I.wS)(n,t,!0)},children:(0,o.jsx)(k,{className:"fill-current"})}),(0,o.jsx)("button",{className:"icon-default",onClick:function(){return(0,I.wS)(n,t,!1)},children:(0,o.jsx)(D,{className:"fill-current"})})]})]})},J=function(e){var t=e.onClick,n=e.selected,r=e.text;return(0,o.jsxs)("button",{className:"bg-white dark:bg-dark text-base rounded-3xl border border-solid text-black dark:text-dark-contrastText font-bold text-center px-3 mt-1 h-12 ".concat(n?"border-primary dark:border-primary-light bg-primary-lightP2 dark:bg-gray-A400 dark:hover:bg-gray-A100":"border-gray-500 dark:border-gray-A100 dark:hover:bg-gray-A100"),onClick:t,children:[n&&(0,o.jsx)(_.Z,{className:"w-6 h-6 text-primary dark:text-dark-contrastText fill-current mr-2.5"}),r]})},ee={showTotalValue:!0,showDataLabels:!1,size:75,width:354,height:250,labelColor:"#4C4C5C",darkLabelColor:"#B0B0B7",showStroke:!0,showDarkPlotOptions:!0,showTooltip:!1,showCustomStates:!0,states:{hover:{filter:{type:"darken",value:.85}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.35}}}};!function(e){e[e.DRAFT=0]="DRAFT",e[e.PUBLISHED=1]="PUBLISHED"}(O||(O={})),function(e){e[e.INITIATED=3e3]="INITIATED",e[e.RESOLVED=3001]="RESOLVED"}(S||(S={})),function(e){e.TASK="task",e.CONTENT="content"}(j||(j={})),function(e){e.CREATE_AND_ASSIGN_PLAN_FLOW="CREATE_AND_ASSIGN_PLAN_FLOW",e.MANAGER_AND_BLOCKER_FLOW="MANAGER_AND_BLOCKER_FLOW"}(Z||(Z={}))},80464:function(e,t,n){n.d(t,{Z:function(){return I}});var r=n(20348),o=n(64537),a=n(88753),i=n.n(a),c=n(52198),l=n(30645),s=n(79003),d=n(70989),u=n(58055),p=n(31428),h=n(27018),f=n(29799),g=n(93586),m=n(89703),v=n(78854),b=n(84283),y=n(48941);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,g.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C=function(e,t){return"/api/author/".concat(e,"/collection/").concat(t,"/concept")},k=function(e){var t,n,r;if(null===(t=e())||void 0===t||null===(n=t.author)||void 0===n||null===(r=n.concepts)||void 0===r||!r.data)throw Error("Concepts were not loaded")},N=function(e){var t=e.authorId,n=e.collectionId,r=e.name,o=e.comps;return function(e,a){var i=JSON.stringify(o);return(0,b.Z)({url:C(t,n),type:"POST",data:{name:r,json_data:i}}).then(JSON.parse).then((function(t){var n=t.id,i=t.usage_count;k(a),e(y._.update({id:n,name:r,comps:o,usageCount:i}))}))}},O=function(e){var t=e.authorId,n=e.collectionId,r=e.conceptId,o=e.name,a=e.comps;return function(e,i){var c=a&&JSON.stringify(a);return(0,b.Z)({url:C(t,n)+"/".concat(r),type:"PUT",data:w(w({},o&&{name:o}),c&&{json_data:c})}).then(JSON.parse).then((function(t){var n=t.usage_count;k(i),e(y._.update({id:r,name:o,comps:a,usageCount:n}))}))}},S=function(e){var t=e.authorId,n=e.collectionId,r=e.conceptId;return function(e,o){return(0,b.Z)({url:C(t,n)+"/".concat(r),type:"DELETE"}).then((function(){k(o),e(y._.remove({id:r}))}))}},j=n(12006);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){(0,g.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.Z)(e);if(t){var o=(0,f.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,h.Z)(this,n)}}var I=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=function(e,n){var r,o,a=e.author,i=e.modals,c=a.concepts,l=c.loaded,s=c.loading,d=c.data,u=c.error,p=null,h=null;t?(p=null===n||void 0===n||null===(r=n.params)||void 0===r?void 0:r.authorId,h=null===n||void 0===n||null===(o=n.params)||void 0===o?void 0:o.collectionId):(p=null===n||void 0===n?void 0:n.authorId,h=null===n||void 0===n?void 0:n.collectionId);var f=i.typeToShow;return{conceptProviderStateProps:{authorId:p,collectionId:h,shouldLoadConcepts:!l&&!s,conceptsLoading:s,concepts:i.showModal&&f===j.xh?{conceptName:{id:0,usageCount:1,comps:[{hash:0,mode:"view",type:"MarkdownEditor",content:{version:"2.0",text:"Markdown Help Concept",mdHtml:"<p>Markdown Help Concept</p>",cursorPosition:{line:0,ch:0}}}]}}:d,error:u}}},a=function(e){return{conceptProviderDispatchProps:{loadConceptNames:function(t){e(y._.loadMetadata(t))},loadConcept:function(t){e(y._.load(t))},createConcept:function(t){return e(N(t))},editConcept:function(t){return e(O(t))},deleteConcept:function(t){return e(S(t))},dispatch:e}}},h=(0,v.$j)(n,a),f=function(t){(0,p.Z)(a,t);var n=_(a);function a(){var e;(0,s.Z)(this,a);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return e=n.call.apply(n,[this].concat(r)),(0,g.Z)((0,u.Z)(e),"getConcepts",(function(){var t=e.props.conceptProviderStateProps,n=t.concepts,r=t.error;return void 0===n?D({loaded:!1},r&&{error:r}):{loaded:!0,concepts:n}})),(0,g.Z)((0,u.Z)(e),"getConceptByName",(function(t){var n=e.props.conceptProviderStateProps,r=n.authorId,o=n.collectionId,a=n.concepts,i=n.conceptsLoading,c=n.error,l=e.props.conceptProviderDispatchProps.loadConcept;if(void 0===a)return D({loaded:!1},c&&{error:c});var s=a[t];if(void 0===s)return{loaded:!0};var d=s.id,u=s.comps,p=s.usageCount;if(void 0===u){if(r&&o&&!i)l({authorId:r,collectionId:o,conceptId:d,published:!e.props.isDraft});return D({loaded:!1},c&&{error:c})}return{loaded:!0,concept:{id:d,comps:u,usageCount:p}}})),(0,g.Z)((0,u.Z)(e),"getConceptById",(function(t){var n=e.props.conceptProviderStateProps,r=n.authorId,o=n.collectionId,a=n.concepts,i=n.conceptsLoading,c=n.error,s=e.props.conceptProviderDispatchProps.loadConcept;if(void 0===a)return D({loaded:!1},c&&{error:c});var d=Object.entries(a).find((function(e){var n=(0,l.Z)(e,2);n[0];return n[1].id===t}));if(void 0===d)return{loaded:!0};var u=(0,l.Z)(d,2),p=u[0],h=u[1],f=h.comps,g=h.usageCount;if(void 0===f){if(r&&o&&!i){var m=!e.props.isDraft;s({authorId:r,collectionId:o,conceptId:t,published:m})}return D({loaded:!1},c&&{error:c})}return{loaded:!0,concept:{name:p,comps:f,usageCount:g}}})),(0,g.Z)((0,u.Z)(e),"getConceptNameById",(function(t){var n=e.props.conceptProviderStateProps,r=n.concepts,o=n.error;if(void 0===r)return D({loaded:!1},o&&{error:o});var a=Object.entries(r).find((function(e){var n=(0,l.Z)(e,2);n[0];return n[1].id===t}));return void 0===a?{loaded:!0}:{loaded:!0,name:(0,l.Z)(a,1)[0]}})),(0,g.Z)((0,u.Z)(e),"getConceptIdByName",(function(t){var n=e.props.conceptProviderStateProps,r=n.concepts,o=n.error;if(void 0===r)return D({loaded:!1},o&&{error:o});var a=r[t];return void 0===a?{loaded:!0}:{loaded:!0,id:a.id}})),(0,g.Z)((0,u.Z)(e),"errorPromise",function(){var e=(0,c.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw Error(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,g.Z)((0,u.Z)(e),"createConcept",(function(t,n){var r=(0,u.Z)(e).errorPromise,o=e.props.conceptProviderStateProps,a=o.authorId,i=o.collectionId,c=e.props.conceptProviderDispatchProps.createConcept;return a&&i?c({authorId:a,collectionId:i,name:t,comps:n}):r("Not ready to create")})),(0,g.Z)((0,u.Z)(e),"editConcept",(function(t,n,r){var o=(0,u.Z)(e).errorPromise,a=e.props.conceptProviderStateProps,i=a.authorId,c=a.collectionId,l=e.props.conceptProviderDispatchProps.editConcept;return i&&c?l({authorId:i,collectionId:c,conceptId:t,name:n,comps:r}):o("Not ready to edit")})),(0,g.Z)((0,u.Z)(e),"deleteConcept",(function(t){var n=(0,u.Z)(e).errorPromise,r=e.props.conceptProviderStateProps,o=r.authorId,a=r.collectionId,i=e.props.conceptProviderDispatchProps.deleteConcept;return o&&a?i({authorId:o,collectionId:a,conceptId:t}):n("Not ready to delete")})),e}return(0,d.Z)(a,[{key:"componentDidMount",value:function(){var e=this.props.conceptProviderStateProps,t=e.authorId,n=e.collectionId,r=e.shouldLoadConcepts,o=this.props.conceptProviderDispatchProps.loadConceptNames;t&&n&&r&&o({authorId:t,collectionId:n,published:!this.props.isDraft})}},{key:"componentDidUpdate",value:function(e){var t=this.props.conceptProviderStateProps,n=t.authorId,r=t.collectionId,o=t.shouldLoadConcepts,a=e.conceptProviderStateProps,i=a.authorId,c=a.collectionId,l=this.props.conceptProviderDispatchProps.loadConceptNames;n&&r&&(n!==i||r!==c)&&o&&l({authorId:n,collectionId:r,published:!this.props.isDraft})}},{key:"render",value:function(){var t=this.props,n=(t.conceptProviderStateProps,t.conceptProviderDispatchProps),a=(0,o.Z)(t,["conceptProviderStateProps","conceptProviderDispatchProps"]),i={getConcepts:this.getConcepts,getConceptById:this.getConceptById,getConceptByName:this.getConceptByName,getConceptNameById:this.getConceptNameById,getConceptIdByName:this.getConceptIdByName,createConcept:this.createConcept,editConcept:this.editConcept,deleteConcept:this.deleteConcept,dispatch:n.dispatch},c=D(D({},a),i);return(0,r.jsx)(e,D({},c))}}]),a}(m.Component);return(0,g.Z)(f,"defaultProps",{isDraft:!0}),h(f)}},46362:function(e,t,n){n.d(t,{ms:function(){return d},_e:function(){return u},Yd:function(){return p}});var r=n(93586),o=n(59818),a=n.n(o);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l={tsx:"typescript",jsx:"javascript",mjs:"javascript",asm:"gap"},s={cpp:"cpp",cs:"csharp",hs:"haskell",ocaml:"ocaml",erl:"erlang",kt:"kotlin",scss:"scss",sass:"sass-original",php:"php",re:"c",rs:"rust",sql:"sql",jenkinsfile:"groovy",asm:"assembly",vue:"html",svelte:"html",bzl:"python",bazel:"python"},d=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t?c(c({},l),s):l;try{var r=e.split(".").pop();if(n[r])return n[r];var o=a().languages(r);return o[0]}catch(i){return null}},u=function(e){var t,n=e.selectedIndex,r=e.additionalContent;return n>0&&n<=r.length?null===r||void 0===r||null===(t=r[n-1])||void 0===t?void 0:t.fileName:null===e||void 0===e?void 0:e.entryFileName},p=function(e){switch(e){case"python3":return"python";case"c++":return"cpp";case"c#":return"csharp";case"jenkinsfile":return"groovy";case"js":return"javascript";case"py":return"python";case"erl":return"erlang";case"sass":return"sass-original";default:return s[e]||l[e]||e}}},39241:function(e,t,n){var r,o=n(89703);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return o.createElement("svg",a({width:24,height:24,viewBox:"0 0 24 24",fill:"current",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.7 3a1 1 0 00-.7.3L15 5 19 9 20.7 7c.4-.3.4-1 0-1.4l-2.3-2.3a1 1 0 00-.7-.3zM14 9l.9 1-9 9H5v-1l9-9zM3 17.3L14 6.2l3.8 3.7L6.8 21H3v-3.8z"})))}},33701:function(e,t,n){var r,o=n(89703);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return o.createElement("svg",a({width:18,height:22,viewBox:"0 0 18 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"fill-current"},e),r||(r=o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 0.5H16C17.1 0.5 18 1.4 18 2.5V16.5C18 17.6 17.1 18.5 16 18.5H12L9 21.5L6 18.5H2C0.89 18.5 0 17.6 0 16.5V2.5C0 1.4 0.89 0.5 2 0.5ZM11.17 16.5H16V2.5H2V16.5H6.83L7.41 17.08L9 18.67L10.58 17.09L11.17 16.5ZM8.16675 5.2H9.83342V10.2H8.16675V5.2ZM9.83342 11.8665H8.16675V13.5332H9.83342V11.8665Z"})))}}}]);
//# sourceMappingURL=92169-209a0219efe794384d1a.js.map